"use strict";(self.webpackChunkStylistWidget=self.webpackChunkStylistWidget||[]).push([[5342],{448:function(n,t,r){r.d(t,{r:function(){return a}});var e=r(50259),o=r(45119);function a(n,t="float32",r){return t=t||"float32",o.SA(n),new e.yl(n,t,r)}},919:function(n,t,r){r.d(t,{e:function(){return l}});var e=r(30565),o=r(28189),a=r(89359),i=r(13020),s=r(70929),u=r(12151),c=r(55537);const l=(0,s.op)({divNoNan_:function(n,t){let r=(0,o.YT)(n,"a","div"),s=(0,o.YT)(t,"b","div");[r,s]=(0,e.makeTypesMatch)(r,s);const l=(0,a.y)(r,s),h=(0,c.P)(l),p=(0,i.L)(s,h);return(0,u._)(p,h,l)}})},3701:function(n,t,r){r.d(t,{k:function(){return c}});var e=r(28189),o=r(45119),a=r(28794),i=r(47195),s=r(70929),u=r(62302);const c=(0,s.op)({conv1d_:function(n,t,r,s,c="NWC",l=1,h){const p=(0,e.YT)(n,"x","conv1d"),f=(0,e.YT)(t,"filter","conv1d");let d=p,m=!1;2===p.rank&&(m=!0,d=(0,u.t)(p,[1,p.shape[0],p.shape[1]])),o.vA(3===d.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${d.rank}.`)),o.vA(3===f.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${f.rank}.`)),null!=h&&o.vA(o.E6(s),(()=>`Error in conv1d: pad must be an integer when using, dimRoundingMode ${h} but got pad ${s}.`)),o.vA(d.shape[2]===f.shape[1],(()=>`Error in conv1d: depth of input (${d.shape[2]}) must match input depth for filter ${f.shape[1]}.`)),o.vA(i.G0(r,l),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${r} and dilation '${l}'`)),o.vA("NWC"===c,(()=>`Error in conv1d: got dataFormat of ${c} but only NWC is currently supported.`));const v=(0,u.t)(f,[1,f.shape[0],f.shape[1],f.shape[2]]),g=(0,u.t)(d,[d.shape[0],1,d.shape[1],d.shape[2]]),k=[1,r],b=[1,l],T=(0,a.X)(g,v,k,s,"NHWC",b,h);return m?(0,u.t)(T,[T.shape[2],T.shape[3]]):(0,u.t)(T,[T.shape[0],T.shape[2],T.shape[3]])}})},4888:function(n,t,r){r.d(t,{t:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({abs_:function(n){const t=(0,a.YT)(n,"x","abs");if("complex64"===t.dtype){const n={x:t};return e.T2.runKernel(o.$z,n)}{const n={x:t};return e.T2.runKernel(o.lj,n)}}})},8631:function(n,t,r){r.d(t,{o:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({exp_:function(n){const t={x:(0,a.YT)(n,"x","exp")};return e.T2.runKernel(o.ox,t)}})},8710:function(n,t,r){r.d(t,{U:function(){return s}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119);const s=(0,r(70929).op)({expandDims_:function(n,t=0){const r=(0,a.YT)(n,"x","expandDims","string_or_numeric");i.vA(t<=r.rank,(()=>"Axis must be <= rank of the tensor"));const s={input:r},u={dim:t};return e.T2.runKernel(o.yb,s,u)}})},9160:function(n,t,r){r.d(t,{$:function(){return u}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119),s=r(62302);const u=(0,r(70929).op)({batchNorm_:function(n,t,r,u,c,l){null==l&&(l=.001);const h=(0,a.YT)(n,"x","batchNorm"),p=(0,a.YT)(t,"mean","batchNorm"),f=(0,a.YT)(r,"variance","batchNorm");let d,m;null!=c&&(d=(0,a.YT)(c,"scale","batchNorm")),null!=u&&(m=(0,a.YT)(u,"offset","batchNorm")),i.vA(p.rank===f.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),i.vA(null==m||p.rank===m.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),i.vA(null==d||p.rank===d.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const v={x:function(n){let t;return t=0===n.rank||1===n.rank?(0,s.t)(n,[1,1,1,n.size]):2===n.rank?(0,s.t)(n,[1,1,n.shape[0],n.shape[1]]):3===n.rank?(0,s.t)(n,[1,n.shape[0],n.shape[1],n.shape[2]]):n,t}(h),scale:d,offset:m,mean:p,variance:f},g={varianceEpsilon:l},k=e.T2.runKernel(o.i5,v,g);return(0,s.t)(k,h.shape)}})},10601:function(n,t,r){r.d(t,{s:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({diag_:function(n){const t={x:(0,a.YT)(n,"x","diag")};return e.T2.runKernel(o.OR,t)}})},10676:function(n,t,r){r.d(t,{G:function(){return c}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119),s=r(70929),u=r(62302);const c=(0,s.op)({depthwiseConv2d_:function(n,t,r,s,c="NHWC",l=[1,1],h){const p=(0,a.YT)(n,"x","depthwiseConv2d"),f=(0,a.YT)(t,"filter","depthwiseConv2d");let d=p,m=!1;3===p.rank&&(m=!0,d=(0,u.t)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),i.vA(4===d.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${d.rank}.`)),i.vA(4===f.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${f.rank}.`)),i.vA(d.shape[3]===f.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${d.shape[3]}) must match the inChannels dimension in filter ${f.shape[2]}.`)),null!=h&&i.vA(i.E6(s),(()=>`Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode ${h} but got pad ${s}.`));const v={x:d,filter:f},g={strides:r,pad:s,dataFormat:c,dilations:l,dimRoundingMode:h},k=e.T2.runKernel(o.tG,v,g);return m?(0,u.t)(k,[k.shape[1],k.shape[2],k.shape[3]]):k}})},10897:function(n,t,r){r.d(t,{F:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({argMax_:function(n,t=0){const r={x:(0,a.YT)(n,"x","argMax")},i={axis:t};return e.T2.runKernel(o.Jp,r,i)}})},11418:function(n,t,r){r.d(t,{HM:function(){return e},T4:function(){return o},_7:function(){return a},fE:function(){return u},fp:function(){return i},mg:function(){return s}});const e=.3275911,o=.254829592,a=-.284496736,i=1.421413741,s=-1.453152027,u=1.061405429},12307:function(n,t,r){r.d(t,{Q:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({all_:function(n,t=null,r=!1){const i={x:(0,a.YT)(n,"x","all","bool")},s={axis:t,keepDims:r};return e.T2.runKernel(o.u8,i,s)}})},12789:function(n,t,r){r.d(t,{L:function(){return o},P:function(){return a}});var e=r(45119);function o(n,t){const r=n[0].length;n.forEach(((n,t)=>{e.vA(n.length===r,(()=>`Error in concat${r}D: rank of tensors[${t}] must be the same as the rank of the rest (${r})`))})),e.vA(t>=0&&t<r,(()=>`Error in concat${r}D: axis must be between 0 and ${r-1}.`));const o=n[0];n.forEach(((n,a)=>{for(let i=0;i<r;i++)e.vA(i===t||n[i]===o[i],(()=>`Error in concat${r}D: Shape of tensors[${a}] (${n}) does not match the shape of the rest (${o}) along the non-concatenated axis ${a}.`))}))}function a(n,t){const r=n[0].slice();for(let e=1;e<n.length;e++)r[t]+=n[e][t];return r}},12804:function(n,t,r){r.d(t,{H:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({acos_:function(n){const t={x:(0,a.YT)(n,"x","acos")};return e.T2.runKernel(o.Vv,t)}})},13020:function(n,t,r){r.d(t,{L:function(){return u}});var e=r(67897),o=r(15441),a=r(30565),i=r(28189),s=r(62198);const u=(0,r(70929).op)({equal_:function(n,t){let r=(0,i.YT)(n,"a","equal"),u=(0,i.YT)(t,"b","equal");[r,u]=(0,a.makeTypesMatch)(r,u),(0,s.Ky)(r.shape,u.shape);const c={a:r,b:u};return e.T2.runKernel(o.BR,c)}})},13620:function(n,t,r){r.d(t,{B:function(){return i}});var e=r(28189),o=r(45119),a=r(9160);const i=(0,r(70929).op)({batchNorm2d_:function(n,t,r,i,s,u){const c=(0,e.YT)(n,"x","batchNorm"),l=(0,e.YT)(t,"mean","batchNorm"),h=(0,e.YT)(r,"variance","batchNorm");let p,f;return null!=s&&(p=(0,e.YT)(s,"scale","batchNorm")),null!=i&&(f=(0,e.YT)(i,"offset","batchNorm")),o.vA(2===c.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${c.rank}.`)),o.vA(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${l.rank}.`)),o.vA(2===h.rank||1===h.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${h.rank}.`)),null!=p&&o.vA(2===p.rank||1===p.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${p.rank}.`)),null!=f&&o.vA(2===f.rank||1===f.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${f.rank}.`)),(0,a.$)(c,l,h,f,p,u)}})},16054:function(n,t,r){r.d(t,{Q:function(){return s}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119);const s=(0,r(70929).op)({addN_:function(n){i.vA(Array.isArray(n),(()=>"The argument passed to tf.addN() must be a list of tensors")),i.vA(n.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${n.length}`));const t=n.map(((n,t)=>(0,a.YT)(n,`tensors${t}`,"addN"))),r=t[0];t.forEach((n=>{if(n.dtype!==r.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((n=>{if(!i.r1(n.shape,r.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const s=t;return e.T2.runKernel(o.Ek,s)}})},19457:function(n,t,r){r.d(t,{E:function(){return p}});var e=r(50259),o=r(28189),a=r(45119),i=r(37523),s=r(89359);var u=r(15606),c=r(9258),l=r(70929),h=r(79546);const p=(0,l.op)({dropout_:function(n,t,r,l){const p=(0,o.YT)(n,"x","dropout");if(a.vA("float32"===p.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${p.dtype} tensor instead.`)),a.vA(t>=0&&t<1,(()=>`rate must be a float in the range [0, 1), but got ${t}.`)),0===t)return n instanceof e.qY?p.clone():p;const f=function(n,t){if(null==t)return n.shape.slice();if(a.r1(n.shape,t))return t;if(n.shape.length===t.length){const r=[];for(let e=0;e<n.shape.length;e++)null==t[e]&&null!=n.shape[e]?r.push(n.shape[e]):r.push(t[e]);return r}return t}(p,r),d=1-t,m=(0,s.y)((0,u.R)((0,i.W)((0,h.Y)(f,0,1,"float32",l),d)),d);return(0,c.l)(p,m)}})},19879:function(n,t,r){r.d(t,{R:function(){return o}});var e=r(25030);const o=(0,r(70929).op)({concat2d_:function(n,t){return(0,e.x)(n,t)}})},21078:function(n,t,r){r.d(t,{Em:function(){return c},SM:function(){return s},WC:function(){return u},WH:function(){return o},aF:function(){return a},fK:function(){return h},gx:function(){return l},lb:function(){return i}});var e=r(45119);function o(n,t){for(let r=0;r<n.length;++r)if(n[n.length-r-1]!==t-1-r)return!1;return!0}function a(n,t,r){const e=n.length+t.length,o=[];let a=0,i=0;for(let s=0;s<e;s++)-1===r.indexOf(s)?o.push(n[a++]):o.push(t[i++]);return o}function i(n,t){const r=[],e=n.length;for(let o=0;o<e;o++)-1===t.indexOf(o)&&r.push(n[o]);return[r,t.map((t=>n[t]))]}function s(n,t){return a(n,t.map((n=>1)),t)}function u(n,t,r){e.vA(o(t,r),(()=>`${n} supports only inner-most axes for now. Got axes ${t} and rank-${r} input.`))}function c(n,t){if(o(n,t))return null;const r=[];for(let e=0;e<t;++e)-1===n.indexOf(e)&&r.push(e);return n.forEach((n=>r.push(n))),r}function l(n){return n.map(((n,t)=>[t,n])).sort(((n,t)=>n[1]-t[1])).map((n=>n[0]))}function h(n,t){const r=[];for(let e=t-n;e<t;++e)r.push(e);return r}},21404:function(n,t,r){r.d(t,{F:function(){return s}});var e=r(67897),o=r(15441),a=r(30565),i=r(28189);const s=(0,r(70929).op)({atan2_:function(n,t){let r=(0,i.YT)(n,"a","atan2"),s=(0,i.YT)(t,"b","atan2");[r,s]=(0,a.makeTypesMatch)(r,s);const u={a:r,b:s};return e.T2.runKernel(o.lx,u)}})},25030:function(n,t,r){r.d(t,{x:function(){return u}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119),s=r(70125);const u=(0,r(70929).op)({concat_:function(n,t=0){(0,i.vA)(n.length>=1,(()=>"Pass at least one tensor to concat"));const r=(0,a.j1)(n,"tensors","concat","string_or_numeric");if("complex64"===r[0].dtype&&r.forEach((n=>{if("complex64"!==n.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${n.dtype}. `)})),1===r.length)return(0,s.o)(r[0]);const u=r,c={axis:t};return e.T2.runKernel(o.$d,u,c)}})},25248:function(n,t,r){r.d(t,{H:function(){return u}});var e=r(67897),o=r(15441),a=r(45119),i=r(70929),s=r(62302);const u=(0,i.op)({conv2DBackpropFilter_:function(n,t,r,i,u,c="NHWC",l){let h=n;3===n.rank&&(h=(0,s.t)(n,[1,n.shape[0],n.shape[1],n.shape[2]]));let p=t;3===p.rank&&(p=(0,s.t)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),a.vA(4===h.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${h.shape}.`)),a.vA(4===p.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${p.shape}.`)),a.vA(4===r.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${r}.`));const f="NHWC"===c?h.shape[3]:h.shape[1],d="NHWC"===c?p.shape[3]:p.shape[1];a.vA(f===r[2],(()=>`Error in conv2dDerFilter: depth of input ${f}) must match input depth in filter (${r[2]}.`)),a.vA(d===r[3],(()=>`Error in conv2dDerFilter: depth of dy (${d}) must match output depth for filter (${r[3]}).`)),null!=l&&a.vA(a.E6(u),(()=>`Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode ${l} but got pad ${u}.`));const m={x:h,dy:p},v={strides:i,pad:u,dataFormat:c,dimRoundingMode:l,filterShape:r};return e.T2.runKernel(o.rF,m,v)}})},27160:function(n,t,r){r.d(t,{$:function(){return c}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119),s=r(70929),u=r(62302);const c=(0,s.op)({avgPoolGrad_:function(n,t,r,s,c){const l=(0,a.YT)(n,"dy","avgPoolGrad"),h=(0,a.YT)(t,"input","avgPoolGrad");i.vA(h.rank===l.rank,(()=>`Rank of input (${h.rank}) does not match rank of dy (${l.rank})`));let p=h,f=l,d=!1;3===h.rank&&(d=!0,p=(0,u.t)(h,[1,h.shape[0],h.shape[1],h.shape[2]]),f=(0,u.t)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),i.vA(4===f.rank,(()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${f.rank}.`)),i.vA(4===p.rank,(()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${p.rank}.`));const m={dy:f,input:p},v={filterSize:r,strides:s,pad:c},g=e.T2.runKernel(o.VC,m,v);return d?(0,u.t)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},27451:function(n,t,r){r.d(t,{y:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({cosh_:function(n){const t={x:(0,a.YT)(n,"x","cosh")};return e.T2.runKernel(o.Mn,t)}})},27836:function(n,t,r){r.r(t),r.d(t,{fromPixels:function(){return g},fromPixelsAsync:function(){return m},toPixels:function(){return v}});var e=r(67897),o=r(46574),a=r(15441),i=r(37074),s=r(50259),u=r(28189),c=r(29809),l=r(70929),h=r(42768);let p;function f(n,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==n)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let r=!1,o=!1,s=!1,u=!1,c=!1,l=!1;if(n.data instanceof Uint8Array)r=!0;else if("undefined"!==typeof ImageData&&n instanceof ImageData)o=!0;else if("undefined"!==typeof HTMLVideoElement&&n instanceof HTMLVideoElement)s=!0;else if("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement)u=!0;else if(null!=n.getContext)c=!0;else{if(!("undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${n.constructor.name}`);l=!0}if(s){const t=2;if(s&&n.readyState<t)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}if(null!=(0,i._5)(a.aw,e.T2.backendName)){const r={pixels:n},o={numChannels:t};return e.T2.runKernel(a.aw,r,o)}const[f,d]=s?[n.videoWidth,n.videoHeight]:[n.width,n.height];let m,v;if(c?m=n.getContext("2d").getImageData(0,0,f,d).data:o||r?m=n.data:(u||s||l)&&(null==p&&(p=document.createElement("canvas").getContext("2d")),p.canvas.width=f,p.canvas.height=d,p.drawImage(n,0,0,f,d),m=p.getImageData(0,0,f,d).data),4===t)v=new Int32Array(m);else{const n=f*d;v=new Int32Array(n*t);for(let r=0;r<n;r++)for(let n=0;n<t;++n)v[r*t+n]=m[4*r+n]}const g=[d,f,t];return(0,h.$)(v,g,"int32")}function d(n){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(n instanceof ImageBitmap)&&function(n){return null!=n&&0!==n.width&&0!==n.height}(n)&&!function(n){return null!=n&&n.data instanceof Uint8Array}(n)}async function m(n,t=3){let r=null;if((0,o._K)().getBool("WRAP_TO_IMAGEBITMAP")&&d(n)){let t;try{t=await createImageBitmap(n,{premultiplyAlpha:"none"})}catch(e){t=null}r=null!=t&&t.width===n.width&&t.height===n.height?t:n}else r=n;return f(r,t)}async function v(n,t){let r=(0,u.YT)(n,"img","toPixels");if(!(n instanceof s.qY)){const n=r;r=(0,c.w)(n,"int32"),n.dispose()}if(2!==r.rank&&3!==r.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${r.rank}.`);const[e,o]=r.shape.slice(0,2),a=2===r.rank?1:r.shape[2];if(a>4||2===a)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${a}`);if("float32"!==r.dtype&&"int32"!==r.dtype)throw new Error(`Unsupported type for toPixels: ${r.dtype}. Please use float32 or int32 tensors.`);const i=await r.data(),l="float32"===r.dtype?255:1,h=new Uint8ClampedArray(o*e*4);for(let s=0;s<e*o;++s){const n=[0,0,0,255];for(let e=0;e<a;e++){const t=i[s*a+e];if("float32"===r.dtype){if(t<0||t>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${t}.`)}else if("int32"===r.dtype&&(t<0||t>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${t}.`);1===a?(n[0]=t*l,n[1]=t*l,n[2]=t*l):n[e]=t*l}const t=4*s;h[t+0]=Math.round(n[0]),h[t+1]=Math.round(n[1]),h[t+2]=Math.round(n[2]),h[t+3]=Math.round(n[3])}if(null!=t){t.width=o,t.height=e;const n=t.getContext("2d"),r=new ImageData(h,o,e);n.putImageData(r,0,0)}return r!==n&&r.dispose(),h}const g=(0,l.op)({fromPixels_:f})},27874:function(n,t,r){r.d(t,{T:function(){return i}});var e=r(28189),o=r(45119),a=r(9160);const i=(0,r(70929).op)({batchNorm4d_:function(n,t,r,i,s,u){const c=(0,e.YT)(n,"x","batchNorm"),l=(0,e.YT)(t,"mean","batchNorm"),h=(0,e.YT)(r,"variance","batchNorm");let p,f;return null!=s&&(p=(0,e.YT)(s,"scale","batchNorm")),null!=i&&(f=(0,e.YT)(i,"offset","batchNorm")),o.vA(4===c.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${c.rank}.`)),o.vA(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${l.rank}.`)),o.vA(4===h.rank||1===h.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${h.rank}.`)),null!=p&&o.vA(4===p.rank||1===p.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${p.rank}.`)),null!=f&&o.vA(4===f.rank||1===f.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${f.rank}.`)),(0,a.$)(c,l,h,f,p,u)}})},28794:function(n,t,r){r.d(t,{X:function(){return l}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119),s=r(47195),u=r(70929),c=r(62302);const l=(0,u.op)({conv2d_:function(n,t,r,u,l="NHWC",h=[1,1],p){const f=(0,a.YT)(n,"x","conv2d"),d=(0,a.YT)(t,"filter","conv2d");let m=f,v=!1;3===f.rank&&(v=!0,m=(0,c.t)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),i.vA(4===m.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${m.rank}.`)),i.vA(4===d.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${d.rank}.`)),null!=p&&i.vA(i.E6(u),(()=>`Error in conv2d: pad must be an integer when using, dimRoundingMode ${p} but got pad ${u}.`));const g="NHWC"===l?m.shape[3]:m.shape[1];i.vA(g===d.shape[2],(()=>`Error in conv2d: depth of input (${g}) must match input depth for filter ${d.shape[2]}.`)),i.vA(s.G0(r,h),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${r} and dilations '${h}'`));const k={x:m,filter:d},b={strides:r,pad:u,dataFormat:l,dilations:h,dimRoundingMode:p},T=e.T2.runKernel(o.p2,k,b);return v?(0,c.t)(T,[T.shape[1],T.shape[2],T.shape[3]]):T}})},29580:function(n,t,r){r.d(t,{r:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({atan_:function(n){const t={x:(0,a.YT)(n,"x","atan")};return e.T2.runKernel(o.Ty,t)}})},29809:function(n,t,r){r.d(t,{w:function(){return s}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119);const s=(0,r(70929).op)({cast_:function(n,t){const r=(0,a.YT)(n,"x","cast");if(!i.xn(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==r.dtype||"string"!==t&&"string"===r.dtype)throw new Error("Only strings can be casted to strings");const s={x:r},u={dtype:t};return e.T2.runKernel(o.KX,s,u)}})},30855:function(n,t,r){r.d(t,{m:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({ceil_:function(n){const t={x:(0,a.YT)(n,"x","ceil")};return e.T2.runKernel(o.QD,t)}})},31216:function(n,t,r){r.d(t,{R:function(){return s}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119);const s=(0,r(70929).op)({depthToSpace_:function(n,t,r="NHWC"){const s=(0,a.YT)(n,"x","depthToSpace"),u="NHWC"===r?s.shape[1]:s.shape[2],c="NHWC"===r?s.shape[2]:s.shape[3],l="NHWC"===r?s.shape[3]:s.shape[1];i.vA(u*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${u} and ${t}  for depthToSpace with input shape\n    ${s.shape}`)),i.vA(c*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${c} and ${t} for depthToSpace with input shape\n        ${s.shape}`)),i.vA(l%(t*t)===0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${l} for depthToSpace with input shape ${s.shape}`));const h={x:s},p={blockSize:t,dataFormat:r};return e.T2.runKernel(o.TM,h,p)}})},31895:function(n,t,r){r.d(t,{c:function(){return u}});var e=r(67897),o=r(15441),a=r(45119),i=r(70929),s=r(62302);const u=(0,i.op)({conv3DBackpropInput_:function(n,t,r,i,u){a.vA(n.length===t.rank,(()=>`Length of inShape (${n.length}) and rank of dy (${t.rank}) must match`));let c=n,l=t,h=!1;4===t.rank&&(h=!0,l=(0,s.t)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),c=[1,n[0],n[1],n[2],n[3]]);const p=c[4],f=l.shape[4];a.vA(5===c.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${c.length}.`)),a.vA(5===l.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${l.rank}`)),a.vA(5===r.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${r.rank}`)),a.vA(p===r.shape[3],(()=>`Error in conv3dDerInput: depth of input (${p}) must match input depth for filter ${r.shape[3]}.`)),a.vA(f===r.shape[4],(()=>`Error in conv3dDerInput: depth of output (${f}) must match output depth for filter ${r.shape[4]}.`));const d={dy:l,filter:r},m={pad:u,strides:i,inputShape:c},v=e.T2.runKernel(o.gC,d,m);return h?(0,s.t)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}})},33007:function(n,t,r){r.d(t,{f:function(){return c}});var e=r(28189),o=r(45119),a=r(48229),i=r(62302),s=r(5932),u=r(44271);const c=async function(n,t,r){const c=(0,e.YT)(n,"tensor","boolMask"),l=(0,e.YT)(t,"mask","boolMask","bool"),h=null==r?0:r,p=l.rank,f=c.shape;o.vA(p>0,(()=>"mask cannot be scalar")),o.O3(f.slice(h,h+p),l.shape,"mask's shape must match the first K dimensions of tensor's shape,");let d=1;for(let e=h;e<h+p;e++)d*=f[e];const m=f.slice(0,h).concat([d],f.slice(h+p)),v=(0,i.t)(c,m),g=(0,i.t)(l,[-1]),k=await(0,u.Y)(g),b=(0,s.r)(k,[1]),T=(0,a.k)(v,b,h);return n!==c&&c.dispose(),t!==l&&l.dispose(),b.dispose(),v.dispose(),g.dispose(),k.dispose(),T}},37148:function(n,t,r){r.d(t,{f:function(){return s}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119);const s=(0,r(70929).op)({complex_:function(n,t){const r=(0,a.YT)(n,"real","complex"),s=(0,a.YT)(t,"imag","complex");i.O3(r.shape,s.shape,`real and imag shapes, ${r.shape} and ${s.shape}, must match in call to tf.complex().`);const u={real:r,imag:s};return e.T2.runKernel(o.pr,u)}})},37523:function(n,t,r){r.d(t,{W:function(){return s}});var e=r(67897),o=r(15441),a=r(30565),i=r(28189);const s=(0,r(70929).op)({add_:function(n,t){let r=(0,i.YT)(n,"a","add"),s=(0,i.YT)(t,"b","add");[r,s]=(0,a.makeTypesMatch)(r,s);const u={a:r,b:s};return e.T2.runKernel(o.OM,u)}})},37558:function(n,t,r){r.d(t,{F:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({acosh_:function(n){const t={x:(0,a.YT)(n,"x","acosh")};return e.T2.runKernel(o.PH,t)}})},40517:function(n,t,r){r.d(t,{I:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({expm1_:function(n){const t={x:(0,a.YT)(n,"x","expm1")};return e.T2.runKernel(o.fQ,t)}})},40758:function(n,t,r){r.d(t,{H:function(){return s}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119);const s=(0,r(70929).op)({bincount_:function(n,t,r){const s=(0,a.YT)(n,"x","bincount"),u=(0,a.YT)(t,"weights","bincount");i.vA("int32"===s.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${s.dtype}`)),i.vA(r>=0,(()=>`size must be non-negative, but got ${r}.`)),i.vA(u.size===s.size||0===u.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${s.shape}, weights shape: ${u.shape}.`));const c={x:s,weights:u},l={size:r};return e.T2.runKernel(o.N4,c,l)}})},41106:function(n,t,r){r.d(t,{w:function(){return a}});var e=r(28189),o=r(80252);const a=(0,r(70929).op)({conv2dTranspose_:function(n,t,r,a,i,s){const u=(0,e.YT)(n,"x","conv2dTranspose"),c=(0,e.YT)(t,"filter","conv2dTranspose");return(0,o.v)(r,u,c,a,i,"NHWC",s)}})},41655:function(n,t,r){r.d(t,{j:function(){return a}});var e=r(28189),o=r(31895);const a=(0,r(70929).op)({conv3dTranspose_:function(n,t,r,a,i){const s=(0,e.YT)(n,"x","conv3dTranspose"),u=(0,e.YT)(t,"filter","conv3dTranspose");return(0,o.c)(r,s,u,a,i)}})},41890:function(n,t,r){r.d(t,{x:function(){return s}});var e=r(67897),o=r(15441),a=r(70929),i=r(62302);const s=(0,a.op)({depthwiseConv2dNativeBackpropFilter_:function(n,t,r,a,s,u=[1,1],c){let l=n;3===n.rank&&(l=(0,i.t)(n,[1,n.shape[0],n.shape[1],n.shape[2]]));let h=t;3===h.rank&&(h=(0,i.t)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const p={x:l,dy:h},f={strides:a,pad:s,dimRoundingMode:c,dilations:u,filterShape:r};return e.T2.runKernel(o.X$,p,f)}})},46520:function(n,t,r){r.d(t,{I:function(){return o}});var e=r(25030);const o=(0,r(70929).op)({concat1d_:function(n){return(0,e.x)(n,0)}})},47195:function(n,t,r){function e(n,t,r,e,o="NHWC",a){return i(n,[...t,n[3]],r,a,e,null,null,m(o))}function o(n,t,r,e,o,a,s="channelsLast"){const[u,l]=c(t);let h;if("channelsLast"===s)h=[u,l,n[3],n[3]];else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);h=[u,l,n[1],n[1]]}return i(n,h,r,e,o,a,!1,s)}function a(n,t,r,e,o,a,i="NDHWC"){const[u,c,h]=l(t);let p,f;if("NDHWC"===i)f="channelsLast",p=[u,c,h,n[4],n[4]];else{if("NCDHW"!==i)throw new Error(`Unknown dataFormat ${i}`);f="channelsFirst",p=[u,c,h,n[1],n[1]]}return s(n,p,r,e,o,!1,f,a)}function i(n,t,r,e,o,a,i=!1,s="channelsLast"){let[l,f,d,m]=[-1,-1,-1,-1];if("channelsLast"===s)[l,f,d,m]=n;else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);[l,m,f,d]=n}const[v,g,,k]=t,[b,T]=c(r),[$,x]=c(e),E=h(v,$),w=h(g,x),{padInfo:y,outHeight:A,outWidth:Y}=function(n,t,r,e,o,a,i,s,c){let l,h,f;if("number"===typeof n){l={top:n,bottom:n,left:n,right:n,type:0===n?"VALID":"NUMBER"};const o=function(n,t,r,e,o){null==e&&(e=u(n,t,r));const a=n[0],i=n[1],s=p((a-t+2*e)/r+1,o),c=p((i-t+2*e)/r+1,o);return[s,c]}([t,r],a,e,n,s);h=o[0],f=o[1]}else if("same"===n){h=Math.ceil(t/e),f=Math.ceil(r/o);const n=Math.max(0,(h-1)*e+a-t),s=Math.max(0,(f-1)*o+i-r),u=Math.floor(n/2),c=n-u,p=Math.floor(s/2);l={top:u,bottom:c,left:p,right:s-p,type:"SAME"}}else if("valid"===n)l={top:0,bottom:0,left:0,right:0,type:"VALID"},h=Math.ceil((t-a+1)/e),f=Math.ceil((r-i+1)/o);else{if("object"!==typeof n)throw Error(`Unknown padding parameter: ${n}`);{const u="channelsLast"===c?n[1][0]:n[2][0],d="channelsLast"===c?n[1][1]:n[2][1],m="channelsLast"===c?n[2][0]:n[3][0],v="channelsLast"===c?n[2][1]:n[3][1];l={top:u,bottom:d,left:m,right:v,type:0===u&&0===d&&0===m&&0===v?"VALID":"EXPLICIT"},h=p((t-a+u+d)/e+1,s),f=p((r-i+m+v)/o+1,s)}}return{padInfo:l,outHeight:h,outWidth:f}}(o,f,d,b,T,E,w,a,s),N=i?k*m:k;let M;return"channelsFirst"===s?M=[l,N,A,Y]:"channelsLast"===s&&(M=[l,A,Y,N]),{batchSize:l,dataFormat:s,inHeight:f,inWidth:d,inChannels:m,outHeight:A,outWidth:Y,outChannels:N,padInfo:y,strideHeight:b,strideWidth:T,filterHeight:v,filterWidth:g,effectiveFilterHeight:E,effectiveFilterWidth:w,dilationHeight:$,dilationWidth:x,inShape:n,outShape:M,filterShape:t}}function s(n,t,r,e,o,a=!1,i="channelsLast",s){let[c,f,d,m,v]=[-1,-1,-1,-1,-1];if("channelsLast"===i)[c,f,d,m,v]=n;else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);[c,v,f,d,m]=n}const[g,k,b,,T]=t,[$,x,E]=l(r),[w,y,A]=l(e),Y=h(g,w),N=h(k,y),M=h(b,A),{padInfo:D,outDepth:_,outHeight:C,outWidth:K}=function(n,t,r,e,o,a,i,s,c,l,h){let f,d,m,v;if("number"===typeof n){f={top:n,bottom:n,left:n,right:n,front:n,back:n,type:0===n?"VALID":"NUMBER"};const a=function(n,t,r,e,o,a){null==o&&(o=u(n,t,e));const i=n[0],s=n[1],c=n[2],l=p((i-t+2*o)/e+1,a),h=p((s-t+2*o)/e+1,a),f=p((c-t+2*o)/e+1,a);return[l,h,f,r]}([t,r,e,1],s,1,o,n,h);d=a[0],m=a[1],v=a[2]}else if("same"===n){d=Math.ceil(t/o),m=Math.ceil(r/a),v=Math.ceil(e/i);const n=(d-1)*o+s-t,u=(m-1)*a+c-r,h=(v-1)*i+l-e,p=Math.floor(n/2),g=n-p,k=Math.floor(u/2),b=u-k,T=Math.floor(h/2);f={top:k,bottom:b,left:T,right:h-T,front:p,back:g,type:"SAME"}}else{if("valid"!==n)throw Error(`Unknown padding parameter: ${n}`);f={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},d=Math.ceil((t-s+1)/o),m=Math.ceil((r-c+1)/a),v=Math.ceil((e-l+1)/i)}return{padInfo:f,outDepth:d,outHeight:m,outWidth:v}}(o,f,d,m,$,x,E,Y,N,M,s),H=a?T*v:T;let I;return"channelsFirst"===i?I=[c,H,_,C,K]:"channelsLast"===i&&(I=[c,_,C,K,H]),{batchSize:c,dataFormat:i,inDepth:f,inHeight:d,inWidth:m,inChannels:v,outDepth:_,outHeight:C,outWidth:K,outChannels:H,padInfo:D,strideDepth:$,strideHeight:x,strideWidth:E,filterDepth:g,filterHeight:k,filterWidth:b,effectiveFilterDepth:Y,effectiveFilterHeight:N,effectiveFilterWidth:M,dilationDepth:w,dilationHeight:y,dilationWidth:A,inShape:n,outShape:I,filterShape:t}}function u(n,t,r,e=1){const o=h(t,e);return Math.floor((n[0]*(r-1)-r+o)/2)}function c(n){return"number"===typeof n?[n,n,n]:2===n.length?[n[0],n[1],1]:n}function l(n){return"number"===typeof n?[n,n,n]:n}function h(n,t){return t<=1?n:n+(n-1)*(t-1)}function p(n,t){if(!t)return Math.trunc(n);switch(t){case"round":return Math.round(n);case"ceil":return Math.ceil(n);case"floor":return Math.floor(n);default:throw new Error(`Unknown roundingMode ${t}`)}}function f(n){const[t,r,e]=c(n);return 1===t&&1===r&&1===e}function d(n,t){return f(n)||f(t)}function m(n){if("NHWC"===n)return"channelsLast";if("NCHW"===n)return"channelsFirst";throw new Error(`Unknown dataFormat ${n}`)}r.d(t,{$Q:function(){return m},Dh:function(){return f},E6:function(){return o},G0:function(){return d},G8:function(){return u},YQ:function(){return e},l5:function(){return a},p$:function(){return s},uf:function(){return i}})},47850:function(n,t,r){r.d(t,{k:function(){return c}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119),s=r(70929),u=r(62302);const c=(0,s.op)({avgPool3dGrad_:function(n,t,r,s,c,l){const h=(0,a.YT)(n,"dy","avgPool3dGrad"),p=(0,a.YT)(t,"input","avgPool3dGrad");let f=h,d=p,m=!1;4===p.rank&&(m=!0,f=(0,u.t)(h,[1,h.shape[0],h.shape[1],h.shape[2],h.shape[3]]),d=(0,u.t)(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]])),i.vA(5===f.rank,(()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${f.rank}.`)),i.vA(5===d.rank,(()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${d.rank}.`)),null!=l&&i.vA(i.E6(c),(()=>`Error in avgPool3dGrad: pad must be an integer when using, dimRoundingMode ${l} but got pad ${c}.`));const v={dy:f,input:d},g={filterSize:r,strides:s,pad:c,dimRoundingMode:l},k=e.T2.runKernel(o.ww,v,g);return m?(0,u.t)(k,[k.shape[1],k.shape[2],k.shape[3],k.shape[4]]):k}})},50269:function(n,t,r){r.d(t,{y:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({asinh_:function(n){const t={x:(0,a.YT)(n,"x","asinh")};return e.T2.runKernel(o.ep,t)}})},53621:function(n,t,r){r.d(t,{y:function(){return u}});var e=r(448),o=r(8710),a=r(70929),i=r(62302),s=r(64826);const u=(0,a.op)({eye_:function(n,t,r,a="float32"){null==t&&(t=n);const u=(0,e.r)([n,t],a),c=n<=t?n:t;for(let e=0;e<c;++e)u.set(1,e,e);const l=(0,i.t)(u.toTensor(),[n,t]);if(null==r)return l;if(1===r.length)return(0,s.V)((0,o.U)(l,0),[r[0],1,1]);if(2===r.length)return(0,s.V)((0,o.U)((0,o.U)(l,0),0),[r[0],r[1],1,1]);if(3===r.length)return(0,s.V)((0,o.U)((0,o.U)((0,o.U)(l,0),0),0),[r[0],r[1],r[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${r.length}D.`)}})},53855:function(n,t,r){r.d(t,{s:function(){return l}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119),s=r(29809),u=r(70929),c=r(62302);const l=(0,u.op)({avgPool3d_:function(n,t,r,u,l,h="NDHWC"){const p=(0,a.YT)(n,"x","avgPool3d","float32");let f=p,d=!1;4===p.rank&&(d=!0,f=(0,c.t)(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]])),i.vA(5===f.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${f.rank}.`)),i.vA("NDHWC"===h,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${h}`)),null!=l&&i.vA(i.E6(u),(()=>`Error in avgPool3d: pad must be an integer when using, dimRoundingMode ${l} but got pad ${u}.`));const m={x:f},v={filterSize:t,strides:r,pad:u,dimRoundingMode:l,dataFormat:h};let g=e.T2.runKernel(o.cS,m,v);return g=(0,s.w)(g,f.dtype),d?(0,c.t)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}})},53909:function(n,t,r){r.d(t,{$:function(){return h}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119),s=r(29809),u=r(47195),c=r(70929),l=r(62302);const h=(0,c.op)({avgPool_:function(n,t,r,c,h){const p=(0,a.YT)(n,"x","avgPool","float32");i.vA(u.G0(r,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${r} and dilations '1'`));let f=p,d=!1;3===p.rank&&(d=!0,f=(0,l.t)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),i.vA(4===f.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${f.rank}.`)),null!=h&&i.vA(i.E6(c),(()=>`Error in avgPool: pad must be an integer when using, dimRoundingMode ${h} but got pad ${c}.`));const m={x:f},v={filterSize:t,strides:r,pad:c,dimRoundingMode:h};let g=e.T2.runKernel(o.ho,m,v);return g=(0,s.w)(g,p.dtype),d?(0,l.t)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},54339:function(n,t,r){r.d(t,{X:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({argMin_:function(n,t=0){const r={x:(0,a.YT)(n,"x","argMin")},i={axis:t};return e.T2.runKernel(o.p_,r,i)}})},55530:function(n,t,r){r.d(t,{O:function(){return o}});var e=r(25030);const o=(0,r(70929).op)({concat3d_:function(n,t){return(0,e.x)(n,t)}})},60569:function(n,t,r){r.d(t,{P:function(){return o}});var e=r(25030);const o=(0,r(70929).op)({concat4d_:function(n,t){return(0,e.x)(n,t)}})},62198:function(n,t,r){function e(n,t){const r=n.length,e=[];for(let o=0;o<r;o++){const a=r-1-o,i=n[a]||1;(t[t.length-1-o]||1)>1&&1===i&&e.unshift(a)}return e}function o(n,t){const r=[];for(let e=0;e<t.length;e++){const o=n[n.length-e-1],a=t.length-e-1,i=t[a];(null==o||1===o&&i>1)&&r.unshift(a)}return r}function a(n,t){const r=[],e=Math.max(n.length,t.length);for(let o=0;o<e;o++){let e=n[n.length-o-1];null==e&&(e=1);let a=t[t.length-o-1];if(null==a&&(a=1),1===e)r.unshift(a);else if(1===a)r.unshift(e);else{if(e!==a){throw Error(`Operands could not be broadcast together with shapes ${n} and ${t}.`)}r.unshift(e)}}return r}r.d(t,{Ky:function(){return a},Lx:function(){return o},NE:function(){return e}})},63567:function(n,t,r){r.d(t,{h:function(){return c}});var e=r(67897),o=r(15441),a=r(28189),i=r(70125),s=r(70929),u=r(62302);const c=(0,s.op)({broadcastTo_:function(n,t){let r=(0,a.YT)(n,"broadcastTo","x");const s=r.shape;if(t.some((n=>!(n>0)||n%1!==0)))throw new Error(`broadcastTo(): Invalid broadcast shape [${t}].`);if(t.length<r.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${r.rank}.`);if(t.length>r.rank){const n=r.shape.slice();for(;n.length<t.length;)n.unshift(1);r=(0,u.t)(r,n)}const c=r.shape,l=Array.from(t);for(let e=t.length-1;e>=0;e--)if(c[e]===t[e])l[e]=1;else if(1!==r.shape[e])throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${t}].`);if(0===l.map(((n,t)=>n>1?t:-1)).filter((n=>n>=0)).length)return(0,i.o)(r);const h={x:r},p={reps:l};return e.T2.runKernel(o.FA,h,p)}})},63774:function(n,t,r){r.d(t,{r:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({atanh_:function(n){const t={x:(0,a.YT)(n,"x","atanh")};return e.T2.runKernel(o.zP,t)}})},65281:function(n,t,r){r.d(t,{_:function(){return u}});var e=r(67897),o=r(15441),a=r(45119),i=r(70929),s=r(62302);const u=(0,i.op)({conv3DBackpropFilter_:function(n,t,r,i,u){let c=n;4===n.rank&&(c=(0,s.t)(n,[1,n.shape[0],n.shape[1],n.shape[2],n.shape[3]]));let l=t;4===l.rank&&(l=(0,s.t)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),a.vA(5===c.rank,(()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${c.shape}.`)),a.vA(5===l.rank,(()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${l.shape}.`)),a.vA(5===r.length,(()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${r}.`)),a.vA(c.shape[4]===r[3],(()=>`Error in conv3dDerFilter: depth of input ${c.shape[4]}) must match input depth in filter (${r[3]}.`)),a.vA(l.shape[4]===r[4],(()=>`Error in conv3dDerFilter: depth of dy (${l.shape[4]}) must match output depth for filter (${r[4]}).`));const h={x:c,dy:l},p={strides:i,pad:u,filterShape:r};return e.T2.runKernel(o.iG,h,p)}})},66841:function(n,t,r){r.d(t,{q:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({asin_:function(n){const t={x:(0,a.YT)(n,"x","asin")};return e.T2.runKernel(o.QK,t)}})},69759:function(n,t,r){r.d(t,{O:function(){return u}});var e=r(28189),o=r(45119),a=r(65703),i=r(70929),s=r(62302);const u=(0,i.op)({dot_:function(n,t){const r=(0,e.YT)(n,"t1","dot"),i=(0,e.YT)(t,"t2","dot");o.vA((1===r.rank||2===r.rank)&&(1===i.rank||2===i.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${r.rank} and ${i.rank}.`));const u=1===r.rank?r.size:r.shape[1],c=1===i.rank?i.size:i.shape[0];if(o.vA(u===c,(()=>`Error in dot: inner dimensions of inputs must match, but got ${u} and ${c}.`)),1===r.rank&&1===i.rank){const n=(0,s.t)(r,[1,-1]),t=(0,s.t)(i,[-1,1]),e=(0,a.N)(n,t);return(0,s.t)(e,[])}if(1===r.rank&&2===i.rank){const n=(0,s.t)(r,[1,-1]),t=(0,s.t)(i,[i.shape[0],i.shape[1]]),e=(0,a.N)(n,t);return(0,s.t)(e,[e.size])}if(2===r.rank&&1===i.rank){const n=(0,s.t)(i,[-1,1]),t=(0,a.N)(r,n);return(0,s.t)(t,[t.size])}{const n=(0,s.t)(i,[i.shape[0],i.shape[1]]);return(0,a.N)(r,n)}}})},69772:function(n,t,r){r.d(t,{G:function(){return s}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119);const s=(0,r(70929).op)({batchToSpaceND_:function(n,t,r){const s=(0,a.YT)(n,"x","batchToSpaceND"),u=t.reduce(((n,t)=>n*t));i.vA(s.rank>=1+t.length,(()=>`input rank is ${s.rank} but should be > than blockShape.length ${t.length}`)),i.vA(r.length===t.length,(()=>`crops.length is ${r.length} but should be equal to blockShape.length  ${t.length}`)),i.vA(s.shape[0]%u===0,(()=>`input tensor batch is ${s.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${u}`));const c={x:s},l={blockShape:t,crops:r};return e.T2.runKernel(o.Ik,c,l)}})},69906:function(n,t,r){r.d(t,{l:function(){return p}});var e=r(28189),o=r(37523),a=r(25030),i=r(65703),s=r(9258),u=r(70929),c=r(28968),l=r(17986),h=r(57311);const p=(0,u.op)({basicLSTMCell_:function(n,t,r,u,p,f){const d=(0,e.YT)(n,"forgetBias","basicLSTMCell"),m=(0,e.YT)(t,"lstmKernel","basicLSTMCell"),v=(0,e.YT)(r,"lstmBias","basicLSTMCell"),g=(0,e.YT)(u,"data","basicLSTMCell"),k=(0,e.YT)(p,"c","basicLSTMCell"),b=(0,e.YT)(f,"h","basicLSTMCell"),T=(0,a.x)([g,b],1),$=(0,i.N)(T,m),x=(0,o.W)($,v),E=x.shape[0],w=x.shape[1]/4,y=[E,w],A=(0,l.d)(x,[0,0],y),Y=(0,l.d)(x,[0,w],y),N=(0,l.d)(x,[0,2*w],y),M=(0,l.d)(x,[0,3*w],y),D=(0,o.W)((0,s.l)((0,c.r)(A),(0,h.y)(Y)),(0,s.l)(k,(0,c.r)((0,o.W)(d,N))));return[D,(0,s.l)((0,h.y)(D),(0,c.r)(M))]}})},70125:function(n,t,r){r.d(t,{o:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({clone_:function(n){const t={x:(0,a.YT)(n,"x","clone","string_or_numeric")};return e.T2.runKernel(o.lz,t)}})},73673:function(n,t,r){r.d(t,{R:function(){return a},i:function(){return o}});var e=r(46574);function o(...n){(0,e._K)().getBool("IS_TEST")}function a(...n){(0,e._K)().getBool("IS_TEST")}},76241:function(n,t,r){r.d(t,{k:function(){return i}});var e=r(28189),o=r(45119),a=r(9160);const i=(0,r(70929).op)({batchNorm3d_:function(n,t,r,i,s,u){const c=(0,e.YT)(n,"x","batchNorm"),l=(0,e.YT)(t,"mean","batchNorm"),h=(0,e.YT)(r,"variance","batchNorm");let p,f;return null!=s&&(p=(0,e.YT)(s,"scale","batchNorm")),null!=i&&(f=(0,e.YT)(i,"offset","batchNorm")),o.vA(3===c.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${c.rank}.`)),o.vA(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${l.rank}.`)),o.vA(3===h.rank||1===h.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${h.rank}.`)),null!=p&&o.vA(3===p.rank||1===p.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${p.rank}.`)),null!=f&&o.vA(3===f.rank||1===f.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${f.rank}.`)),(0,a.$)(c,l,h,f,p,u)}})},76808:function(n,t,r){r.d(t,{r:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({cumsum_:function(n,t=0,r=!1,i=!1){const s={x:(0,a.YT)(n,"x","cumsum")},u={axis:t,exclusive:r,reverse:i};return e.T2.runKernel(o.nY,s,u)}})},77974:function(n,t,r){r.d(t,{a:function(){return s}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119);const s=(0,r(70929).op)({denseBincount_:function(n,t,r,s=!1){const u=(0,a.YT)(n,"x","denseBincount"),c=(0,a.YT)(t,"weights","denseBincount");i.vA("int32"===u.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${u.dtype}`)),i.vA(u.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${u.rank}.`)),i.vA(r>=0,(()=>`size must be non-negative, but got ${r}.`)),i.vA(c.size===u.size||0===c.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${u.shape}, weights shape: ${c.shape}.`));const l={x:u,weights:c},h={size:r,binaryOutput:s};return e.T2.runKernel(o.wN,l,h)}})},79853:function(n,t,r){r.d(t,{_:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({einsum_:function(n,...t){const r=t.map(((n,t)=>(0,a.YT)(n,`tensors${t}`,"einsum"))),i={equation:n};return e.T2.runKernel(o.Qg,r,i)}})},80252:function(n,t,r){r.d(t,{v:function(){return u}});var e=r(67897),o=r(15441),a=r(45119),i=r(70929),s=r(62302);const u=(0,i.op)({conv2DBackpropInput_:function(n,t,r,i,u,c="NHWC",l){a.vA(n.length===t.rank,(()=>`Length of inShape (${n.length}) and rank of dy (${t.rank}) must match`));let h=n,p=t,f=!1;3===t.rank&&(f=!0,p=(0,s.t)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),h=[1,n[0],n[1],n[2]]),a.vA(4===h.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${h.length}.`)),a.vA(4===p.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${p.rank}`)),a.vA(4===r.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${r.rank}`));const d="NHWC"===c?h[3]:h[1],m="NHWC"===c?p.shape[3]:p.shape[1];a.vA(d===r.shape[2],(()=>`Error in conv2dDerInput: depth of input (${d}) must match input depth for filter ${r.shape[2]}.`)),a.vA(m===r.shape[3],(()=>`Error in conv2dDerInput: depth of output (${m}) must match output depth for filter ${r.shape[3]}.`)),null!=l&&a.vA(a.E6(u),(()=>`Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode ${l} but got pad ${u}.`));const v={dy:p,filter:r},g={strides:i,pad:u,dataFormat:c,dimRoundingMode:l,inputShape:h},k=e.T2.runKernel(o.jf,v,g);return f?(0,s.t)(k,[k.shape[1],k.shape[2],k.shape[3]]):k}})},81613:function(n,t,r){function e(n,t,r,e=!0){let o=[];if(e)o=o.concat(t.slice(0)),o.push(n[0]/r),o=o.concat(n.slice(1));else{o=o.concat(n[0]);const r=t.length;for(let e=0;e<r;++e)o=o.concat([n[e+1]/t[e],t[e]]);o=o.concat(n.slice(r+1))}return o}function o(n,t,r=!0){const e=[];if(r){e.push(t);for(let r=t+1;r<n;++r)r<=2*t?(e.push(r),e.push(r-(t+1))):e.push(r)}else{const r=[],o=[];for(let e=1;e<n;++e)e>=2*t+1||e%2===1?o.push(e):r.push(e);e.push(...r),e.push(0),e.push(...o)}return e}function a(n,t,r,e=!0){const o=[];e?o.push(n[0]/r):o.push(n[0]*r);for(let a=1;a<n.length;++a)a<=t.length?e?o.push(t[a-1]*n[a]):o.push(n[a]/t[a-1]):o.push(n[a]);return o}function i(n,t){const r=[0];for(let e=0;e<t;++e)r.push(n[e][0]);return r}function s(n,t,r){const e=n.slice(0,1);for(let o=0;o<r;++o)e.push(n[o+1]-t[o][0]-t[o][1]);return e}r.d(t,{AO:function(){return s},VN:function(){return a},Ym:function(){return i},b$:function(){return o},dE:function(){return e}})},83134:function(n,t,r){r.d(t,{l:function(){return s}});var e=r(67897),o=r(15441),a=r(70929),i=r(62302);const s=(0,a.op)({depthwiseConv2dNativeBackpropInput_:function(n,t,r,a,s,u=[1,1],c){let l=t,h=!1;3===t.rank&&(h=!0,l=(0,i.t)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const p={dy:l,filter:r},f={strides:a,pad:s,dimRoundingMode:c,dilations:u,inputShape:n},d=e.T2.runKernel(o.nV,p,f);return h?(0,i.t)(d,[d.shape[1],d.shape[2],d.shape[3]]):d}})},83416:function(n,t,r){r.d(t,{P:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({elu_:function(n){const t={x:(0,a.YT)(n,"x","elu")};return e.T2.runKernel(o.P,t)}})},89326:function(n,t,r){r.d(t,{b:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({any_:function(n,t=null,r=!1){const i={x:(0,a.YT)(n,"x","any","bool")},s={axis:t,keepDims:r};return e.T2.runKernel(o.FS,i,s)}})},89359:function(n,t,r){r.d(t,{y:function(){return u}});var e=r(67897),o=r(15441),a=r(30565),i=r(28189),s=r(88991);const u=(0,r(70929).op)({div_:function(n,t){let r=(0,i.YT)(n,"a","div"),u=(0,i.YT)(t,"b","div");if([r,u]=(0,a.makeTypesMatch)(r,u),"int32"===r.dtype&&"int32"===u.dtype)return(0,s.w)(r,u);const c={a:r,b:u};return e.T2.runKernel(o.sD,c,{})}})},90167:function(n,t,r){r.d(t,{I:function(){return l}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119),s=r(47195),u=r(70929),c=r(62302);const l=(0,u.op)({conv3d_:function(n,t,r,u,l="NDHWC",h=[1,1,1]){const p=(0,a.YT)(n,"x","conv3d"),f=(0,a.YT)(t,"filter","conv3d");let d=p,m=!1;4===p.rank&&(m=!0,d=(0,c.t)(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]])),i.vA(5===d.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${d.rank}.`)),i.vA(5===f.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${f.rank}.`)),i.vA(d.shape[4]===f.shape[3],(()=>`Error in conv3d: depth of input (${d.shape[4]}) must match input depth for filter ${f.shape[3]}.`)),i.vA((0,s.G0)(r,h),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${r} and dilations '${h}'`)),i.vA("NDHWC"===l,(()=>`Error in conv3d: got dataFormat of ${l} but only NDHWC is currently supported.`));const v={x:d,filter:f},g={strides:r,pad:u,dataFormat:l,dilations:h},k=e.T2.runKernel(o.A1,v,g);return m?(0,c.t)(k,[k.shape[1],k.shape[2],k.shape[3],k.shape[4]]):k}})},93002:function(n,t,r){r.d(t,{X:function(){return c}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119),s=r(70929),u=r(62302);const c=(0,s.op)({dilation2d_:function(n,t,r,s,c=[1,1],l="NHWC"){const h=(0,a.YT)(n,"x","dilation2d"),p=(0,a.YT)(t,"filter","dilation2d");i.vA(3===h.rank||4===h.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${h.rank}.`)),i.vA(3===p.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${p.rank}.`)),i.vA("NHWC"===l,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${l}`));let f=h,d=!1;3===h.rank&&(f=(0,u.t)(h,[1,h.shape[0],h.shape[1],h.shape[2]]),d=!0);const m={x:f,filter:p},v={strides:r,pad:s,dilations:c},g=e.T2.runKernel(o.jx,m,v);return d?(0,u.t)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},95207:function(n,t,r){r.d(t,{Y:function(){return u}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119),s=r(29809);const u=(0,r(70929).op)({erf_:function(n){let t=(0,a.YT)(n,"x","erf");i.vA("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=(0,s.w)(t,"float32"));const r={x:t};return e.T2.runKernel(o._s,r)}})},96928:function(n,t,r){r.d(t,{z:function(){return s}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119);const s=(0,r(70929).op)({clipByValue_:function(n,t,r){const s=(0,a.YT)(n,"x","clipByValue");i.vA(t<=r,(()=>`Error in clip: min (${t}) must be less than or equal to max (${r}).`));const u={x:s},c={clipValueMin:t,clipValueMax:r};return e.T2.runKernel(o.v,u,c)}})},99370:function(n,t,r){r.r(t),r.d(t,{confusionMatrix:function(){return l}});var e=r(28189),o=r(45119),a=r(29809),i=r(65703),s=r(11760),u=r(70929),c=r(7703);const l=(0,u.op)({confusionMatrix_:function(n,t,r){const u=(0,e.YT)(n,"labels","confusionMatrix"),l=(0,e.YT)(t,"predictions","confusionMatrix");o.vA(null==r||r>0&&Number.isInteger(r),(()=>`If provided, numClasses must be a positive integer, but got ${r}`)),o.vA(1===u.rank,(()=>`Expected the rank of labels to be 1, but got ${u.rank}`)),o.vA(1===l.rank,(()=>`Expected the rank of predictions to be 1, but got ${l.rank}`)),o.vA(u.shape[0]===l.shape[0],(()=>`Mismatch in the number of examples: ${u.shape[0]} vs. ${l.shape[0]}. Labels and predictions should have the same number of elements.`)),o.vA(r>0&&Number.isInteger(r),(()=>`numClasses is required to be a positive integer, but got ${r}`));const h=(0,s.M)((0,a.w)(u,"int32"),r),p=(0,s.M)((0,a.w)(l,"int32"),r),f=(0,c.m)(h),d=(0,i.N)(f,p);return(0,a.w)(d,"int32")}})},99907:function(n,t,r){r.d(t,{g:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({cos_:function(n){const t={x:(0,a.YT)(n,"x","cos")};return e.T2.runKernel(o.t2,t)}})}}]);
//# sourceMappingURL=stylist-vendors-92a9faa8.cfd9c81d731d098195aa.js.map