"use strict";(self.webpackChunkStylistWidget=self.webpackChunkStylistWidget||[]).push([[7279],{1276:function(t,n,e){e.r(n),e.d(n,{nonMaxSuppressionV3Impl:function(){return r.c7},nonMaxSuppressionV4Impl:function(){return r.ZS},nonMaxSuppressionV5Impl:function(){return r.ut},whereImpl:function(){return o.Y}});var r=e(8360),o=e(54411)},8360:function(t,n,e){function r(t,n,e){const r=function(t,n,e){return function(t,n,e){let r=0,o=t.length,u=0,i=!1;for(;r<o;){u=r+(o-r>>>1);const a=e(n,t[u]);a>0?r=u+1:(o=u,i=!a)}return i?r:-r-1}(t,n,e||o)}(t,n,e),u=r<0?-(r+1):r;t.splice(u,0,n)}function o(t,n){return t>n?1:t<n?-1:0}function u(t,n,e,r,o){return s(t,n,e,r,o,0)}function i(t,n,e,r,o,u){return s(t,n,e,r,o,0,!1,u,!0)}function a(t,n,e,r,o,u){return s(t,n,e,r,o,u,!0)}function s(t,n,e,o,u,i,a=!1,s=!1,p=!1){const h=[];for(let r=0;r<n.length;r++)n[r]>u&&h.push({score:n[r],boxIndex:r,suppressBeginIndex:0});h.sort(l);const d=i>0?-.5/i:0,g=[],m=[];for(;g.length<e&&h.length>0;){const n=h.pop(),{score:e,boxIndex:i,suppressBeginIndex:a}=n;if(e<u)break;let s=!1;for(let r=g.length-1;r>=a;--r){const e=c(t,i,g[r]);if(e>=o){s=!0;break}if(n.score=n.score*f(o,d,e),n.score<=u)break}n.suppressBeginIndex=g.length,s||(n.score===e?(g.push(i),m.push(n.score)):n.score>u&&r(h,n,l))}const S=g.length,x=e-S;s&&x>0&&(g.push(...new Array(x).fill(0)),m.push(...new Array(x).fill(0)));const M={selectedIndices:g};return a&&(M.selectedScores=m),p&&(M.validOutputs=S),M}function c(t,n,e){const r=t.subarray(4*n,4*n+4),o=t.subarray(4*e,4*e+4),u=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),a=Math.max(r[0],r[2]),s=Math.max(r[1],r[3]),c=Math.min(o[0],o[2]),f=Math.min(o[1],o[3]),l=Math.max(o[0],o[2]),p=Math.max(o[1],o[3]),h=(a-u)*(s-i),d=(l-c)*(p-f);if(h<=0||d<=0)return 0;const g=Math.max(u,c),m=Math.max(i,f),S=Math.min(a,l),x=Math.min(s,p),M=Math.max(S-g,0)*Math.max(x-m,0);return M/(h+d-M)}function f(t,n,e){const r=Math.exp(n*e*e);return e<=t?r:0}function l(t,n){return t.score-n.score||t.score===n.score&&n.boxIndex-t.boxIndex}e.d(n,{c7:function(){return u},ZS:function(){return i},ut:function(){return a}})},15149:function(t,n,e){e.d(n,{GJ:function(){return r},uI:function(){return o}});class r{constructor(t,n){this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)}set(t,n){this.dataIdsCount++,this.data.set(t,n)}has(t){return this.data.has(t)}delete(t){return this.dataIdsCount--,this.data.delete(t)}numDataIds(){return this.dataIdsCount}}class o{refCount(t){return u("refCount")}incRef(t){return u("incRef")}timerAvailable(){return!0}time(t){return u("time")}read(t){return u("read")}readSync(t){return u("readSync")}readToGPU(t,n){return u("readToGPU")}numDataIds(){return u("numDataIds")}disposeData(t,n){return u("disposeData")}write(t,n,e){return u("write")}move(t,n,e,r,o){return u("move")}createTensorFromGPUData(t,n,e){return u("createTensorFromGPUData")}memory(){return u("memory")}floatPrecision(){return u("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return u("dispose")}}function u(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}},33804:function(t,n,e){e.r(n),e.d(n,{ERF_A1:function(){return x.T4},ERF_A2:function(){return x._7},ERF_A3:function(){return x.fp},ERF_A4:function(){return x.mg},ERF_A5:function(){return x.fE},ERF_P:function(){return x.HM},PARALLELIZE_THRESHOLD:function(){return f.m},RowPartitionType:function(){return c.tl},SELU_SCALE:function(){return S.X},SELU_SCALEALPHA:function(){return S.j},applyActivation:function(){return s.f2},assertAndGetBroadcastShape:function(){return u.assertAndGetBroadcastShape},assertAxesAreInnerMostDims:function(){return o.WC},assertParamsConsistent:function(){return i.L},assignToTypedArray:function(){return D},axesAreInnerMostDims:function(){return o.WH},calculateShapes:function(){return m.calculateShapes},checkEinsumDimSizes:function(){return k},checkPadOnDimRoundingMode:function(){return a.s_},combineLocations:function(){return o.aF},combineRaggedTensorToTensorShapes:function(){return c.z4},complexWithEvenIndex:function(){return E},complexWithOddIndex:function(){return I},computeConv2DInfo:function(){return a.uf},computeConv3DInfo:function(){return a.p$},computeDefaultPad:function(){return a.G8},computeDilation2DInfo:function(){return a.YQ},computeOptimalWindowSize:function(){return f.x},computeOutAndReduceShapes:function(){return o.lb},computeOutShape:function(){return i.P},computePool2DInfo:function(){return a.E6},computePool3DInfo:function(){return a.l5},convertConv2DDataFormat:function(){return a.$Q},decodeEinsumEquation:function(){return C},eitherStridesOrDilationsAreOne:function(){return a.G0},expandShapeToKeepDim:function(){return o.SM},exponent:function(){return v},exponents:function(){return R},fromStringArrayToUint8:function(){return H},fromUint8ToStringArray:function(){return V},getAxesPermutation:function(){return o.Em},getBroadcastDims:function(){return u.getBroadcastDims},getComplexWithIndex:function(){return w},getEinsumComputePath:function(){return _},getEinsumPermutation:function(){return $},getFusedBiasGradient:function(){return s.Do},getFusedDyActivation:function(){return s.XB},getImageCenter:function(){return h.H},getInnerMostAxes:function(){return o.fK},getPermuted:function(){return d.b$},getRaggedRank:function(){return c.Dw},getReductionAxes:function(){return u.getReductionAxes},getReshaped:function(){return d.dE},getReshapedPermuted:function(){return d.VN},getRowPartitionTypesHelper:function(){return c.U0},getSliceBeginCoords:function(){return d.Ym},getSliceSize:function(){return d.AO},getSparseFillEmptyRowsIndicesDenseShapeMismatch:function(){return B.P_},getSparseFillEmptyRowsNegativeIndexErrorMessage:function(){return B.U8},getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:function(){return B.zP},getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:function(){return G.Pz},getSparseReshapeInputOutputMismatchErrorMessage:function(){return G.pC},getSparseReshapeInputOutputMultipleErrorMessage:function(){return G.Ni},getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:function(){return G.yM},getSparseReshapeNegativeOutputDimErrorMessage:function(){return G.M5},getSparseSegmentReductionIndicesOutOfRangeErrorMessage:function(){return W.dS},getSparseSegmentReductionNegativeSegmentIdsErrorMessage:function(){return W.u1},getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:function(){return W.tb},getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:function(){return W.AP},getUndoAxesPermutation:function(){return o.gx},isIdentityPermutation:function(){return U},log:function(){return M.R},mergeRealAndImagArrays:function(){return A},prepareAndValidate:function(){return g.prepareAndValidate},prepareSplitSize:function(){return z.z},segment_util:function(){return N},shouldFuse:function(){return s.zE},slice_util:function(){return l},splitRealAndImagArrays:function(){return y},stridesOrDilationsArePositive:function(){return a.qk},tupleValuesAreOne:function(){return a.Dh},upcastType:function(){return p.Tu},validateDefaultValueShape:function(){return c.mP},validateInput:function(){return m.validateInput},validateUpdateShape:function(){return m.validateUpdateShape},warn:function(){return M.i}});var r=e(89783),o=e(21078),u=e(62198),i=e(12789),a=e(47195),s=e(68646),c=e(30429),f=e(29827),l=e(34969),p=e(52046),h=e(29192),d=e(81613),g=e(83869),m=e(26170),S=e(28576),x=e(11418),M=e(73673);function A(t,n){if(t.length!==n.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${n.length}.`);const e=new Float32Array(2*t.length);for(let r=0;r<e.length;r+=2)e[r]=t[r/2],e[r+1]=n[r/2];return e}function y(t){const n=new Float32Array(t.length/2),e=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)n[r/2]=t[r],e[r/2]=t[r+1];return{real:n,imag:e}}function E(t){const n=Math.ceil(t.length/4),e=new Float32Array(n),r=new Float32Array(n);for(let o=0;o<t.length;o+=4)e[Math.floor(o/4)]=t[o],r[Math.floor(o/4)]=t[o+1];return{real:e,imag:r}}function I(t){const n=Math.floor(t.length/4),e=new Float32Array(n),r=new Float32Array(n);for(let o=2;o<t.length;o+=4)e[Math.floor(o/4)]=t[o],r[Math.floor(o/4)]=t[o+1];return{real:e,imag:r}}function w(t,n){return{real:t[2*n],imag:t[2*n+1]}}function D(t,n,e,r){t[2*r]=n,t[2*r+1]=e}function R(t,n){const e=new Float32Array(t/2),r=new Float32Array(t/2);for(let o=0;o<Math.ceil(t/2);o++){const u=(n?2:-2)*Math.PI*(o/t);e[o]=Math.cos(u),r[o]=Math.sin(u)}return{real:e,imag:r}}function v(t,n,e){const r=(e?2:-2)*Math.PI*(t/n);return{real:Math.cos(r),imag:Math.sin(r)}}var O=e(45119);const P="->",b=/->/g,F=",",T="...";function C(t,n){const e=((t=t.replace(/\s/g,"")).length-t.replace(b,"").length)/P.length;if(e<1)throw new Error("Equations without an arrow are not supported.");if(e>1)throw new Error(`Equation must contain exactly one arrow ("${P}").`);const[r,o]=t.split(P);(0,O.vA)(-1===r.indexOf(T),(()=>`The ellipsis notation ("${T}") is not supported yet.`));const u=r.split(F),i=u.length;if(n!==i)throw new Error(`Expected ${i} input tensors, received ${n}`);if(i>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const a=[];for(let l=0;l<o.length;++l){const t=o[l];if(!u.some((n=>-1!==n.indexOf(t))))throw new Error(`Output subscripts contain the label ${t} not present in the input subscripts.`);-1===a.indexOf(t)&&a.push(t)}for(let l=0;l<r.length;++l){const t=r[l];-1===a.indexOf(t)&&t!==F&&a.push(t)}const s=new Array(u.length);for(let l=0;l<i;++l){if(new Set(u[l].split("")).size!==u[l].length)throw new Error(`Found duplicate axes in input component ${u[l]}. Support for duplicate axes in input is not implemented yet.`);s[l]=[];for(let t=0;t<u[l].length;++t)s[l].push(a.indexOf(u[l][t]))}const c=a.length,f=[];for(let l=o.length;l<c;++l)f.push(l);return{allDims:a,summedDims:f,idDims:s}}function $(t,n){let e=new Array(t);e.fill(-1);for(let o=0;o<n.length;++o)e[n[o]]=o;const r=[];for(let o=0;o<t;++o)-1===e[o]&&r.push(o);return e=e.filter((t=>-1!==t)),{permutationIndices:e,expandDims:r}}function k(t,n,e){const r=new Array(t);for(let o=0;o<e.length;++o){const t=e[o].shape;for(let e=0;e<n[o].length;++e)void 0===r[n[o][e]]?r[n[o][e]]=t[e]:(0,O.vA)(r[n[o][e]]===t[e],(()=>`Expected dimension ${r[n[o][e]]} at axis ${e} of input shaped ${JSON.stringify(t)}, but got dimension ${t[e]}`))}}function _(t,n){const e=t,r=[];let o=0;0===t.length&&e.push(-1),o=t.length+1;for(let i=0;i<o;++i)r.push([]);const u=[];for(let i=0;i<e.length;++i){const t=L(n,e[i]);for(const n of t)-1===u.indexOf(n)&&(r[i].push(n),u.push(n))}return{path:e,steps:r}}function U(t){return t.every(((t,n)=>t===n))}function L(t,n){const e=[];for(let r=0;r<t.length;++r)0!==t[r].length&&-1===t[r].indexOf(n)&&-1!==n||e.push(r);return e}var z=e(57303),B=e(77618),G=e(83255),W=e(55880),N=e(47516);function V(t){try{return t.map((t=>(0,r.decodeString)(t)))}catch(n){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${n}`)}}function H(t){return t.map((t=>(0,r.encodeString)(t)))}},54411:function(t,n,e){e.d(n,{Y:function(){return o}});var r=e(448);function o(t,n){const e=[];for(let r=0;r<n.length;r++)n[r]&&e.push(r);const o=(0,r.r)(t,"int32"),u=(0,r.r)([e.length,t.length],"int32");for(let r=0;r<e.length;r++){const n=o.indexToLoc(e[r]),i=r*t.length;u.values.set(n,i)}return u.toTensor()}}}]);
//# sourceMappingURL=stylist-vendors-e649bd53.c3dfeded58e1151e4907.js.map