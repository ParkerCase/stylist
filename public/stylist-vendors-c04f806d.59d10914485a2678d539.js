"use strict";(self.webpackChunkStylistWidget=self.webpackChunkStylistWidget||[]).push([[8528],{42638:function(i,t,e){var s=e(9495),h=e(6090),n=e(47661),r=e(39459),a=e(87504),l=e(15841),d=e(59351),p=e(84379),u=e(69184),o=e(63057),w=e(9548);class c extends w.kO{constructor(i){super(2,i),this.depthwiseKernel=null,this.depthMultiplier=null==i.depthMultiplier?1:i.depthMultiplier,this.depthwiseInitializer=(0,d.Fe)(i.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=(0,a.YZ)(i.depthwiseConstraint),this.depthwiseRegularizer=(0,p.Bm)(i.depthwiseRegularizer)}build(i){if((i=(0,o.U$)(i)).length<4)throw new l.Qp(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(i)}.`);const t="channelsFirst"===this.dataFormat?1:3;if(null==i[t]||i[t]<0)throw new l.Qp(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${i[t]}).`);const e=i[t],s=[this.kernelSize[0],this.kernelSize[1],e,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",s,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[e*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(i,t){return(0,s.tidy)((()=>{let t=function(i,t,e=[1,1],n="valid",a,d){return(0,s.tidy)((()=>{null==a&&(a=(0,h.VI)()),(0,r.uM)(a);let p=(0,w.RK)(i,a);if(4!==i.rank)throw new l.Qp(`Input for depthwiseConv2d is required to be 4-D, but is instead ${i.rank}-D`);if(4!==t.rank)throw new l.Qp(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return p=s.depthwiseConv2d(p,t,e,"same"===n?"same":"valid","NHWC",d),"channelsFirst"===a&&(p=s.transpose(p,[0,3,1,2])),p}))}(i=(0,o.un)(i),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(t=n.ni(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),t}))}computeOutputShape(i){i=(0,o.U$)(i);const t="channelsFirst"===this.dataFormat?i[2]:i[1],e="channelsFirst"===this.dataFormat?i[3]:i[2],s="channelsFirst"===this.dataFormat?i[1]*this.depthMultiplier:i[3]*this.depthMultiplier,h=(0,u.Ol)(t,this.kernelSize[0],this.padding,this.strides[0]),n=(0,u.Ol)(e,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[i[0],s,h,n]:[i[0],h,n,s]}getConfig(){const i=super.getConfig();return i.depthMultiplier=this.depthMultiplier,i.depthwiseInitializer=(0,d.zo)(this.depthwiseInitializer),i.depthwiseRegularizer=(0,p.R9)(this.depthwiseRegularizer),i.depthwiseConstraint=(0,a.uH)(this.depthwiseRegularizer),i}}c.className="DepthwiseConv2D",s.serialization.registerClass(c)}}]);
//# sourceMappingURL=stylist-vendors-c04f806d.59d10914485a2678d539.js.map