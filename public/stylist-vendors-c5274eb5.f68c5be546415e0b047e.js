"use strict";(self.webpackChunkStylistWidget=self.webpackChunkStylistWidget||[]).push([[5090],{41466:function(e,t,n){n.d(t,{UD:function(){return s}});var r=n(46574),o=n(89783),l=n(45119);class s{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new a)}profileKernel(e,t,n){let l;const s=()=>{l=n()};let a;const f=o.now();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(s);else{s();for(const e of l)e.dataSync();a=Promise.resolve({kernelMs:o.now()-f})}if((0,r._K)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let r=0;r<l.length;r++){const t=l[r];t.data().then((n=>{i(n,t.dtype,e)}))}return{kernelName:e,outputs:l,inputs:t,timeMs:a.then((e=>e.kernelMs)),extraInfo:a.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:o,extraInfo:l}=e;n.forEach((e=>{Promise.all([e.data(),r,l]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],o,n[2])}))}))}}function i(e,t,n){if("float32"!==t)return!1;for(let r=0;r<e.length;r++){const t=e[r];if(isNaN(t)||!isFinite(t))return!0}return!1}class a{logKernelProfile(e,t,n,r,o,s){"number"===typeof r?l.av(`${r}ms`,9):r.error,l.av(e,25),t.rank,t.size,l.av(t.shape.toString(),14);let i="";for(const l in o){const e=o[l];if(null!=e){const n=e.shape||t.shape,r=n.length;i+=`${l}: ${r}D ${r>0?n:""} `}}}}}}]);
//# sourceMappingURL=stylist-vendors-c5274eb5.f68c5be546415e0b047e.js.map