"use strict";(self.webpackChunkStylistWidget=self.webpackChunkStylistWidget||[]).push([[9522],{81621:function(t,e,n){n.d(e,{vt:function(){return g}});const r=t=>{let e;const n=new Set,r=(t,r)=>{const i="function"===typeof t?t(e):t;if(!Object.is(i,e)){const t=e;e=(null!=r?r:"object"!==typeof i||null===i)?i:Object.assign({},e,i),n.forEach((n=>n(e,t)))}},i=()=>e,s={setState:r,getState:i,getInitialState:()=>o,subscribe:t=>(n.add(t),()=>n.delete(t)),destroy:()=>{n.clear()}},o=e=t(r,i,s);return s},i=t=>t?r(t):r;var s=n(96540),o=n(69242);const{useDebugValue:a}=s,{useSyncExternalStoreWithSelector:c}=o;let l=!1;const u=t=>t;const d=t=>{const e="function"===typeof t?i(t):t,n=(t,n)=>function(t,e=u,n){n&&!l&&(l=!0);const r=c(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return a(r),r}(e,t,n);return Object.assign(n,e),n},g=t=>t?d(t):d},87134:function(t,e,n){n.d(e,{Zr:function(){return l},lt:function(){return s}});const r=new Map,i=t=>{const e=r.get(t);return e?Object.fromEntries(Object.entries(e.stores).map((([t,e])=>[t,e.getState()]))):{}},s=(t,e={})=>(n,s,a)=>{const{enabled:c,anonymousActionType:l,store:u,...d}=e;let g;try{g=(null==c||c)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(h){}if(!g)return t(n,s,a);const{connection:f,...S}=((t,e,n)=>{if(void 0===t)return{type:"untracked",connection:e.connect(n)};const i=r.get(n.name);if(i)return{type:"tracked",store:t,...i};const s={connection:e.connect(n),stores:{}};return r.set(n.name,s),{type:"tracked",store:t,...s}})(u,g,d);let v=!0;a.setState=(t,e,r)=>{const o=n(t,e);if(!v)return o;const c=void 0===r?{type:l||"anonymous"}:"string"===typeof r?{type:r}:r;return void 0===u?(null==f||f.send(c,s()),o):(null==f||f.send({...c,type:`${u}/${c.type}`},{...i(d.name),[u]:a.getState()}),o)};const p=(...t)=>{const e=v;v=!1,n(...t),v=e},y=t(a.setState,s,a);if("untracked"===S.type?null==f||f.init(y):(S.stores[S.store]=a,null==f||f.init(Object.fromEntries(Object.entries(S.stores).map((([t,e])=>[t,t===S.store?y:e.getState()]))))),a.dispatchFromDevtools&&"function"===typeof a.dispatch){let t=!1;const e=a.dispatch;a.dispatch=(...n)=>{"__setState"!==n[0].type||t||(t=!0),e(...n)}}return f.subscribe((t=>{var e;switch(t.type){case"ACTION":if("string"!==typeof t.payload)return;return o(t.payload,(t=>{if("__setState"!==t.type)a.dispatchFromDevtools&&"function"===typeof a.dispatch&&a.dispatch(t);else{if(void 0===u)return void p(t.state);Object.keys(t.state).length;const e=t.state[u];if(void 0===e||null===e)return;JSON.stringify(a.getState())!==JSON.stringify(e)&&p(e)}}));case"DISPATCH":switch(t.payload.type){case"RESET":return p(y),void 0===u?null==f?void 0:f.init(a.getState()):null==f?void 0:f.init(i(d.name));case"COMMIT":return void 0===u?void(null==f||f.init(a.getState())):null==f?void 0:f.init(i(d.name));case"ROLLBACK":return o(t.state,(t=>{if(void 0===u)return p(t),void(null==f||f.init(a.getState()));p(t[u]),null==f||f.init(i(d.name))}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return o(t.state,(t=>{void 0!==u?JSON.stringify(a.getState())!==JSON.stringify(t[u])&&p(t[u]):p(t)}));case"IMPORT_STATE":{const{nextLiftedState:n}=t.payload,r=null==(e=n.computedStates.slice(-1)[0])?void 0:e.state;if(!r)return;return p(void 0===u?r:r[u]),void(null==f||f.send(null,n))}case"PAUSE_RECORDING":return v=!v}return}})),y},o=(t,e)=>{let n;try{n=JSON.parse(t)}catch(r){}void 0!==n&&e(n)};function a(t,e){let n;try{n=t()}catch(r){return}return{getItem:t=>{var r;const i=t=>null===t?null:JSON.parse(t,null==e?void 0:e.reviver),s=null!=(r=n.getItem(t))?r:null;return s instanceof Promise?s.then(i):i(s)},setItem:(t,r)=>n.setItem(t,JSON.stringify(r,null==e?void 0:e.replacer)),removeItem:t=>n.removeItem(t)}}const c=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(t){return c(t)(n)},catch(t){return this}}}catch(n){return{then(t){return this},catch(t){return c(t)(n)}}}},l=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:t=>t,version:0,merge:(t,e)=>({...e,...t}),...e},o=!1;const a=new Set,l=new Set;let u;try{u=s.getStorage()}catch(y){}if(!u)return t(((...t)=>{n(...t)}),r,i);const d=c(s.serialize),g=()=>{const t=s.partialize({...r()});let e;const n=d({state:t,version:s.version}).then((t=>u.setItem(s.name,t))).catch((t=>{e=t}));if(e)throw e;return n},f=i.setState;i.setState=(t,e)=>{f(t,e),g()};const S=t(((...t)=>{n(...t),g()}),r,i);let v;const p=()=>{var t;if(!u)return;o=!1,a.forEach((t=>t(r())));const e=(null==(t=s.onRehydrateStorage)?void 0:t.call(s,r()))||void 0;return c(u.getItem.bind(u))(s.name).then((t=>{if(t)return s.deserialize(t)})).then((t=>{if(t){if("number"!==typeof t.version||t.version===s.version)return t.state;if(s.migrate)return s.migrate(t.state,t.version)}})).then((t=>{var e;return v=s.merge(t,null!=(e=r())?e:S),n(v,!0),g()})).then((()=>{null==e||e(v,void 0),o=!0,l.forEach((t=>t(v)))})).catch((t=>{null==e||e(void 0,t)}))};return i.persist={setOptions:t=>{s={...s,...t},t.getStorage&&(u=t.getStorage())},clearStorage:()=>{null==u||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:t=>(a.add(t),()=>{a.delete(t)}),onFinishHydration:t=>(l.add(t),()=>{l.delete(t)})},p(),v||S})(t,e):((t,e)=>(n,r,i)=>{let s={storage:a((()=>localStorage)),partialize:t=>t,version:0,merge:(t,e)=>({...e,...t}),...e},o=!1;const l=new Set,u=new Set;let d=s.storage;if(!d)return t(((...t)=>{n(...t)}),r,i);const g=()=>{const t=s.partialize({...r()});return d.setItem(s.name,{state:t,version:s.version})},f=i.setState;i.setState=(t,e)=>{f(t,e),g()};const S=t(((...t)=>{n(...t),g()}),r,i);let v;i.getInitialState=()=>S;const p=()=>{var t,e;if(!d)return;o=!1,l.forEach((t=>{var e;return t(null!=(e=r())?e:S)}));const i=(null==(e=s.onRehydrateStorage)?void 0:e.call(s,null!=(t=r())?t:S))||void 0;return c(d.getItem.bind(d))(s.name).then((t=>{if(t){if("number"!==typeof t.version||t.version===s.version)return[!1,t.state];if(s.migrate)return[!0,s.migrate(t.state,t.version)]}return[!1,void 0]})).then((t=>{var e;const[i,o]=t;if(v=s.merge(o,null!=(e=r())?e:S),n(v,!0),i)return g()})).then((()=>{null==i||i(v,void 0),v=r(),o=!0,u.forEach((t=>t(v)))})).catch((t=>{null==i||i(void 0,t)}))};return i.persist={setOptions:t=>{s={...s,...t},t.storage&&(d=t.storage)},clearStorage:()=>{null==d||d.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:t=>(l.add(t),()=>{l.delete(t)}),onFinishHydration:t=>(u.add(t),()=>{u.delete(t)})},s.skipHydration||p(),v||S})(t,e)}}]);
//# sourceMappingURL=stylist-state.405e585f45f4757d2f93.js.map