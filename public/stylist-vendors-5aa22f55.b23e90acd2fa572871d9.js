"use strict";(self.webpackChunkStylistWidget=self.webpackChunkStylistWidget||[]).push([[9624],{37937:function(n,t,r){r.d(t,{GT:function(){return E},Jc:function(){return f},Jt:function(){return N},Ol:function(){return w},qp:function(){return k},qv:function(){return m},xM:function(){return a},yP:function(){return c}});var e=r(9495),u=r(47661),o=r(15841),i=r(48981),s=r(44813);function a(n,t){return(0,e.tidy)((()=>{const r=e.mul(.5,e.onesLike(t)),o=u.wg(e.greater(t,r),n.dtype);return e.mean(e.equal(n,o),-1)}))}function c(n,t){return(0,e.tidy)((()=>u.wg(e.equal(e.argMax(n,-1),e.argMax(t,-1)),"float32")))}function l(n,t){return(0,e.tidy)((()=>e.cast(e.sum(e.logicalAnd(e.equal(n,1),e.equal(t,1))),"float32")))}function f(n,t){return(0,i.Jc)(n,t)}function m(n,t){return n.rank===t.rank&&(n=e.squeeze(n,[n.rank-1])),(t=e.argMax(t,-1)).dtype!==n.dtype&&(t=e.cast(t,n.dtype)),e.cast(e.equal(n,t),"float32")}const d=i.bt,y=i.bt,p=i.Xv,g=i.Xv,b=i.VW,h=i.VW,w=i.Ol,q=i.Pg,k=i.qp,v={binaryAccuracy:a,categoricalAccuracy:c,precision:function(n,t){return(0,e.tidy)((()=>{const r=l(n,t),u=function(n,t){return(0,e.tidy)((()=>e.cast(e.sum(e.logicalAnd(e.equal(n,0),e.equal(t,1))),"float32")))}(n,t),o=e.add(r,u);return e.cast(e.where(e.greater(o,0),e.div(r,o),0),"float32")}))},categoricalCrossentropy:w,sparseCategoricalCrossentropy:k,mse:d,MSE:y,mae:p,MAE:g,mape:b,MAPE:h,cosine:q};function N(n){if("string"===typeof n&&n in v)return v[n];if("string"!==typeof n&&null!=n)return n;throw new o.Qp(`Unknown metric ${n}`)}function E(n){if(s.vA(null!==n,`Unknown LossOrMetricFn ${n}`),"string"===typeof n)return n;{let t;for(const r of Object.keys(i.SO))if(i.SO[r]===n){t=r;break}if(void 0!==t)return t;for(const r of Object.keys(v))if(v[r]===n){t=r;break}return void 0!==t?t:n.name}}},48981:function(n,t,r){r.d(t,{Jc:function(){return y},Jt:function(){return h},Ol:function(){return m},Pg:function(){return g},SO:function(){return b},VW:function(){return l},Xv:function(){return c},Yq:function(){return s},bt:function(){return a},qp:function(){return d}});var e=r(9495),u=r(6090),o=r(47661),i=r(15841);function s(n,t){return(0,e.tidy)((()=>{"float32"!==n.dtype&&(n=e.cast(n,"float32"));const r=e.sum(o.Ew(n),t,!0),i=e.fill(r.shape,(0,u.Ni)()),s=e.sqrt(e.maximum(r,i));return e.div(n,s)}))}function a(n,t){return(0,e.tidy)((()=>e.mean(o.Ew(e.sub(t,n)),-1)))}function c(n,t){return(0,e.tidy)((()=>e.mean(e.abs(e.sub(t,n)),-1)))}function l(n,t){return(0,e.tidy)((()=>{const r=e.sub(n,t),o=e.clipByValue(e.abs(n),(0,u.Ni)(),Number.MAX_VALUE),i=e.abs(e.div(r,o));return e.mul(100,e.mean(i,-1))}))}function f(n,t){return(0,e.tidy)((()=>{const r=e.clipByValue(t,(0,u.Ni)(),Number.MAX_VALUE),i=e.log(e.add(1,r)),s=e.clipByValue(n,(0,u.Ni)(),Number.MAX_VALUE),a=e.log(e.add(1,s));return e.mean(o.Ew(e.sub(i,a)),-1)}))}function m(n,t,r=!1){return(0,e.tidy)((()=>{if(r)t=e.softmax(t);else{const n=e.sum(t,t.shape.length-1,!0);t=e.div(t,n)}return t=e.clipByValue(t,(0,u.Ni)(),1-(0,u.Ni)()),e.neg(e.sum(e.mul(e.cast(n,"float32"),e.log(t)),t.shape.length-1))}))}function d(n,t,r=!1){return(0,e.tidy)((()=>{const i=e.cast(e.floor(o.Bq(n)),"int32"),s=(t=e.clipByValue(t,(0,u.Ni)(),1-(0,u.Ni)())).shape;return m(e.reshape(e.oneHot(i,s[s.length-1]),s),t,r)}))}function y(n,t){return(0,e.tidy)((()=>{let r;return r=e.clipByValue(t,(0,u.Ni)(),1-(0,u.Ni)()),r=e.log(e.div(r,e.sub(1,r))),e.mean(function(n,t){if(!e.util.arraysEqual(n.shape,t.shape))throw new i.Qp(`logits and labels must have the same shape, but got shapes ${JSON.stringify(n.shape)} and ${JSON.stringify(t.shape)}`);return(0,e.tidy)((()=>{const r=e.relu(t),u=e.neg(e.abs(t));return e.add(e.sub(r,e.mul(t,n)),e.log1p(e.exp(u)))}))}(n,r),-1)}))}function p(n,t){return(0,e.tidy)((()=>{const r=e.clipByValue(n,(0,u.Ni)(),1),o=e.clipByValue(t,(0,u.Ni)(),1);return e.sum(e.mul(n,e.log(e.div(r,o))),-1)}))}function g(n,t){return(0,e.tidy)((()=>{const r=s(n,-1),u=s(t,-1),o=e.mul(r,u);return e.neg(e.sum(o,-1))}))}const b={meanSquaredError:a,meanAbsoluteError:c,meanAbsolutePercentageError:l,meanSquaredLogarithmicError:f,squaredHinge:function(n,t){return(0,e.tidy)((()=>{const r=e.maximum(0,e.sub(1,e.mul(n,t)));return e.mean(o.Ew(r),-1)}))},hinge:function(n,t){return(0,e.tidy)((()=>{const r=e.maximum(0,e.sub(1,e.mul(n,t)));return e.mean(r,-1)}))},categoricalHinge:function(n,t){return(0,e.tidy)((()=>{const r=e.sum(e.mul(n,t),-1),u=e.max(e.mul(e.sub(1,n),t),-1);return e.maximum(0,e.add(1,e.sub(u,r)))}))},logcosh:function(n,t){return(0,e.tidy)((()=>{const r=Math.log(2),u=e.sub(t,n),o=e.sub(e.add(u,e.softplus(e.mul(-2,u))),r);return e.mean(o,-1)}))},categoricalCrossentropy:m,sparseCategoricalCrossentropy:d,binaryCrossentropy:y,kullbackLeiblerDivergence:p,poisson:function(n,t){return(0,e.tidy)((()=>{const r=e.log(e.add((0,u.Ni)(),t));return e.mean(e.sub(t,e.mul(n,r)),-1)}))},cosineProximity:g};function h(n){if("string"===typeof n){if(n in b)return b[n];let t=`Unknown loss ${n}`;throw n.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${n}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new i.Qp(t)}return n}},96681:function(n,t,r){r.d(t,{I:function(){return u},i:function(){return o}});var e=r(9495);async function u(n){if(null==n)return;const t=[],r=[],u=[];for(const e in n){const o=n[e];if("number"!==typeof o){const n=o;t.push(n.data()),r.push(e),u.push(n)}}if(t.length>0){const o=await Promise.all(t);for(let t=0;t<o.length;++t)n[r[t]]=o[t][0];(0,e.dispose)(u)}}function o(n){if(null!=n)for(const t in n){const r=n[t];"number"!==typeof r&&r.dispose()}}}}]);
//# sourceMappingURL=stylist-vendors-5aa22f55.b23e90acd2fa572871d9.js.map