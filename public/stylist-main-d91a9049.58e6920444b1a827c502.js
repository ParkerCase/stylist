"use strict";(self.webpackChunkStylistWidget=self.webpackChunkStylistWidget||[]).push([[4376],{15799:function(e,t,s){s.d(t,{i:function(){return a}});var i=function(e,t,s,i){return new(s||(s=Promise))((function(a,o){function n(e){try{l(i.next(e))}catch(t){o(t)}}function r(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,r)}l((i=i.apply(e,t||[])).next())}))};class a{constructor(e){this.client=e}getUserProfile(e){return i(this,void 0,void 0,(function*(){return this.client.get(`/api/v1/users/${e}`)}))}createUser(e){return i(this,void 0,void 0,(function*(){return this.client.post("/api/v1/users",{email:e})}))}updatePreferences(e,t){return i(this,void 0,void 0,(function*(){return this.client.put(`/api/v1/users/${e}/preferences`,t)}))}getStyleQuiz(){return i(this,void 0,void 0,(function*(){return this.client.get("/api/v1/style-quiz")}))}submitStyleQuiz(e,t){return i(this,void 0,void 0,(function*(){return this.client.post(`/api/v1/users/${e}/style-quiz`,{answers:t})}))}addClosetItem(e,t){return i(this,void 0,void 0,(function*(){return this.client.post(`/api/v1/users/${e}/closet`,t)}))}removeClosetItem(e,t){return i(this,void 0,void 0,(function*(){return this.client.delete(`/api/v1/users/${e}/closet/${t}`)}))}updateClosetItem(e,t,s){return i(this,void 0,void 0,(function*(){return this.client.put(`/api/v1/users/${e}/closet/${t}`,s)}))}toggleFavoriteItem(e,t,s){return i(this,void 0,void 0,(function*(){return this.client.put(`/api/v1/users/${e}/closet/${t}/favorite`,{favorite:s})}))}}},16621:function(e,t,s){s.d(t,{A:function(){return d}});var i=s(74848),a=s(96540),o=s(39635);const n={min:.8,max:1,label:"Perfect Match"},r={min:.6,max:.8,label:"Great Pairing"},l={min:.4,max:.6,label:"Good Match"},c={min:0,max:.4,label:"Basic Match"};var d=({isOpen:e,onClose:t,selectedItem:s,complementaryItems:d,onAddToCart:h,onAddAllToCart:u,primaryColor:m})=>{const[g,y]=(0,a.useState)([]);if((0,a.useEffect)((()=>{e&&y([])}),[e,s]),!e)return null;const p=(0,a.useMemo)((()=>d.map((e=>{const t=function(e,t){const s=[],i=function(e,t){if(!e.colors||!t.colors||!e.colors.length||!t.colors.length)return.5;const s=e.colors.map((e=>e.toLowerCase())),i=t.colors.map((e=>e.toLowerCase())),a=["black","white","gray","grey","beige","tan","cream","ivory","silver"],o=["red","orange","yellow","pink","coral","peach","gold","brown","maroon","burgundy"],n=["blue","green","purple","violet","teal","turquoise","navy","mint","lavender"],r=[["blue","orange"],["purple","yellow"],["green","red"],["teal","coral"],["navy","gold"]];if(s.filter((e=>i.includes(e))).length>0)return.9;const l=s.some((e=>a.includes(e))),c=i.some((e=>a.includes(e)));if(l||c)return.8;for(const g of s)for(const e of i)for(const[t,s]of r)if(g.includes(t)&&e.includes(s)||g.includes(s)&&e.includes(t))return.85;const d=s.some((e=>o.some((t=>e.includes(t))))),h=i.some((e=>o.some((t=>e.includes(t))))),u=s.some((e=>n.some((t=>e.includes(t))))),m=i.some((e=>n.some((t=>e.includes(t)))));if(d&&h||u&&m)return.75;if(d&&m||u&&h)return.6;return.5}(e,t);i>.8?s.push("Excellent color harmony"):i>.6&&s.push("Good color coordination");const a=function(e,t){if(!e.category||!t.category)return.5;const s=e.category.toLowerCase(),i=t.category.toLowerCase(),a=[["top","bottom"],["shirt","pant"],["shirt","skirt"],["blouse","pant"],["blouse","skirt"],["top","jean"],["dress","jacket"],["dress","shoe"],["dress","accessory"],["outfit","accessory"],["outfit","shoe"],["top","accessory"],["bottom","accessory"],["shoe","bag"]];for(const[y,p]of a)if(s.includes(y)&&i.includes(p)||s.includes(p)&&i.includes(y))return 1;const o=["top","shirt","blouse","tee","t-shirt","sweater"],n=["bottom","pant","skirt","jean","trouser","legging","short"],r=["dress","gown","jumpsuit"],l=["jacket","coat","blazer","cardigan"],c=["accessory","jewelry","scarf","hat","belt"],d=["shoe","boot","sneaker","heel","sandal"],h=["bag","handbag","purse","backpack","tote"],u=e=>o.some((t=>e.includes(t)))?"top":n.some((t=>e.includes(t)))?"bottom":r.some((t=>e.includes(t)))?"dress":l.some((t=>e.includes(t)))?"outer":c.some((t=>e.includes(t)))?"accessory":d.some((t=>e.includes(t)))?"footwear":h.some((t=>e.includes(t)))?"bag":"unknown",m=u(s),g=u(i);if(m===g)return"accessory"===m?.7:.3;if("top"===m&&"outer"===g||"outer"===m&&"top"===g||"bottom"===m&&"footwear"===g||"footwear"===m&&"bottom"===g)return.9;return.7}(e,t);a>.9?s.push("Perfect category pairing"):a>.7&&s.push("Complementary categories");const o=function(e,t){var s,i,a,o;const n={casual:["casual","relax","everyday","basic","tee","t-shirt","jeans","denim","cotton","jersey","lounge","hoodie","sweatshirt","sneaker"],formal:["formal","elegant","business","suit","blazer","office","professional","dress shoe","oxford","sophisticated"],athletic:["sport","active","workout","athleisure","running","training","gym","performance","stretch","technical"],evening:["evening","party","cocktail","gown","sequin","glitter","statement","special occasion"],bohemian:["boho","bohemian","relaxed","earthy","flowy","natural","ethnic","artisan","fringe"],minimalist:["minimal","clean","simple","modern","sleek","essential","basic","streamlined"],vintage:["vintage","retro","classic","nostalgic","timeless","heritage"]},r=e=>{const t=`${e.name||""} ${e.description||""}`.toLowerCase();return Object.entries(n).map((([e,s])=>{const i=s.filter((e=>t.includes(e))).length;return{style:e,score:i>0?i/s.length:0}})).filter((e=>e.score>0)).sort(((e,t)=>t.score-e.score))},l=r(e),c=r(t);if(0===l.length||0===c.length)return.5;if((null===(s=l[0])||void 0===s?void 0:s.style)===(null===(i=c[0])||void 0===i?void 0:i.style))return.9;if(l.filter((e=>c.some((t=>t.style===e.style)))).length>0)return.7;const d=[["casual","athletic"],["casual","minimalist"],["casual","bohemian"],["formal","minimalist"],["minimalist","evening"],["vintage","bohemian"]],h=null===(a=l[0])||void 0===a?void 0:a.style,u=null===(o=c[0])||void 0===o?void 0:o.style;if(h&&u)for(const[m,g]of d)if(h===m&&u===g||h===g&&u===m)return.65;return.4}(e,t);o>.8?s.push("Consistent style aesthetic"):o>.6&&s.push("Compatible styling");const d=.4*i+.35*a+.25*o;d>=n.min?s.unshift(n.label):d>=r.min?s.unshift(r.label):d>=l.min?s.unshift(l.label):s.unshift(c.label);return{score:d,reasons:s,colorHarmony:i,categoryMatch:a,styleConsistency:o}}(s,e);return Object.assign(Object.assign({},e),{styleCoordination:t})})).sort(((e,t)=>{var s,i;return((null===(s=t.styleCoordination)||void 0===s?void 0:s.score)||0)-((null===(i=e.styleCoordination)||void 0===i?void 0:i.score)||0)}))),[d,s]);return(0,i.jsxs)("div",Object.assign({className:"stylist-complete-look-modal"},{children:[(0,i.jsx)("div",{className:"stylist-complete-look-modal__backdrop",onClick:t}),(0,i.jsxs)("div",Object.assign({className:"stylist-complete-look-modal__content"},{children:[(0,i.jsx)("button",Object.assign({className:"stylist-complete-look-modal__close",onClick:t},{children:(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}))})),(0,i.jsxs)("div",Object.assign({className:"stylist-complete-look-modal__header"},{children:[(0,i.jsx)("h3",Object.assign({className:"stylist-complete-look-modal__title",style:{color:m}},{children:(()=>{if(!s.category)return"Complete Your Look";const e=s.category.toLowerCase();return["top","shirt","blouse","tshirt"].some((t=>e.includes(t)))?"Complete Your Look with Bottoms & Accessories":["bottom","pant","trouser","jean","skirt"].some((t=>e.includes(t)))?"Complete Your Look with Tops & Accessories":["dress"].some((t=>e.includes(t)))?"Complete Your Look with Shoes & Accessories":["shoe"].some((t=>e.includes(t)))?"Complete Your Look with Clothing & Accessories":["accessory","bag","jewelry"].some((t=>e.includes(t)))?"Complete Your Look with Clothing & Shoes":"Complete Your Look"})()})),(0,i.jsxs)("p",Object.assign({className:"stylist-complete-look-modal__subtitle"},{children:["We found these items that go perfectly with your ",s.name]}))]})),(0,i.jsx)("div",Object.assign({className:"stylist-complete-look-modal__selected-item"},{children:(0,i.jsx)(o.A,{item:s,onAddToCart:h,primaryColor:m})})),(0,i.jsx)("div",Object.assign({className:"stylist-complete-look-modal__complementary-items"},{children:p.map((e=>{const t=e.styleCoordination,s=(null===t||void 0===t?void 0:t.score)>=n.min?"#2C9E3F":(null===t||void 0===t?void 0:t.score)>=r.min?"#4C8BF5":(null===t||void 0===t?void 0:t.score)>=l.min?"#F5A623":"#9B9B9B";return(0,i.jsxs)("div",Object.assign({className:"stylist-complete-look-modal__item "+(g.includes(e.id)?"stylist-complete-look-modal__item--selected":""),onClick:()=>{return t=e.id,void y((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t}},{children:[t&&(0,i.jsxs)("div",Object.assign({className:"stylist-complete-look-modal__match-badge",style:{backgroundColor:s}},{children:[Math.round(100*t.score),"% Match"]})),(0,i.jsx)(o.A,{item:e,onAddToCart:h,primaryColor:m}),t&&(0,i.jsxs)("div",Object.assign({className:"stylist-complete-look-modal__style-details"},{children:[(0,i.jsx)("div",Object.assign({className:"stylist-complete-look-modal__style-reason"},{children:t.reasons[0]})),(0,i.jsxs)("div",Object.assign({className:"stylist-complete-look-modal__style-metrics"},{children:[(0,i.jsxs)("div",Object.assign({className:"stylist-complete-look-modal__style-metric"},{children:[(0,i.jsx)("span",{children:"Color: "}),(0,i.jsx)("span",Object.assign({className:"stylist-complete-look-modal__metric-bar"},{children:(0,i.jsx)("span",{className:"stylist-complete-look-modal__metric-fill",style:{width:100*t.colorHarmony+"%",backgroundColor:s}})}))]})),(0,i.jsxs)("div",Object.assign({className:"stylist-complete-look-modal__style-metric"},{children:[(0,i.jsx)("span",{children:"Category: "}),(0,i.jsx)("span",Object.assign({className:"stylist-complete-look-modal__metric-bar"},{children:(0,i.jsx)("span",{className:"stylist-complete-look-modal__metric-fill",style:{width:100*t.categoryMatch+"%",backgroundColor:s}})}))]}))]}))]})),(0,i.jsx)("div",Object.assign({className:"stylist-complete-look-modal__item-select"},{children:(0,i.jsx)("div",Object.assign({className:"stylist-complete-look-modal__checkbox"},{children:g.includes(e.id)&&(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}))}))}))]}),e.id)}))})),(0,i.jsx)("div",Object.assign({className:"stylist-complete-look-modal__actions"},{children:(0,i.jsxs)("button",Object.assign({className:"stylist-complete-look-modal__add-all",onClick:()=>{const e=g.length>0?g:p.map((e=>e.id));u(e),t()},style:{backgroundColor:m}},{children:[(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z"})})),"Add ",g.length>0?"Selected":"All"," To Cart"]}))}))]}))]}))}},22321:function(e,t,s){s.d(t,{A:function(){return a}});var i=s(74848);var a=({categories:e,selectedCategory:t,onChange:s,includeAll:a=!0,label:o="Category",primaryColor:n})=>{const r=n?{"--stylist-focus-color":n}:void 0;return(0,i.jsxs)("div",Object.assign({className:"stylist-category-selector",style:r},{children:[o&&(0,i.jsx)("label",Object.assign({className:"stylist-category-selector__label"},{children:o})),(0,i.jsxs)("select",Object.assign({className:"stylist-category-selector__select",value:t,onChange:e=>s(e.target.value),"aria-label":o},{children:[a&&(0,i.jsx)("option",Object.assign({value:"all"},{children:"All Categories"})),e.map((e=>(0,i.jsx)("option",Object.assign({value:e.id},{children:e.name}),e.id)))]})),(0,i.jsx)("div",Object.assign({className:"stylist-category-selector__arrow"},{children:(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M7 10l5 5 5-5z"})}))}))]}))}},60325:function(e,t,s){s.r(t),s.d(t,{default:function(){return $}});var i=s(74848),a=s(96540),o=s(94371),n=s(55265),r=s(40541);var l=({title:e="The Stylist",logo:t,primaryColor:s,currentView:a="chat",onSwitchView:l,showDemoToggle:c=!1,activeTab:d="chat"})=>{const{toggleMinimize:h,toggleOpen:u,isMinimized:m}=(0,o.Lo)();return(0,i.jsxs)("div",Object.assign({className:"stylist-chat-header",style:{backgroundColor:s}},{children:[(0,i.jsx)("div",Object.assign({className:"stylist-chat-header__logo"},{children:t?(0,i.jsx)("img",{src:t,alt:e,className:"stylist-chat-header__logo-img"}):(0,i.jsx)("div",Object.assign({className:"stylist-chat-header__logo-placeholder"},{children:(e=>{switch(e){case"chat":return(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M12 1a9 9 0 019 9c0 4.56-3.37 8.33-7.76 8.95l-.19-.47a7.99 7.99 0 002.93-10.57A8.02 8.02 0 004.06 13.1A9 9 0 0112 1zm7.12 13.93l.37.37-.36.36.01-.73zm1.36-1.55a2.83 2.83 0 00-.5-.31l.36-.74c.28.12.54.29.78.48l-.64.57zm-14.81.19l.36.73c-.29.16-.57.35-.8.57l-.57-.64c.31-.3.65-.54 1.01-.66zM6.66 22l1.93-3.1c-.47-.55-.85-1.16-1.14-1.8L2.8 19.13V22h3.86zm10.46-2.91L19 21.99v-2.86l-1.14-.93c.12-.39.19-.8.19-1.22l.08-.04A8.96 8.96 0 0022 10 10 10 0 002 10a9 9 0 003.34 7.03L1.94 20.5A1 1 0 002.86 22h16.28a1 1 0 00.92-1.5l-2.94-3.41z"})}));case"lookbook":return(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-3 2v5l-1-.75L15 9V4h2zm3 12H8V4h5v9l3-2.25L19 13V4h1v12z"})}));case"myCloset":return(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M21 4H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H3V6h9v12h9zM8 1.5v3h8v-3h-8zM9 17h2V7H9zm4 0h2V7h-2z"})}));case"tryOn":return(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M12 6c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm8 12v-9.5C20 4.58 16.42 1 12 1S4 4.58 4 8.5V18c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-6-10.5c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5S11.17 6 12 6s1.5.67 1.5 1.5zM6 18v-6h.5c.28 0 .5.22.5.5v5c0 .28-.22.5-.5.5H6zm3.5 0v-6.5c0-.28.22-.5.5-.5s.5.22.5.5V18h-1zm3.5 0v-6h.5c.28 0 .5.22.5.5v5c0 .28-.22.5-.5.5H13zm4 0v-5.5c0-.28.22-.5.5-.5s.5.22.5.5V18h-1z"})}));case"social":return(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27z"})}));case"trending":return(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M16.85 6.85l1.44 1.44-4.88 4.88-3.29-3.29c-.39-.39-1.02-.39-1.41 0l-6 6.01c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L9.41 12l3.29 3.29c.39.39 1.02.39 1.41 0l5.59-5.58 1.44 1.44c.31.31.85.09.85-.35V6.5c.01-.28-.21-.5-.49-.5h-4.29c-.45 0-.67.54-.36.85z"})}));default:return(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M12 1a9 9 0 019 9c0 4.56-3.37 8.33-7.76 8.95l-.19-.47a7.99 7.99 0 002.93-10.57A8.02 8.02 0 004.06 13.1A9 9 0 0112 1z"})}))}})(d)}))})),(0,i.jsx)("div",Object.assign({className:"stylist-chat-header__title"},{children:e})),(0,i.jsxs)("div",Object.assign({className:"stylist-chat-header__controls"},{children:[c&&(0,i.jsx)("div",Object.assign({className:"stylist-chat-header__demo-toggle"},{children:(0,i.jsx)(r.nF,{})})),!m&&(0,i.jsx)(n.A,{onClickNotification:()=>{l&&"lookbook"!==a&&l("lookbook")}}),l&&!m&&"chat"!==d&&(0,i.jsx)("button",Object.assign({className:"stylist-chat-header__button stylist-chat-header__button--switch",onClick:()=>l("chat"),"aria-label":"Return to Chat"},{children:(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"})}))})),(0,i.jsx)("button",Object.assign({className:"stylist-chat-header__button stylist-chat-header__button--minimize",onClick:()=>{h()},"aria-label":m?"Maximize":"Minimize"},{children:m?(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})})):(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M19 13H5v-2h14v2z"})}))})),(0,i.jsx)("button",Object.assign({className:"stylist-chat-header__button stylist-chat-header__button--close",onClick:()=>{u()},"aria-label":"Close"},{children:(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})}))}))]}))]}))},c=s(32300),d=s(32330),h=s(36849),u=s(68037);var m=({messages:e,onItemFeedback:t,onOutfitFeedback:s,onMessageFeedback:o,onQuizSubmit:n,isLoading:r=!1,primaryColor:l})=>{const m=(0,a.useRef)(null),g=(0,a.useRef)(null);(0,a.useEffect)((()=>{y()}),[e]);const y=()=>{m.current&&m.current.scrollIntoView({behavior:"smooth"})};return(0,i.jsx)("div",Object.assign({className:"stylist-chat-body",ref:g},{children:(0,i.jsxs)("div",Object.assign({className:"stylist-chat-body__messages"},{children:[e.map((e=>(e=>{switch(e.type){case"text":return(0,i.jsx)(c.A,{message:e,primaryColor:l,onFeedback:o},e.id);case"recommendation":return(0,i.jsxs)("div",Object.assign({className:"stylist-chat-body__recommendation"},{children:[(0,i.jsx)("div",Object.assign({className:"stylist-chat-body__recommendation-title"},{children:"Here are some recommendations for you:"})),(0,i.jsx)("div",Object.assign({className:"stylist-chat-body__recommendation-items"},{children:e.items.map((e=>{const s={id:e.id,retailerId:"default",name:e.name,brand:e.brand,category:e.category,price:e.price,salePrice:e.salePrice,colors:[],sizes:[],imageUrls:[e.imageUrl],url:e.url,matchScore:e.matchScore,matchReasons:e.matchReasons,inStock:!0};return(0,i.jsx)(d.default,{item:s,onFeedback:t,primaryColor:l},e.id)}))}))]}),e.id);case"outfit":return(0,i.jsx)(h.A,{outfit:e.outfit,onFeedback:s,primaryColor:l},e.id);case"quiz":return(0,i.jsx)(u.default,{quizId:e.quizId,title:e.title,description:e.description,onSubmit:n||(()=>{}),primaryColor:l},e.id);case"loading":return(0,i.jsx)("div",Object.assign({className:"stylist-chat-body__loading"},{children:(0,i.jsxs)("div",Object.assign({className:"stylist-chat-body__loading-dots"},{children:[(0,i.jsx)("span",{}),(0,i.jsx)("span",{}),(0,i.jsx)("span",{})]}))}),e.id);case"error":return(0,i.jsxs)("div",Object.assign({className:"stylist-chat-body__error"},{children:[(0,i.jsx)("div",Object.assign({className:"stylist-chat-body__error-icon"},{children:(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}))})),(0,i.jsx)("div",Object.assign({className:"stylist-chat-body__error-message"},{children:e.error}))]}),e.id);default:return null}})(e))),r&&(0,i.jsx)("div",Object.assign({className:"stylist-chat-body__loading"},{children:(0,i.jsxs)("div",Object.assign({className:"stylist-chat-body__loading-dots"},{children:[(0,i.jsx)("span",{}),(0,i.jsx)("span",{}),(0,i.jsx)("span",{})]}))})),(0,i.jsx)("div",{ref:m})]}))}))};var g=({onImageUpload:e,primaryColor:t,disabled:s=!1})=>{const[o,n]=(0,a.useState)(!1),[r,l]=(0,a.useState)(null),c=(0,a.useRef)(null),d=t=>{if(t.length>0){const s=t[0];if(!s.type.match("image.*"))return void alert("Please select an image file (png, jpg, jpeg)");const i=new FileReader;i.onload=()=>{l(i.result)},i.readAsDataURL(s),e(s)}},h={borderColor:o?t||"#4361ee":void 0,backgroundColor:o?`${t||"#4361ee"}11`:void 0},u={backgroundColor:t||void 0};return(0,i.jsxs)("div",Object.assign({className:`stylist-chat-image-uploader ${o?"dragging":""} ${s?"disabled":""}`,onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),s||n(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),n(!1)},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),s||n(!0)},onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),n(!1),s)return;const t=e.dataTransfer.files;d(t)},onClick:()=>{!s&&c.current&&c.current.click()},style:h},{children:[(0,i.jsx)("input",{type:"file",ref:c,className:"stylist-chat-image-uploader__input",accept:"image/*",onChange:e=>{const t=e.target.files;t&&d(t)},disabled:s}),r?(0,i.jsxs)("div",Object.assign({className:"stylist-chat-image-uploader__preview"},{children:[(0,i.jsx)("img",{src:r,alt:"Preview",className:"stylist-chat-image-uploader__preview-image"}),(0,i.jsx)("button",Object.assign({className:"stylist-chat-image-uploader__remove-button",onClick:e=>{e.stopPropagation(),l(null),c.current&&(c.current.value="")},"aria-label":"Remove image"},{children:(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}))}))]})):(0,i.jsxs)("div",Object.assign({className:"stylist-chat-image-uploader__content"},{children:[(0,i.jsx)("div",Object.assign({className:"stylist-chat-image-uploader__icon"},{children:(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-5zM5 19l3-4 2 3 3-4 4 5H5z"})}))})),(0,i.jsxs)("div",Object.assign({className:"stylist-chat-image-uploader__text"},{children:[(0,i.jsx)("p",{children:"Drag & drop an image or click to browse"}),(0,i.jsx)("small",{children:"Find clothing similar to the image"})]}))]})),!r&&(0,i.jsx)("button",Object.assign({className:"stylist-chat-image-uploader__button",style:u,disabled:s},{children:"Upload Image"}))]}))};var y=({onURLSubmit:e,primaryColor:t,disabled:s=!1})=>{const[o,n]=(0,a.useState)(""),[r,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(""),h={backgroundColor:t||void 0};return(0,i.jsxs)("div",Object.assign({className:"stylist-chat-url-input "+(s?"disabled":"")},{children:[(0,i.jsxs)("div",Object.assign({className:"stylist-chat-url-input__header"},{children:[(0,i.jsx)("div",Object.assign({className:"stylist-chat-url-input__icon"},{children:(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"})}))})),(0,i.jsx)("h3",Object.assign({className:"stylist-chat-url-input__title"},{children:"Find a specific product"}))]})),(0,i.jsxs)("form",Object.assign({className:"stylist-chat-url-input__form",onSubmit:t=>{if(t.preventDefault(),s)return;const i=o.trim();if(!i)return l(!1),void d("Please enter a URL");(e=>{try{return new URL(e),!0}catch(t){return d("Please enter a valid URL"),!1}})(i)?(e(i),n("")):l(!1)}},{children:[(0,i.jsxs)("div",Object.assign({className:"stylist-chat-url-input__input-container"},{children:[(0,i.jsx)("input",{type:"text",className:"stylist-chat-url-input__input "+(r?"":"error"),value:o,onChange:e=>{const t=e.target.value;n(t),r||(l(!0),d(""))},placeholder:"Enter product URL (e.g. https://store.com/product)",disabled:s}),!r&&(0,i.jsx)("div",Object.assign({className:"stylist-chat-url-input__error"},{children:c}))]})),(0,i.jsxs)("button",Object.assign({type:"submit",className:"stylist-chat-url-input__submit",disabled:s||""===o.trim(),style:h,"aria-label":"Submit URL"},{children:[(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})})),"Find Product"]}))]})),(0,i.jsx)("div",Object.assign({className:"stylist-chat-url-input__info"},{children:(0,i.jsx)("p",{children:"Paste a link to a specific clothing item to get detailed information and styling suggestions for that product."})}))]}))};var p=({onSendMessage:e,onImageUpload:t,onURLSubmit:s,onVoiceInput:n,placeholder:r="Type a message...",disabled:l=!1,primaryColor:c})=>{const[d,h]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1),[p,j]=(0,a.useState)(!1),[b,v]=(0,a.useState)(!1),x=(0,a.useRef)(null),{isLoading:f}=(0,o.Lo)(),w=(0,a.useRef)(null);(0,a.useEffect)((()=>{if("SpeechRecognition"in window||"webkitSpeechRecognition"in window){const e=window.SpeechRecognition||window.webkitSpeechRecognition;w.current=new e,w.current&&(w.current.continuous=!1,w.current.interimResults=!0,w.current.lang="en-US",w.current.onresult=e=>{const t=Array.from(Array.from({length:e.results.length},((t,s)=>e.results[s]))).map((e=>{var t;return(null===(t=e[0])||void 0===t?void 0:t.transcript)||""})).join("");h((e=>(e+" "+t).trim()))},w.current.onend=()=>{v(!1)},w.current.onerror=e=>{v(!1)})}return()=>{w.current&&w.current.abort()}}),[]);(0,a.useEffect)((()=>{!x.current||u||p||x.current.focus()}),[u,p]),(0,a.useEffect)((()=>{x.current&&(x.current.style.height="auto",x.current.style.height=`${Math.min(x.current.scrollHeight,120)}px`)}),[d]);const _=()=>{const t=d.trim();!t||l||f||(e(t),h(""),x.current&&(x.current.style.height="auto"))},O={backgroundColor:c||void 0},I={color:c||void 0,borderColor:c||void 0};return(0,i.jsxs)("div",Object.assign({className:"stylist-chat-input-container"},{children:[u&&(0,i.jsx)(g,{onImageUpload:e=>{t&&(t(e),m(!1))},disabled:l||f,primaryColor:c}),p&&(0,i.jsx)(y,{onURLSubmit:e=>{s&&(s(e),j(!1))},disabled:l||f,primaryColor:c}),(0,i.jsxs)("div",Object.assign({className:"stylist-chat-input-toolbar"},{children:[(0,i.jsx)("button",Object.assign({className:"stylist-chat-input-toolbar__button "+(u?"active":""),onClick:()=>{m(!u),p&&j(!1)},disabled:l||f,style:u?I:void 0,"aria-label":"Upload image",title:"Upload an image to find similar items"},{children:(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-5zM5 19l3-4 2 3 3-4 4 5H5z"})}))})),(0,i.jsx)("button",Object.assign({className:"stylist-chat-input-toolbar__button "+(p?"active":""),onClick:()=>{j(!p),u&&m(!1)},disabled:l||f,style:p?I:void 0,"aria-label":"Enter URL",title:"Enter a product URL to analyze"},{children:(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"})}))})),"SpeechRecognition"in window||"webkitSpeechRecognition"in window?(0,i.jsx)("button",Object.assign({className:"stylist-chat-input-toolbar__button "+(b?"recording":""),onClick:()=>{if(w.current){if(b)w.current.stop(),v(!1);else try{w.current.start(),v(!0)}catch(e){}n&&n()}else alert("Speech recognition is not supported in your browser.")},disabled:l||f,"aria-label":b?"Stop recording":"Voice input",title:"Use voice to input text"},{children:(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.91-3c-.49 0-.9.36-.98.85C16.52 14.2 14.47 16 12 16s-4.52-1.8-4.93-4.15c-.08-.49-.49-.85-.98-.85-.61 0-1.09.54-1 1.14.49 3 2.89 5.35 5.91 5.78V20c0 .55.45 1 1 1s1-.45 1-1v-2.08c3.02-.43 5.42-2.78 5.91-5.78.1-.6-.39-1.14-1-1.14z"})}))})):null,(0,i.jsx)("div",Object.assign({className:"stylist-chat-input__help"},{children:"Type a message or use the tools above for more input options"}))]})),(0,i.jsxs)("div",Object.assign({className:"stylist-chat-input"},{children:[(0,i.jsx)("div",Object.assign({className:"stylist-chat-input__container"},{children:(0,i.jsx)("textarea",{ref:x,className:"stylist-chat-input__textarea",placeholder:r,value:d,onChange:e=>{h(e.target.value)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),_())},disabled:l||f,rows:1,"aria-label":"Message input"})})),(0,i.jsx)("button",Object.assign({className:"stylist-chat-input__send-button",onClick:_,disabled:!d.trim()||l||f,style:O,"aria-label":"Send message"},{children:(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})}))}))]}))]}))},j=s(3372),b=s(37742),v=s(87187),x=s(23918),f=s(22592),w=s(68884),_=s(40311),O=s(86647),I=s(30492),k=s(51462),S=s(99972),C=s(4879),N=s(70212),L=s(93044),T=s(40209),A=s(69863),z=s(54826),E=s(96112),P=s(80686),M=function(e,t,s,i){return new(s||(s=Promise))((function(a,o){function n(e){try{l(i.next(e))}catch(t){o(t)}}function r(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,r)}l((i=i.apply(e,t||[])).next())}))};const R=(0,a.lazy)((()=>Promise.resolve().then(s.bind(s,70212)).then((e=>e)).catch((e=>({default:N.default}))))),U=(0,a.lazy)((()=>Promise.resolve().then(s.bind(s,93044)).then((e=>e)).catch((e=>({default:L.default}))))),F=(0,a.lazy)((()=>Promise.resolve().then(s.bind(s,40209)).then((e=>e)).catch((e=>({default:T.default}))))),V=(0,a.lazy)((()=>Promise.resolve().then(s.bind(s,69863)).then((e=>e)).catch((e=>({default:A.default}))))),D=(0,a.lazy)((()=>Promise.resolve().then(s.bind(s,54826)).then((e=>e)).catch((e=>({default:z.default}))))),H=(0,a.lazy)((()=>Promise.resolve().then(s.bind(s,96112)).then((e=>e)).catch((e=>({default:E.default}))))),B=(0,a.lazy)((()=>Promise.resolve().then(s.bind(s,80686)).then((e=>e)).catch((e=>({default:P.default})))));var $=({apiKey:e,retailerId:t,apiUrl:n,position:r="bottom-right",primaryColor:c="#4361ee",greeting:d="Hi there! I'm your AI style assistant. How can I help you today?",onFirstPaint:h,showDemoToggle:u=!1})=>{const[g,y]=(0,a.useState)(!1),$=(0,a.useRef)(!1),[Y,W]=(0,a.useState)(null),[G,q]=(0,a.useState)(!1),{messages:X,isOpen:Z,isMinimized:K,isLoading:Q,currentView:J,addTextMessage:ee,addMessage:te,setLoading:se,setError:ie,setCurrentView:ae}=(0,o.Lo)(),[oe,ne]=(0,a.useState)("chat"),{user:re,setUser:le,addLikedItem:ce,addDislikedItem:de}=(0,o.kH)(),{recommendedItems:he,recommendedOutfits:ue,savedOutfits:me,setRecommendedItems:ge,setRecommendedOutfits:ye,addToWishlist:pe,addToCart:je,saveOutfit:be}=(0,o.W0)(),{addMessageThumbsUp:ve}=(0,v.k)(),xe=(0,f.zA)({apiKey:e,retailerId:t,apiUrl:n}),fe=(0,a.useCallback)((()=>M(void 0,void 0,void 0,(function*(){try{se(!0);const t=(0,O.F6)();let s;try{s=yield xe.user.getUserProfile(t)}catch(e){s=yield xe.user.createUser()}le(s),d&&(ee(d,"assistant"),yield new Promise((e=>setTimeout(e,1200))),ee("I can help you with:\n\u2022 Finding clothes that match your style\n\u2022 Creating complete outfits\n\u2022 Virtual try-ons\n\nTo get started, would you like to take our quick style quiz or see some recommended items?","assistant")),(0,_.s)(_.X.WIDGET_OPEN,s.userId),C.USE_PARALLEL_INIT?yield we(s.userId):window.__STYLIST_PENDING_INITIALIZATIONS=Object.assign(Object.assign({},window.__STYLIST_PENDING_INITIALIZATIONS||{}),{recommendations:{userId:s.userId}})}catch(t){ie("Sorry, I had trouble connecting. Please try again later."),ee("Sorry, I had trouble connecting. Please try again later.","system")}finally{se(!1)}}))),[xe,d,ee,le,se,ie]),we=e=>M(void 0,void 0,void 0,(function*(){if(!(he.length>0))try{const t=yield xe.recommendation.getRecommendations({userId:e,limit:6}),s=t.items.map((e=>({id:e.id,retailerId:"default",name:e.name,brand:e.brand,category:e.category,price:e.price,salePrice:e.salePrice,colors:[],sizes:[],imageUrls:[e.imageUrls[0]||""],url:e.url,matchScore:e.matchScore,matchReasons:e.matchReasons,inStock:!0})));if(ge(s),t.outfits&&t.outfits.length>0){const e=t.outfits.map((e=>({id:e.id,name:e.name||"",occasion:e.occasion,matchScore:e.matchScore,matchReasons:e.matchReasons,items:e.items.map((e=>({id:e.id,retailerId:"default",name:e.name,brand:e.brand,category:e.category,price:e.price,salePrice:e.salePrice,colors:[],sizes:[],imageUrls:[e.imageUrls[0]||""],url:e.url,matchScore:e.matchScore,matchReasons:e.matchReasons,inStock:!0})))})));ye(e)}}catch(t){}})),[_e,Oe]=(0,a.useState)(!1),Ie=(0,a.useRef)(null),ke=(0,a.useRef)(!1);(0,a.useEffect)((()=>{const e=!0===window.__STYLIST_CHAT_INITIALIZED;if(g||e||$.current)return;$.current=!0,window.__STYLIST_CHAT_INITIALIZED=!0;const t=setTimeout((()=>{g||y(!0)}),1e4);return fe().then((()=>{clearTimeout(t),y(!0),C.USE_PARALLEL_INIT||ke.current||(Ie.current=setTimeout((()=>{ke.current||Se()}),100))})).catch((e=>{clearTimeout(t),y(!0)})),()=>{clearTimeout(t),Ie.current&&clearTimeout(Ie.current)}}),[g,fe]);const Se=()=>{var e;if(!ke.current&&(ke.current=!0,Oe(!0),"function"===typeof h&&h(),!C.USE_PARALLEL_INIT&&window.__STYLIST_PENDING_INITIALIZATIONS&&(null===(e=window.__STYLIST_PENDING_INITIALIZATIONS)||void 0===e?void 0:e.recommendations))){const{userId:e}=window.__STYLIST_PENDING_INITIALIZATIONS.recommendations;setTimeout((()=>{we(e)}),1500)}};(0,a.useEffect)((()=>{const e=()=>{q(!0)},t=()=>{if(he.length>0){const t=he[0];try{ee(`Let's see how ${t.name} looks on you!`,"assistant")}catch(e){}}};window.__StylistShowStyleQuiz&&e(),window.__StylistShowVirtualTryOn&&t();if(!!window.__StylistWidgetEvents)return window.__StylistWidgetEvents.on("styleQuiz:open",e),window.__StylistWidgetEvents.on("virtualTryOn:open",t),()=>{window.__StylistWidgetEvents.off("styleQuiz:open",e),window.__StylistWidgetEvents.off("virtualTryOn:open",t)}}),[he,ee]),(0,a.useEffect)((()=>{re&&xe&&W(new w.m(xe.recommendation,re.userId,xe.user))}),[re,xe]),(0,a.useEffect)((()=>{c&&(document.documentElement.style.setProperty("--stylist-primary-color",c),document.documentElement.style.setProperty("--stylist-primary-color-light",Ce(c,.2)),document.documentElement.style.setProperty("--stylist-primary-color-dark",Ne(c,.2)))}),[c]);const Ce=(e,t)=>{try{e=e.replace("#","");const s=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),a=parseInt(e.substring(4,6),16),o=Math.min(255,Math.floor(s+(255-s)*t)),n=Math.min(255,Math.floor(i+(255-i)*t)),r=Math.min(255,Math.floor(a+(255-a)*t));return`#${o.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}`}catch(s){return e}},Ne=(e,t)=>{try{e=e.replace("#","");const s=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),a=parseInt(e.substring(4,6),16),o=Math.max(0,Math.floor(s*(1-t))),n=Math.max(0,Math.floor(i*(1-t))),r=Math.max(0,Math.floor(a*(1-t)));return`#${o.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}`}catch(s){return e}},Le=(e,t)=>M(void 0,void 0,void 0,(function*(){if(re)try{t?(ce(e),(0,_.s)(_.X.ITEM_LIKE,re.userId,{itemId:e})):(de(e),(0,_.s)(_.X.ITEM_DISLIKE,re.userId,{itemId:e})),yield xe.recommendation.addItemFeedback({userId:re.userId,itemId:e,liked:t,timestamp:new Date}),"chat"===J&&t&&ee("Great! I've noted that you like this item. I'll keep this in mind for future recommendations.",x.D$.ASSISTANT)}catch(s){ie("Failed to save your feedback. Please try again.")}})),Te=(e,t)=>M(void 0,void 0,void 0,(function*(){if(re)try{(0,_.s)(t?_.X.OUTFIT_LIKE:_.X.OUTFIT_DISLIKE,re.userId,{outfitId:e}),yield xe.recommendation.addOutfitFeedback({userId:re.userId,outfitId:e,liked:t,timestamp:new Date}),"chat"===J&&t&&ee("Great! I'm glad you like this outfit. I'll remember your preference for future recommendations.","assistant")}catch(s){ie("Failed to save your feedback. Please try again.")}})),Ae=e=>{if(re)try{pe({itemId:e.id,retailerId:t,addedAt:new Date}),"chat"===J&&ee(`I've added ${e.name} to your wishlist!`,"assistant"),(0,_.s)(_.X.ADD_TO_WISHLIST,re.userId,{itemId:e.id})}catch(s){ie("Failed to add item to wishlist. Please try again.")}},ze=(e,i=1,a,o)=>{if(re)try{je({itemId:e.id,retailerId:t,quantity:i,size:a,color:o,addedAt:new Date}),s.e(2931).then(s.bind(s,62931)).then((({purchaseTrackingService:s})=>{s.trackPurchase({productId:e.id,source:"StylistBot",timestamp:new Date,userId:re.userId,retailerId:t})})),"chat"===J&&ee(`I've added ${e.name} to your shopping cart!`,"assistant"),(0,_.s)(_.X.ADD_TO_CART,re.userId,{itemId:e.id,quantity:i,size:a,color:o})}catch(n){ie("Failed to add item to cart. Please try again.")}},Ee=e=>{if(re)try{be({outfitId:e.id,userId:re.userId,name:e.name||`Outfit for ${e.occasion}`,items:e.items.map((e=>e.id)),savedAt:new Date}),"chat"===J&&ee("I've saved this outfit to your lookbook!","assistant"),(0,_.s)(_.X.OUTFIT_SAVE,re.userId,{outfitId:e.id})}catch(t){ie("Failed to save outfit. Please try again.")}},Pe=e=>M(void 0,void 0,void 0,(function*(){if(re)try{se(!0);const i=25;if(e.length<i){const t=e.map((e=>e.questionId)),s=Array.from({length:i},((e,t)=>`q${t+1}`)).filter((e=>!t.includes(e)));(0,_.s)(_.X.STYLE_QUIZ_PARTIAL,re.userId,{unansweredCount:s.length})}try{localStorage.removeItem("stylist_quiz_progress_style-quiz-1")}catch(t){}try{yield xe.user.submitStyleQuiz(re.userId,e)}catch(s){ie("There was an issue saving your style preferences, but we can still provide recommendations.")}let a;q(!1),ee("Thanks for completing the style quiz! I now have a better understanding of your preferences. Let me show you some recommendations based on your style profile.","assistant");try{a=yield xe.recommendation.getRecommendations({userId:re.userId,limit:4,includeOutfits:!0})}catch(s){return ie("Sorry, there was an issue getting your personalized recommendations."),void se(!1)}yield new Promise((e=>setTimeout(e,1e3))),te({type:x.Go.RECOMMENDATION,sender:x.D$.ASSISTANT,items:a.items});const o=a.items.map((e=>({id:e.id,retailerId:"default",name:e.name,brand:e.brand,category:e.category,price:e.price,salePrice:e.salePrice,colors:[],sizes:[],imageUrls:[e.imageUrl||""],url:e.url,matchScore:e.matchScore,matchReasons:e.matchReasons,inStock:!0})));if(ge(o),a.outfits&&a.outfits.length>0){yield new Promise((e=>setTimeout(e,1e3))),ee("I've also created a complete outfit based on your style:","assistant"),yield new Promise((e=>setTimeout(e,500))),te({type:x.Go.OUTFIT,sender:x.D$.ASSISTANT,outfit:a.outfits[0]});const e=a.outfits.map((e=>({id:e.id,name:e.name,occasion:e.occasion,matchScore:e.matchScore,matchReasons:e.matchReasons,items:e.items.map((e=>({id:e.id,retailerId:"default",name:e.name,brand:e.brand,category:e.category,price:e.price,salePrice:e.salePrice,colors:[],sizes:[],imageUrls:[e.imageUrl||""],url:e.url,matchScore:e.matchScore,matchReasons:e.matchReasons,inStock:!0})))})));ye(e)}(0,_.s)(_.X.STYLE_QUIZ_COMPLETE,re.userId),yield new Promise((e=>setTimeout(e,1e3))),ee("You can see all your recommendations in your lookbook. Would you like to view it now?","assistant")}catch(s){ie("Failed to process the style quiz. Please try again later."),q(!1)}finally{se(!1)}})),Me=e=>{re&&((0,_.s)(_.X.TRY_ON_SAVED,re.userId,{resultUrl:e}),ee("Great! I've saved your virtual try-on. How does it look?","assistant"))},Re=e=>{ne(e),"chat"!==e&&"lookbook"!==e||ae(e);const t={lookbook:_.X.VIEW_LOOKBOOK,myCloset:_.X.VIEW_MY_CLOSET,tryOn:_.X.VIEW_VIRTUAL_TRY_ON,social:_.X.VIEW_SOCIAL_PROOF,trending:_.X.VIEW_TRENDING_ITEMS};t[e]&&re&&(0,_.s)(t[e],re.userId)};if(!Z)return null;const Ue=`stylist-chat-widget ${{"bottom-right":"stylist-chat-widget--bottom-right","bottom-left":"stylist-chat-widget--bottom-left","top-right":"stylist-chat-widget--top-right","top-left":"stylist-chat-widget--top-left"}[r]} ${K?"stylist-chat-widget--minimized":""}`,Fe=()=>!!C.USE_PARALLEL_INIT||(_e||ke.current);return(0,a.useEffect)((()=>{C.USE_PARALLEL_INIT||ke.current||setTimeout(Se,0)}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",Object.assign({className:Ue,"data-testid":"stylist-chat-widget"},{children:[(0,i.jsx)(l,{title:(Ve=oe,{chat:"The Stylist",lookbook:"Your Lookbook",myCloset:"My Wardrobe",tryOn:"Virtual Try-On",social:"Celebrity Styles",trending:"Trending Items"}[Ve]||"The Stylist"),primaryColor:c,onSwitchView:e=>{ae(e),ne(e),"lookbook"===e&&(0,_.s)(_.X.VIEW_LOOKBOOK,(null===re||void 0===re?void 0:re.userId)||"anonymous")},currentView:J,showDemoToggle:u,activeTab:oe}),(0,i.jsx)(b.A,{activeTab:oe,onTabChange:Re,primaryColor:c,enabledFeatures:{chat:!0,lookbook:!0,myCloset:!0,tryOn:!0,social:!0,trending:!0}}),(0,i.jsx)(j.A,{onClick:()=>Re("chat"),primaryColor:c}),(0,i.jsxs)("div",Object.assign({className:"stylist-chat-widget__content"},{children:[(0,i.jsxs)(S.A,Object.assign({show:"chat"===oe,type:"fade",duration:300,className:"stylist-chat-widget__view"},{children:[(0,i.jsx)(k.A,Object.assign({fallback:(0,i.jsxs)("div",Object.assign({className:"stylist-error-container"},{children:[(0,i.jsx)("h3",{children:"Chat Body Error"}),(0,i.jsx)("p",{children:"Failed to load chat messages."}),(0,i.jsx)("button",Object.assign({onClick:()=>window.location.reload(),className:"stylist-error-retry-button"},{children:"Reload"}))]}))},{children:(0,i.jsx)(m,{messages:X,onItemFeedback:Le,onOutfitFeedback:Te,onMessageFeedback:(e,t)=>M(void 0,void 0,void 0,(function*(){if(re&&t)try{ve(e),(0,_.s)(_.X.MESSAGE_THUMBS_UP,re.userId,{messageId:e})}catch(s){}})),onAddToWishlist:Ae,onAddToCart:ze,isLoading:Q,primaryColor:c})})),(0,i.jsx)(k.A,Object.assign({fallback:(0,i.jsx)("div",Object.assign({className:"stylist-chat-input-error"},{children:(0,i.jsx)("p",{children:"Failed to load chat input."})}))},{children:(0,i.jsx)(p,{onSendMessage:e=>M(void 0,void 0,void 0,(function*(){if(ee(e,"user"),!re||!Y)return;se(!0);const t=e.toLowerCase();if(t.includes("lookbook")||t.includes("show recommendations")||t.includes("show items"))return yield new Promise((e=>setTimeout(e,500))),ee("Here's your lookbook with all recommended items and outfits!","assistant"),ae("lookbook"),void se(!1);if(t.includes("back to chat")||t.includes("return to chat"))return yield new Promise((e=>setTimeout(e,500))),ee("Switching back to chat view. How else can I help you?","assistant"),ae("chat"),void se(!1);if(t.includes("quiz")||t.includes("style profile")||t.includes("preferences"))return yield new Promise((e=>setTimeout(e,500))),ee("Let's find out more about your style preferences! Please answer a few quick questions.","assistant"),re&&(0,_.s)(_.X.STYLE_QUIZ_START,re.userId),q(!0),void se(!1);try{const t=yield Y.processMessage(e);for(let e=0;e<t.length;e++){e>0&&(yield new Promise((e=>setTimeout(e,800))));const s=t[e];if(te(s),"recommendation"===s.type){const e=s.items.map((e=>({id:e.id,retailerId:"default",name:e.name,brand:e.brand,category:e.category,price:e.price,salePrice:e.salePrice,colors:[],sizes:[],imageUrls:[e.imageUrl||""],url:e.url,matchScore:e.matchScore,matchReasons:e.matchReasons,inStock:!0})));ge(e)}if("outfit"===s.type){const e={id:s.outfit.id,name:s.outfit.name,occasion:s.outfit.occasion,matchScore:s.outfit.matchScore,matchReasons:s.outfit.matchReasons,items:s.outfit.items.map((e=>({id:e.id,retailerId:"default",name:e.name,brand:e.brand,category:e.category,price:e.price,salePrice:e.salePrice,colors:[],sizes:[],imageUrls:[e.imageUrl||""],url:e.url,matchScore:e.matchScore,matchReasons:e.matchReasons,inStock:!0})))};ue.some((t=>t.id===e.id))||ye([...ue,e])}}}catch(s){ie(s instanceof Error?s.message:String(s)),ee("Sorry, I encountered an error while processing your request. Please try again.","system")}finally{se(!1)}})),onImageUpload:e=>M(void 0,void 0,void 0,(function*(){if(re&&Y){se(!0);try{(0,_.s)(_.X.IMAGE_UPLOAD,re.userId);const t=yield Y.processImageUpload(e);for(let e=0;e<t.length;e++){e>0&&(yield new Promise((e=>setTimeout(e,800))));const s=t[e];if(te(s),"recommendation"===s.type){const e=s.items.map((e=>({id:e.id,retailerId:"default",name:e.name,brand:e.brand,category:e.category,price:e.price,salePrice:e.salePrice,colors:[],sizes:[],imageUrls:[e.imageUrl||""],url:e.url,matchScore:e.matchScore,matchReasons:e.matchReasons,inStock:!0})));ge(e)}}}catch(t){ie(t instanceof Error?t.message:String(t)),ee("Sorry, I encountered an error while processing your image. Please try again.","system")}finally{se(!1)}}})),onURLSubmit:e=>M(void 0,void 0,void 0,(function*(){if(re&&Y){se(!0);try{(0,_.s)(_.X.URL_INPUT,re.userId,{url:e});const t=yield Y.processURLInput(e);for(let e=0;e<t.length;e++){e>0&&(yield new Promise((e=>setTimeout(e,800))));const s=t[e];if(te(s),"recommendation"===s.type){const e=s.items.map((e=>({id:e.id,retailerId:"default",name:e.name,brand:e.brand,category:e.category,price:e.price,salePrice:e.salePrice,colors:[],sizes:[],imageUrls:[e.imageUrl||""],url:e.url,matchScore:e.matchScore,matchReasons:e.matchReasons,inStock:!0})));ge(e)}}}catch(t){ie(t instanceof Error?t.message:String(t)),ee("Sorry, I encountered an error while processing your URL. Please try again.","system")}finally{se(!1)}}})),onVoiceInput:()=>{re&&(0,_.s)(_.X.VOICE_INPUT,re.userId)},placeholder:"Type your question here...",disabled:Q,primaryColor:c})}))]})),(0,i.jsx)(S.A,Object.assign({show:"lookbook"===oe,type:"fade",duration:300,className:"stylist-chat-widget__view"},{children:Fe()?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Suspense,Object.assign({fallback:(0,i.jsxs)("div",Object.assign({className:"stylist-loading-container"},{children:[(0,i.jsx)("div",{className:"stylist-loading-spinner"}),(0,i.jsx)("p",{children:"Loading lookbook..."})]}))},{children:(0,i.jsx)(k.A,Object.assign({fallback:(0,i.jsxs)("div",Object.assign({className:"stylist-error-container"},{children:[(0,i.jsx)("h3",{children:"Lookbook Error"}),(0,i.jsx)("p",{children:"Failed to load your lookbook."}),(0,i.jsx)("button",Object.assign({onClick:()=>Re("chat"),className:"stylist-error-retry-button"},{children:"Return to Chat"}))]}))},{children:C.USE_LAZY_LOADING?(0,i.jsx)(F,{items:he,outfits:ue,savedOutfits:me,onItemFeedback:Le,onOutfitFeedback:Te,onAddToWishlist:Ae,onAddToCart:ze,onSaveOutfit:Ee,primaryColor:c}):(0,i.jsx)(T.default,{items:he,outfits:ue,savedOutfits:me,onItemFeedback:Le,onOutfitFeedback:Te,onAddToWishlist:Ae,onAddToCart:ze,onSaveOutfit:Ee,primaryColor:c})}))}))}):(0,i.jsx)("div",Object.assign({className:"stylist-chat-widget__loading"},{children:(0,i.jsx)("p",{children:"Initializing lookbook..."})}))})),(0,i.jsx)(S.A,Object.assign({show:"myCloset"===oe,type:"fade",duration:300,className:"stylist-chat-widget__view"},{children:Fe()?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Suspense,Object.assign({fallback:(0,i.jsxs)("div",Object.assign({className:"stylist-loading-container"},{children:[(0,i.jsx)("div",{className:"stylist-loading-spinner"}),(0,i.jsx)("p",{children:"Loading my closet..."})]}))},{children:(0,i.jsx)(k.A,Object.assign({fallback:(0,i.jsxs)("div",Object.assign({className:"stylist-error-container"},{children:[(0,i.jsx)("h3",{children:"My Closet Error"}),(0,i.jsx)("p",{children:"Failed to load your closet."}),(0,i.jsx)("button",Object.assign({onClick:()=>Re("chat"),className:"stylist-error-retry-button"},{children:"Return to Chat"}))]}))},{children:C.USE_LAZY_LOADING?(0,i.jsx)(V,{onSelectItem:e=>{Re("chat"),ee(`I'd like to know more about this ${e.category} in my closet.`,"user")}}):(0,i.jsx)(A.default,{onSelectItem:e=>{Re("chat"),ee(`I'd like to know more about this ${e.category} in my closet.`,"user")}})}))}))}):(0,i.jsx)("div",Object.assign({className:"stylist-chat-widget__loading"},{children:(0,i.jsx)("p",{children:"Initializing my closet..."})}))})),(0,i.jsx)(S.A,Object.assign({show:"tryOn"===oe,type:"fade",duration:300,className:"stylist-chat-widget__view"},{children:Fe()?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Suspense,Object.assign({fallback:(0,i.jsxs)("div",Object.assign({className:"stylist-loading-container"},{children:[(0,i.jsx)("div",{className:"stylist-loading-spinner"}),(0,i.jsx)("p",{children:"Loading virtual try-on..."})]}))},{children:(0,i.jsx)(k.A,Object.assign({fallback:(0,i.jsxs)("div",Object.assign({className:"stylist-error-container"},{children:[(0,i.jsx)("h3",{children:"Virtual Try-On Error"}),(0,i.jsx)("p",{children:"Failed to load virtual try-on."}),(0,i.jsx)("button",Object.assign({onClick:()=>Re("chat"),className:"stylist-error-retry-button"},{children:"Return to Chat"}))]}))},{children:C.USE_LAZY_LOADING?(0,i.jsx)(D,{onClose:()=>Re("chat"),onSave:Me,primaryColor:c}):(0,i.jsx)(z.default,{onClose:()=>Re("chat"),onSave:Me,primaryColor:c})}))}))}):(0,i.jsx)("div",Object.assign({className:"stylist-chat-widget__loading"},{children:(0,i.jsx)("p",{children:"Initializing virtual try-on..."})}))})),(0,i.jsx)(S.A,Object.assign({show:"social"===oe,type:"fade",duration:300,className:"stylist-chat-widget__view"},{children:Fe()?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Suspense,Object.assign({fallback:(0,i.jsxs)("div",Object.assign({className:"stylist-loading-container"},{children:[(0,i.jsx)("div",{className:"stylist-loading-spinner"}),(0,i.jsx)("p",{children:"Loading celebrity styles..."})]}))},{children:(0,i.jsx)(k.A,Object.assign({fallback:(0,i.jsxs)("div",Object.assign({className:"stylist-error-container"},{children:[(0,i.jsx)("h3",{children:"Celebrity Styles Error"}),(0,i.jsx)("p",{children:"Failed to load celebrity styles."}),(0,i.jsx)("button",Object.assign({onClick:()=>Re("chat"),className:"stylist-error-retry-button"},{children:"Return to Chat"}))]}))},{children:C.USE_LAZY_LOADING?(0,i.jsx)(B,{items:[],onItemFeedback:Le,onAddToWishlist:Ae,onAddToCart:ze,primaryColor:c,isExpanded:!0}):(0,i.jsx)(P.default,{items:[],onItemFeedback:Le,onAddToWishlist:Ae,onAddToCart:ze,primaryColor:c,isExpanded:!0})}))}))}):(0,i.jsx)("div",Object.assign({className:"stylist-chat-widget__loading"},{children:(0,i.jsx)("p",{children:"Initializing celebrity styles..."})}))})),(0,i.jsx)(S.A,Object.assign({show:"trending"===oe,type:"fade",duration:300,className:"stylist-chat-widget__view"},{children:Fe()?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Suspense,Object.assign({fallback:(0,i.jsxs)("div",Object.assign({className:"stylist-loading-container"},{children:[(0,i.jsx)("div",{className:"stylist-loading-spinner"}),(0,i.jsx)("p",{children:"Loading trending items..."})]}))},{children:(0,i.jsx)(k.A,Object.assign({fallback:(0,i.jsxs)("div",Object.assign({className:"stylist-error-container"},{children:[(0,i.jsx)("h3",{children:"Trending Items Error"}),(0,i.jsx)("p",{children:"Failed to load trending items."}),(0,i.jsx)("button",Object.assign({onClick:()=>Re("chat"),className:"stylist-error-retry-button"},{children:"Return to Chat"}))]}))},{children:C.USE_LAZY_LOADING?(0,i.jsx)(H,{apiKey:e,retailerId:t,apiUrl:n,onItemFeedback:Le,onAddToWishlist:Ae,onAddToCart:ze,primaryColor:c}):(0,i.jsx)(E.default,{apiKey:e,retailerId:t,apiUrl:n,onItemFeedback:Le,onAddToWishlist:Ae,onAddToCart:ze,primaryColor:c})}))}))}):(0,i.jsx)("div",Object.assign({className:"stylist-chat-widget__loading"},{children:(0,i.jsx)("p",{children:"Initializing trending items..."})}))}))]}))]})),void 0,Fe()&&(0,i.jsxs)(i.Fragment,{children:[void 0,(0,i.jsx)(a.Suspense,Object.assign({fallback:(0,i.jsxs)("div",Object.assign({className:"stylist-loading-container"},{children:[(0,i.jsx)("div",{className:"stylist-loading-spinner"}),(0,i.jsx)("p",{children:"Loading virtual try-on..."})]}))},{children:(0,i.jsxs)(I.A,Object.assign({loadingMessage:"Loading virtual try-on...",onLoadStart:()=>{},onLoadComplete:()=>{},onLoadError:e=>{}},{children:[null,C.USE_LAZY_LOADING?(0,i.jsx)(R,{onSave:Me}):(0,i.jsx)(N.default,{onSave:Me}),null]}))})),null,G&&(0,i.jsxs)(i.Fragment,{children:[null,(0,i.jsx)(a.Suspense,Object.assign({fallback:(0,i.jsxs)("div",Object.assign({className:"stylist-loading-container"},{children:[(0,i.jsx)("div",{className:"stylist-loading-spinner"}),(0,i.jsx)("p",{children:"Loading style quiz..."})]}))},{children:(0,i.jsxs)(I.A,Object.assign({loadingMessage:"Loading style quiz...",onLoadStart:()=>{},onLoadComplete:()=>{},onLoadError:e=>{}},{children:[null,C.USE_LAZY_LOADING?(0,i.jsx)(U,{onSubmit:Pe,onClose:()=>q(!1),primaryColor:c}):(0,i.jsx)(L.default,{onSubmit:Pe,onClose:()=>q(!1),primaryColor:c}),null]}))}))]})]})]});var Ve}},84183:function(e,t,s){s.d(t,{A:function(){return o}});var i=s(74848),a=s(96540);var o=({onClick:e,primaryColor:t,isOpen:s=!1,logoUrl:o})=>{const[n,r]=(0,a.useState)("animate-in");if((0,a.useEffect)((()=>{r(s?"animate-out":"animate-in")}),[s]),s)return null;const l=t?{backgroundColor:t}:void 0;return(0,i.jsx)("div",Object.assign({className:`stylist-circular-symbol ${n}`,onClick:e,style:l,"data-testid":"stylist-circular-symbol","aria-label":"Open fashion stylist"},{children:o?(0,i.jsx)("img",{src:o,alt:"Stylist",className:"stylist-circular-symbol__logo"}):(0,i.jsx)("div",Object.assign({className:"stylist-circular-symbol__default-icon"},{children:(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},{children:(0,i.jsx)("path",{d:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}))}))}))}},86864:function(e,t,s){s.d(t,{A:function(){return r}});var i=s(74848),a=s(96540),o=s(44983),n=s(71751);var r=({flowId:e="newUser",onClose:t,position:s="right",showControls:r=!0})=>{const[l,c]=(0,a.useState)(o.T6[e]),[d,h]=(0,a.useState)(0),[u,m]=(0,a.useState)(!1),[g,y]=(0,a.useState)(!0),p=l.steps[d];return((0,n.N)()||r)&&g?(0,i.jsxs)("div",Object.assign({className:`stylist-demo-guide stylist-demo-guide--${s} ${u?"stylist-demo-guide--minimized":""}`},{children:[(0,i.jsxs)("div",Object.assign({className:"stylist-demo-guide__header"},{children:[(0,i.jsx)("div",Object.assign({className:"stylist-demo-guide__header-title"},{children:u?"Demo Guide":l.name})),(0,i.jsxs)("div",Object.assign({className:"stylist-demo-guide__header-controls"},{children:[(0,i.jsx)("button",Object.assign({className:"stylist-demo-guide__control-btn",onClick:()=>{m(!u)},title:u?"Expand":"Minimize"},{children:u?(0,i.jsx)("svg",Object.assign({viewBox:"0 0 24 24",width:"18",height:"18"},{children:(0,i.jsx)("path",{fill:"currentColor",d:"M19 13h-14v-2h14v2z"})})):(0,i.jsx)("svg",Object.assign({viewBox:"0 0 24 24",width:"18",height:"18"},{children:(0,i.jsx)("path",{fill:"currentColor",d:"M19 13H5v-2h14v2z"})}))})),t&&(0,i.jsx)("button",Object.assign({className:"stylist-demo-guide__control-btn",onClick:()=>{y(!1),t&&t()},title:"Close"},{children:(0,i.jsx)("svg",Object.assign({viewBox:"0 0 24 24",width:"18",height:"18"},{children:(0,i.jsx)("path",{fill:"currentColor",d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})}))}))]}))]})),!u&&(0,i.jsxs)(i.Fragment,{children:[r&&(0,i.jsxs)("div",Object.assign({className:"stylist-demo-guide__flow-selector"},{children:[(0,i.jsx)("label",Object.assign({htmlFor:"demo-flow-select"},{children:"Demo Flow:"})),(0,i.jsx)("select",Object.assign({id:"demo-flow-select",value:e,onChange:e=>{const t=e.target.value;c(o.T6[t]),h(0)}},{children:Object.entries(o.T6).map((([e,t])=>(0,i.jsx)("option",Object.assign({value:e},{children:t.name}),e)))}))]})),(0,i.jsxs)("div",Object.assign({className:"stylist-demo-guide__content"},{children:[(0,i.jsxs)("div",Object.assign({className:"stylist-demo-guide__progress"},{children:[(0,i.jsxs)("div",Object.assign({className:"stylist-demo-guide__progress-text"},{children:["Step ",d+1," of ",l.steps.length]})),(0,i.jsx)("div",Object.assign({className:"stylist-demo-guide__progress-bar"},{children:(0,i.jsx)("div",{className:"stylist-demo-guide__progress-indicator",style:{width:(d+1)/l.steps.length*100+"%"}})}))]})),(0,i.jsxs)("div",Object.assign({className:"stylist-demo-guide__step"},{children:[(0,i.jsx)("h3",Object.assign({className:"stylist-demo-guide__step-title"},{children:p.title})),(0,i.jsx)("p",Object.assign({className:"stylist-demo-guide__step-description"},{children:p.description})),(0,i.jsxs)("div",Object.assign({className:"stylist-demo-guide__step-action"},{children:[(0,i.jsx)("h4",{children:"Action:"}),(0,i.jsx)("p",{children:p.action})]})),(0,i.jsxs)("div",Object.assign({className:"stylist-demo-guide__step-outcome"},{children:[(0,i.jsx)("h4",{children:"Expected Outcome:"}),(0,i.jsx)("p",{children:p.expectedOutcome})]})),p.tips&&(0,i.jsxs)("div",Object.assign({className:"stylist-demo-guide__step-tips"},{children:[(0,i.jsx)("h4",{children:"Tips:"}),(0,i.jsx)("p",{children:p.tips})]})),p.fallbackAction&&(0,i.jsxs)("div",Object.assign({className:"stylist-demo-guide__step-fallback"},{children:[(0,i.jsx)("h4",{children:"If that doesn't work:"}),(0,i.jsx)("p",{children:p.fallbackAction})]}))]})),(0,i.jsxs)("div",Object.assign({className:"stylist-demo-guide__navigation"},{children:[(0,i.jsxs)("button",Object.assign({className:"stylist-demo-guide__nav-btn",onClick:()=>{d>0&&h(d-1)},disabled:0===d},{children:[(0,i.jsx)("svg",Object.assign({viewBox:"0 0 24 24",width:"18",height:"18"},{children:(0,i.jsx)("path",{fill:"currentColor",d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"})})),"Previous"]})),(0,i.jsxs)("button",Object.assign({className:"stylist-demo-guide__nav-btn",onClick:()=>{d<l.steps.length-1&&h(d+1)},disabled:d===l.steps.length-1},{children:["Next",(0,i.jsx)("svg",Object.assign({viewBox:"0 0 24 24",width:"18",height:"18"},{children:(0,i.jsx)("path",{fill:"currentColor",d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"})}))]}))]}))]})),(0,i.jsx)("div",Object.assign({className:"stylist-demo-guide__footer"},{children:(0,i.jsxs)("div",Object.assign({className:"stylist-demo-guide__duration"},{children:[(0,i.jsx)("svg",Object.assign({viewBox:"0 0 24 24",width:"16",height:"16"},{children:(0,i.jsx)("path",{fill:"currentColor",d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67V7z"})})),(0,i.jsx)("span",{children:l.duration})]}))}))]})]})):null}}}]);
//# sourceMappingURL=stylist-main-d91a9049.58e6920444b1a827c502.js.map