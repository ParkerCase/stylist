"use strict";(self.webpackChunkStylistWidget=self.webpackChunkStylistWidget||[]).push([[3252],{3701:function(t,n,r){r.d(n,{k:function(){return u}});var e=r(28189),o=r(45119),a=r(28794),i=r(47195),s=r(70929),h=r(62302);const u=(0,s.op)({conv1d_:function(t,n,r,s,u="NWC",p=1,c){const d=(0,e.YT)(t,"x","conv1d"),l=(0,e.YT)(n,"filter","conv1d");let f=d,v=!1;2===d.rank&&(v=!0,f=(0,h.t)(d,[1,d.shape[0],d.shape[1]])),o.vA(3===f.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${f.rank}.`)),o.vA(3===l.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`)),i.s_("conv1d",s,c),o.vA(f.shape[2]===l.shape[1],(()=>`Error in conv1d: depth of input (${f.shape[2]}) must match input depth for filter ${l.shape[1]}.`)),o.vA(i.G0(r,p),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${r} and dilation '${p}'`)),o.vA(i.qk(p),(()=>"Error in conv1D: Dilated rates should be larger than 0.")),o.vA(i.qk(r),(()=>"Error in conv1D: Stride should be larger than 0.")),o.vA("NWC"===u,(()=>`Error in conv1d: got dataFormat of ${u} but only NWC is currently supported.`));const g=(0,h.t)(l,[1,l.shape[0],l.shape[1],l.shape[2]]),k=(0,h.t)(f,[f.shape[0],1,f.shape[1],f.shape[2]]),m=[1,r],$=[1,p],b=(0,a.X)(k,g,m,s,"NHWC",$,c);return v?(0,h.t)(b,[b.shape[2],b.shape[3]]):(0,h.t)(b,[b.shape[0],b.shape[2],b.shape[3]])}})},25248:function(t,n,r){r.d(n,{H:function(){return u}});var e=r(67897),o=r(15441),a=r(45119),i=r(47195),s=r(70929),h=r(62302);const u=(0,s.op)({conv2DBackpropFilter_:function(t,n,r,s,u,p="NHWC",c){let d=t;3===t.rank&&(d=(0,h.t)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=n;3===l.rank&&(l=(0,h.t)(n,[1,n.shape[0],n.shape[1],n.shape[2]])),a.vA(4===d.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${d.shape}.`)),a.vA(4===l.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`)),a.vA(4===r.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${r}.`));const f="NHWC"===p?d.shape[3]:d.shape[1],v="NHWC"===p?l.shape[3]:l.shape[1];a.vA(f===r[2],(()=>`Error in conv2dDerFilter: depth of input ${f}) must match input depth in filter (${r[2]}.`)),a.vA(v===r[3],(()=>`Error in conv2dDerFilter: depth of dy (${v}) must match output depth for filter (${r[3]}).`)),i.s_("conv2dDerFilter",u,c);const g={x:d,dy:l},k={strides:s,pad:u,dataFormat:p,dimRoundingMode:c,filterShape:r};return e.T2.runKernel(o.rFm,g,k)}})},27451:function(t,n,r){r.d(n,{y:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({cosh_:function(t){const n={x:(0,a.YT)(t,"x","cosh","float32")};return e.T2.runKernel(o.MnK,n)}})},28794:function(t,n,r){r.d(n,{X:function(){return p}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119),s=r(47195),h=r(70929),u=r(62302);const p=(0,h.op)({conv2d_:function(t,n,r,h,p="NHWC",c=[1,1],d){const l=(0,a.YT)(t,"x","conv2d","float32"),f=(0,a.YT)(n,"filter","conv2d","float32");let v=l,g=!1;3===l.rank&&(g=!0,v=(0,u.t)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),i.vA(4===v.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${v.rank}.`)),i.vA(4===f.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${f.rank}.`)),s.s_("conv2d",h,d);const k="NHWC"===p?v.shape[3]:v.shape[1];i.vA(k===f.shape[2],(()=>`Error in conv2d: depth of input (${k}) must match input depth for filter ${f.shape[2]}.`)),i.vA(s.G0(r,c),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${r} and dilations '${c}'`)),i.vA(s.qk(c),(()=>"Error in conv2D: Dilated rates should be larger than 0.")),i.vA(s.qk(r),(()=>"Error in conv2D: Strides should be larger than 0."));const m={x:v,filter:f},$={strides:r,pad:h,dataFormat:p,dilations:c,dimRoundingMode:d},b=e.T2.runKernel(o.p2J,m,$);return g?(0,u.t)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},31895:function(t,n,r){r.d(n,{c:function(){return h}});var e=r(67897),o=r(15441),a=r(45119),i=r(70929),s=r(62302);const h=(0,i.op)({conv3DBackpropInput_:function(t,n,r,i,h){a.vA(t.length===n.rank,(()=>`Length of inShape (${t.length}) and rank of dy (${n.rank}) must match`));let u=t,p=n,c=!1;4===n.rank&&(c=!0,p=(0,s.t)(n,[1,n.shape[0],n.shape[1],n.shape[2],n.shape[3]]),u=[1,t[0],t[1],t[2],t[3]]);const d=u[4],l=p.shape[4];a.vA(5===u.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${u.length}.`)),a.vA(5===p.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${p.rank}`)),a.vA(5===r.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${r.rank}`)),a.vA(d===r.shape[3],(()=>`Error in conv3dDerInput: depth of input (${d}) must match input depth for filter ${r.shape[3]}.`)),a.vA(l===r.shape[4],(()=>`Error in conv3dDerInput: depth of output (${l}) must match output depth for filter ${r.shape[4]}.`));const f={dy:p,filter:r},v={pad:h,strides:i,inputShape:u},g=e.T2.runKernel(o.gC7,f,v);return c?(0,s.t)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}})},41106:function(t,n,r){r.d(n,{w:function(){return a}});var e=r(28189),o=r(80252);const a=(0,r(70929).op)({conv2dTranspose_:function(t,n,r,a,i,s){const h=(0,e.YT)(t,"x","conv2dTranspose"),u=(0,e.YT)(n,"filter","conv2dTranspose");return(0,o.v)(r,h,u,a,i,"NHWC",s)}})},41655:function(t,n,r){r.d(n,{j:function(){return a}});var e=r(28189),o=r(31895);const a=(0,r(70929).op)({conv3dTranspose_:function(t,n,r,a,i){const s=(0,e.YT)(t,"x","conv3dTranspose"),h=(0,e.YT)(n,"filter","conv3dTranspose");return(0,o.c)(r,s,h,a,i)}})},47195:function(t,n,r){r.d(n,{$Q:function(){return k},Dh:function(){return f},E6:function(){return a},G0:function(){return v},G8:function(){return u},YQ:function(){return o},l5:function(){return i},p$:function(){return h},qk:function(){return g},s_:function(){return m},uf:function(){return s}});var e=r(45119);function o(t,n,r,e,o="NHWC",a){return s(t,[...n,t[3]],r,a,e,null,null,k(o))}function a(t,n,r,e,o,a,i="channelsLast"){const[h,u]=p(n);let c;if("channelsLast"===i)c=[h,u,t[3],t[3]];else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);c=[h,u,t[1],t[1]]}return s(t,c,r,e,o,a,!1,i)}function i(t,n,r,e,o,a,i="NDHWC"){const[s,u,p]=c(n);let d,l;if("NDHWC"===i)l="channelsLast",d=[s,u,p,t[4],t[4]];else{if("NCDHW"!==i)throw new Error(`Unknown dataFormat ${i}`);l="channelsFirst",d=[s,u,p,t[1],t[1]]}return h(t,d,r,e,o,!1,l,a)}function s(t,n,r,e,o,a,i=!1,s="channelsLast"){let[h,c,f,v]=[-1,-1,-1,-1];if("channelsLast"===s)[h,c,f,v]=t;else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);[h,v,c,f]=t}const[g,k,,m]=n,[$,b]=p(r),[E,D]=p(e),A=d(g,E),W=d(k,D),{padInfo:F,outHeight:H,outWidth:y}=function(t,n,r,e,o,a,i,s,h){let p,c,d;if("number"===typeof t){p={top:t,bottom:t,left:t,right:t,type:0===t?"VALID":"NUMBER"};const o=function(t,n,r,e,o){null==e&&(e=u(t,n,r));const a=t[0],i=t[1],s=l((a-n+2*e)/r+1,o),h=l((i-n+2*e)/r+1,o);return[s,h]}([n,r],a,e,t,s);c=o[0],d=o[1]}else if("same"===t){c=Math.ceil(n/e),d=Math.ceil(r/o);const t=Math.max(0,(c-1)*e+a-n),s=Math.max(0,(d-1)*o+i-r),h=Math.floor(t/2),u=t-h,l=Math.floor(s/2);p={top:h,bottom:u,left:l,right:s-l,type:"SAME"}}else if("valid"===t)p={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((n-a+1)/e),d=Math.ceil((r-i+1)/o);else{if("object"!==typeof t)throw Error(`Unknown padding parameter: ${t}`);{const u="channelsLast"===h?t[1][0]:t[2][0],f="channelsLast"===h?t[1][1]:t[2][1],v="channelsLast"===h?t[2][0]:t[3][0],g="channelsLast"===h?t[2][1]:t[3][1];p={top:u,bottom:f,left:v,right:g,type:0===u&&0===f&&0===v&&0===g?"VALID":"EXPLICIT"},c=l((n-a+u+f)/e+1,s),d=l((r-i+v+g)/o+1,s)}}return{padInfo:p,outHeight:c,outWidth:d}}(o,c,f,$,b,A,W,a,s),w=i?m*v:m;let M;return"channelsFirst"===s?M=[h,w,H,y]:"channelsLast"===s&&(M=[h,H,y,w]),{batchSize:h,dataFormat:s,inHeight:c,inWidth:f,inChannels:v,outHeight:H,outWidth:y,outChannels:w,padInfo:F,strideHeight:$,strideWidth:b,filterHeight:g,filterWidth:k,effectiveFilterHeight:A,effectiveFilterWidth:W,dilationHeight:E,dilationWidth:D,inShape:t,outShape:M,filterShape:n}}function h(t,n,r,e,o,a=!1,i="channelsLast",s){let[h,p,f,v,g]=[-1,-1,-1,-1,-1];if("channelsLast"===i)[h,p,f,v,g]=t;else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);[h,g,p,f,v]=t}const[k,m,$,,b]=n,[E,D,A]=c(r),[W,F,H]=c(e),y=d(k,W),w=d(m,F),M=d($,H),{padInfo:C,outDepth:T,outHeight:I,outWidth:S}=function(t,n,r,e,o,a,i,s,h,p,c){let d,f,v,g;"valid"===t&&(t=0);if("number"===typeof t){d={top:t,bottom:t,left:t,right:t,front:t,back:t,type:0===t?"VALID":"NUMBER"};const k=function(t,n,r,e,o,a){null==o&&(o=u(t,n[0],e[0]));const i=[0,0,0,r];for(let s=0;s<3;s++)t[s]+2*o>=n[s]&&(i[s]=l((t[s]-n[s]+2*o)/e[s]+1,a));return i}([n,r,e,1],[s,h,p],1,[o,a,i],t,c);f=k[0],v=k[1],g=k[2]}else{if("same"!==t)throw Error(`Unknown padding parameter: ${t}`);{f=Math.ceil(n/o),v=Math.ceil(r/a),g=Math.ceil(e/i);const t=(f-1)*o+s-n,u=(v-1)*a+h-r,c=(g-1)*i+p-e,l=Math.floor(t/2),k=t-l,m=Math.floor(u/2),$=u-m,b=Math.floor(c/2);d={top:m,bottom:$,left:b,right:c-b,front:l,back:k,type:"SAME"}}}return{padInfo:d,outDepth:f,outHeight:v,outWidth:g}}(o,p,f,v,E,D,A,y,w,M,s),N=a?b*g:b;let L;return"channelsFirst"===i?L=[h,N,T,I,S]:"channelsLast"===i&&(L=[h,T,I,S,N]),{batchSize:h,dataFormat:i,inDepth:p,inHeight:f,inWidth:v,inChannels:g,outDepth:T,outHeight:I,outWidth:S,outChannels:N,padInfo:C,strideDepth:E,strideHeight:D,strideWidth:A,filterDepth:k,filterHeight:m,filterWidth:$,effectiveFilterDepth:y,effectiveFilterHeight:w,effectiveFilterWidth:M,dilationDepth:W,dilationHeight:F,dilationWidth:H,inShape:t,outShape:L,filterShape:n}}function u(t,n,r,e=1){const o=d(n,e);return Math.floor((t[0]*(r-1)-r+o)/2)}function p(t){return"number"===typeof t?[t,t,t]:2===t.length?[t[0],t[1],1]:t}function c(t){return"number"===typeof t?[t,t,t]:t}function d(t,n){return n<=1?t:t+(t-1)*(n-1)}function l(t,n){if(!n)return Math.trunc(t);switch(n){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${n}`)}}function f(t){const[n,r,e]=p(t);return 1===n&&1===r&&1===e}function v(t,n){return f(t)||f(n)}function g(t){return p(t).every((t=>t>0))}function k(t){if("NHWC"===t)return"channelsLast";if("NCHW"===t)return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function m(t,n,r){if(null!=r){if("string"===typeof n)throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${r} but got pad ${n}.`);if("number"===typeof n)e.vA(e.E6(n),(()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${r} but got pad ${n}.`));else{if("object"!==typeof n)throw Error(`Error in ${t}: Unknown padding parameter: ${n}`);n.forEach((n=>{n.forEach((n=>{e.vA(e.E6(n),(()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${r} but got pad ${n}.`))}))}))}}}},65281:function(t,n,r){r.d(n,{_:function(){return h}});var e=r(67897),o=r(15441),a=r(45119),i=r(70929),s=r(62302);const h=(0,i.op)({conv3DBackpropFilter_:function(t,n,r,i,h){let u=t;4===t.rank&&(u=(0,s.t)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let p=n;4===p.rank&&(p=(0,s.t)(n,[1,n.shape[0],n.shape[1],n.shape[2],n.shape[3]])),a.vA(5===u.rank,(()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${u.shape}.`)),a.vA(5===p.rank,(()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${p.shape}.`)),a.vA(5===r.length,(()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${r}.`)),a.vA(u.shape[4]===r[3],(()=>`Error in conv3dDerFilter: depth of input ${u.shape[4]}) must match input depth in filter (${r[3]}.`)),a.vA(p.shape[4]===r[4],(()=>`Error in conv3dDerFilter: depth of dy (${p.shape[4]}) must match output depth for filter (${r[4]}).`));const c={x:u,dy:p},d={strides:i,pad:h,filterShape:r};return e.T2.runKernel(o.iGz,c,d)}})},80252:function(t,n,r){r.d(n,{v:function(){return u}});var e=r(67897),o=r(15441),a=r(45119),i=r(47195),s=r(70929),h=r(62302);const u=(0,s.op)({conv2DBackpropInput_:function(t,n,r,s,u,p="NHWC",c){a.vA(t.length===n.rank,(()=>`Length of inShape (${t.length}) and rank of dy (${n.rank}) must match`));let d=t,l=n,f=!1;3===n.rank&&(f=!0,l=(0,h.t)(n,[1,n.shape[0],n.shape[1],n.shape[2]]),d=[1,t[0],t[1],t[2]]),a.vA(4===d.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${d.length}.`)),a.vA(4===l.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`)),a.vA(4===r.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${r.rank}`));const v="NHWC"===p?d[3]:d[1],g="NHWC"===p?l.shape[3]:l.shape[1];a.vA(v===r.shape[2],(()=>`Error in conv2dDerInput: depth of input (${v}) must match input depth for filter ${r.shape[2]}.`)),a.vA(g===r.shape[3],(()=>`Error in conv2dDerInput: depth of output (${g}) must match output depth for filter ${r.shape[3]}.`)),i.s_("conv2dDerInput",u,c);const k={dy:l,filter:r},m={strides:s,pad:u,dataFormat:p,dimRoundingMode:c,inputShape:d},$=e.T2.runKernel(o.jfg,k,m);return f?(0,h.t)($,[$.shape[1],$.shape[2],$.shape[3]]):$}})},90167:function(t,n,r){r.d(n,{I:function(){return p}});var e=r(67897),o=r(15441),a=r(28189),i=r(45119),s=r(47195),h=r(70929),u=r(62302);const p=(0,h.op)({conv3d_:function(t,n,r,h,p="NDHWC",c=[1,1,1]){const d=(0,a.YT)(t,"x","conv3d"),l=(0,a.YT)(n,"filter","conv3d");let f=d,v=!1;4===d.rank&&(v=!0,f=(0,u.t)(d,[1,d.shape[0],d.shape[1],d.shape[2],d.shape[3]])),i.vA(5===f.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${f.rank}.`)),i.vA(5===l.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${l.rank}.`)),i.vA(f.shape[4]===l.shape[3],(()=>`Error in conv3d: depth of input (${f.shape[4]}) must match input depth for filter ${l.shape[3]}.`)),i.vA((0,s.G0)(r,c),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${r} and dilations '${c}'`)),i.vA("NDHWC"===p,(()=>`Error in conv3d: got dataFormat of ${p} but only NDHWC is currently supported.`)),i.vA((0,s.qk)(c),(()=>"Error in conv3D: Dilated rates should be larger than 0.")),i.vA((0,s.qk)(r),(()=>"Error in conv3D: Strides should be larger than 0."));const g={x:f,filter:l},k={strides:r,pad:h,dataFormat:p,dilations:c},m=e.T2.runKernel(o.A1h,g,k);return v?(0,u.t)(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}})},99907:function(t,n,r){r.d(n,{g:function(){return i}});var e=r(67897),o=r(15441),a=r(28189);const i=(0,r(70929).op)({cos_:function(t){const n={x:(0,a.YT)(t,"x","cos","float32")};return e.T2.runKernel(o.Mn0,n)}})}}]);
//# sourceMappingURL=stylist-vendors-7c034abc.1d3a3708cd7201f8a00e.js.map