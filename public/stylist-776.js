"use strict";(self.webpackChunkStylistWidget=self.webpackChunkStylistWidget||[]).push([[776],{9776:function(r,e,t){t.r(e),t.d(e,{purchaseTrackingService:function(){return c}});var o=function(r,e,t,o){return new(t||(t=Promise))((function(a,c){function s(r){try{i(o.next(r))}catch(r){c(r)}}function n(r){try{i(o.throw(r))}catch(r){c(r)}}function i(r){var e;r.done?a(r.value):(e=r.value,e instanceof t?e:new t((function(r){r(e)}))).then(s,n)}i((o=o.apply(r,e||[])).next())}))};const a="stylist_purchase_tracking",c={trackPurchase(r){return o(this,void 0,void 0,(function*(){try{const e=yield this.savePurchaseToAPI(r);return this.savePurchaseToLocalStorage(r),e}catch(e){return console.error("Error tracking purchase:",e),this.savePurchaseToLocalStorage(r),!1}}))},savePurchaseToAPI(r){return o(this,void 0,void 0,(function*(){try{const e=yield fetch("/api/trackPurchase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!e.ok)throw new Error(`API error: ${e.status}`);return!0}catch(r){return console.error("Failed to save purchase to API:",r),!1}}))},savePurchaseToLocalStorage(r){try{const e=this.getPurchasesFromLocalStorage();e.push(r),localStorage.setItem(a,JSON.stringify(e))}catch(r){console.error("Failed to save purchase to localStorage:",r)}},getPurchasesFromLocalStorage(){try{const r=localStorage.getItem(a);return r?JSON.parse(r):[]}catch(r){return console.error("Failed to get purchases from localStorage:",r),[]}},clearPurchasesFromLocalStorage(){try{localStorage.removeItem(a)}catch(r){console.error("Failed to clear purchases from localStorage:",r)}}};e.default=c}}]);
//# sourceMappingURL=stylist-776.js.map