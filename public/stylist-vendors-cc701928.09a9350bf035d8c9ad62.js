"use strict";(self.webpackChunkStylistWidget=self.webpackChunkStylistWidget||[]).push([[1126],{6090:function(e,n,t){t.d(n,{Ni:function(){return a},VI:function(){return i}});var r=t(9495);let s;function a(){return null==s&&(s=(0,r.backend)().epsilon()),s}function i(){return"channelsLast"}},47661:function(e,n,t){t.d(n,{Bq:function(){return p},Dh:function(){return f},EZ:function(){return v},Ew:function(){return N},FE:function(){return y},KK:function(){return Q},Ls:function(){return S},Om:function(){return x},PS:function(){return h},Pq:function(){return C},UG:function(){return o},Vs:function(){return w},aY:function(){return A},kg:function(){return b},ly:function(){return k},ni:function(){return z},r0:function(){return g},u1:function(){return m},ux:function(){return l},wg:function(){return c}});var r=t(9495),s=t(39459),a=t(15841),i=t(73072),u=t(6090);function c(e,n){return e.asType(n)}function o(e,n=-1){const t=e.shape.slice();return n<0&&(n=t.length+n+1),t.splice(n,0,1),e.reshape(t)}function l(e,n){return(0,r.tidy)((()=>{if(2!==e.shape.length)throw new a.Qp(`repeat() expects a rank-2 tensor, but received a rank-${e.shape.length} tensor.`);return w(o(e,1),[1,n,1])}))}function p(e){const n=[i.no(e.shape)];return e.reshape(n)}function h(e){if(e.rank<=1)throw new a.Qp(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);const n=[e.shape[0],i.no(e.shape,1)];return e.reshape(n)}function f(e,n,t){return(0,r.tidy)((()=>{switch(e.rank){case 1:return r.slice1d(e,n,t);case 2:return r.slice2d(e,[n,0],[t,e.shape[1]]);case 3:return r.slice3d(e,[n,0,0],[t,e.shape[1],e.shape[2]]);case 4:return r.slice4d(e,[n,0,0,0],[t,e.shape[1],e.shape[2],e.shape[3]]);case 5:return r.slice(e,[n,0,0,0,0],[t,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return r.slice(e,[n,0,0,0,0,0],[t,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new a.Qp(`sliceAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function d(e,n,t){return(0,r.tidy)((()=>{switch(e.rank){case 1:return r.slice1d(e,n,t);case 2:return r.slice2d(e,[0,n],[e.shape[0],t]);case 3:return r.slice3d(e,[0,0,n],[e.shape[0],e.shape[1],t]);case 4:return r.slice4d(e,[0,0,0,n],[e.shape[0],e.shape[1],e.shape[2],t]);default:throw new a.Qp(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function g(e,n,t,s){return(0,r.tidy)((()=>{switch(e.rank){case 1:return r.slice1d(e,n,t);case 2:switch(s){case 1:return f(e,n,t);case 2:return d(e,n,t);default:throw new a.Qp(`The axis is not within the rank of the tensor ${s}`)}case 3:switch(s){case 1:return f(e,n,t);case 2:return r.slice3d(e,[0,n,0],[e.shape[0],t,e.shape[2]]);case 3:return d(e,n,t);default:throw new a.Qp(`The axis is not within the rank of the tensor ${s}`)}case 4:switch(s){case 1:return f(e,n,t);case 2:return r.slice4d(e,[0,n,0,0],[e.shape[0],t,e.shape[2],e.shape[3]]);case 3:return r.slice4d(e,[0,0,n,0],[e.shape[0],e.shape[1],t,e.shape[3]]);case 4:return d(e,n,t);default:throw new a.Qp(`The axis is not within the rank of the tensor ${s}`)}default:throw new a.Qp(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function m(e,n=-1){let t;return n<0&&(t=e[0].rank,n=0!==t?t:0),n===e[0].rank&&(n=-1),r.concat(e,n)}function k(e,n){switch(e.rank){case 1:return r.concat1d([e,n]);case 2:return r.concat2d([e,n],0);case 3:return r.concat3d([e,n],0);case 4:return r.concat4d([e,n],0);default:throw new a.Qp(`concatAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}function w(e,n){if(Array.isArray(n)||(n=[n]),e.rank!==n.length)throw new a.Qp(`The length of input n (${n.length}) does not match the number of dimensions in input x (${e.rank})`);return r.tile(e,n)}function y(e,n=0,t=1,s,a){return r.randomNormal(e,n,t,s,a)}function x(e,n,t,s){if(e.rank<2||n.rank<2)throw new a.EH(`dot requires both inputs to be rank >= 2 but got x shape = ${e.shape} and y shape = ${n.shape}`);if(n.rank>=3){if(e.shape.slice(-1)[0]!==n.shape.slice(-2)[0])throw new a.EH(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${e.shape} and  y shape = ${n.shape}`)}if(2===e.rank&&2===n.rank){const a=!1,i=!1;return r.fused.matMul({a:e,b:n,transposeA:a,transposeB:i,bias:s?$(e.rank,s,(0,u.VI)()):null,activation:t})}{const a=e.shape.slice(),i=a.pop();e=e.reshape([-1,i]);const c=n.shape.slice(),o=c.pop(),l=c.pop(),p=[...c,o],h=Array.from({length:n.rank},((e,t)=>0===t?n.rank-2:t<=n.rank-2?t-1:t));n=n.transpose(h).reshape([l,-1]);const f=[...a,...p],d=!1,g=!1;return r.fused.matMul({a:e,b:n,transposeA:d,transposeB:g,bias:s?$(e.rank,s,(0,u.VI)()):null,activation:t}).reshape(f)}}function b(e,n,t){return(0,r.tidy)((()=>(n=Array.isArray(n)?(0,r.tensor1d)(n,"int32"):n.toInt(),r.gather(e,n,t))))}function N(e){return r.mul(e,e)}function $(e,n,t){const r=n.shape;if(1!==n.rank&&n.rank!==e)throw new a.Qp(`Unexpected bias dimensions: ${n.rank}; expected it to be 1 or ${e}`);if(5===e){if("channelsFirst"===t)return 1===r.length?n.reshape([1,r[0],1,1,1]):n.reshape([1,r[3],r[0],r[1],r[2]]);if("channelsLast"===t)return 1===r.length?n.reshape([1,1,1,1,r[0]]):n.reshape([1].concat(r))}else if(4===e){if("channelsFirst"===t)return 1===r.length?n.reshape([1,r[0],1,1]):n.reshape([1,r[2],r[0],r[1]]);if("channelsLast"===t)return 1===r.length?n.reshape([1,1,1,r[0]]):n.reshape([1].concat(r))}else if(3===e){if("channelsFirst"===t)return 1===r.length?n.reshape([1,r[0],1]):n.reshape([1,r[1],r[0]]);if("channelsLast"===t)return 1===r.length?n.reshape([1,1,r[0]]):n.reshape([1].concat(r))}else if(e<3)return n;throw new a.Qp(`Unsupported input rank by biasAdd: ${n.rank}`)}function z(e,n,t){return(0,r.tidy)((()=>(null==t&&(t=(0,u.VI)()),(0,s.uM)(t),e.add($(e.rank,n,t)))))}function C(e,n=1){if(1!==n)throw new a.EH(`Support for alpha values other than 1 (${n}) is not implemented yet.`);return r.elu(e)}function A(e){return(0,r.tidy)((()=>r.div(e,r.abs(e).add(1))))}function v(e,n,t,s){return(0,r.tidy)((()=>r.dropout(e,n,t,s)))}function Q(e){return(0,r.tidy)((()=>{const n=r.add(.5,r.mul(.2,e));return r.clipByValue(n,0,1)}))}function S(e,n,t=!1){return t?e():n()}},59885:function(e,n,t){t.d(n,{Bu:function(){return b},b_:function(){return $},rF:function(){return k}});var r=t(9495),s=t(47661),a=t(44813);class i extends r.serialization.Serializable{getConfig(){return{}}}class u extends i{apply(e,n=1){return s.Pq(e,n)}}u.className="elu",r.serialization.registerClass(u);class c extends i{apply(e){return r.selu(e)}}c.className="selu",r.serialization.registerClass(c);class o extends i{apply(e){return r.relu(e)}}o.className="relu",r.serialization.registerClass(o);class l extends i{apply(e){return(0,r.tidy)((()=>r.minimum(6,r.relu(e))))}}l.className="relu6",r.serialization.registerClass(l);class p extends i{apply(e){return e}}p.className="linear",r.serialization.registerClass(p);class h extends i{apply(e){return r.sigmoid(e)}}h.className="sigmoid",r.serialization.registerClass(h);class f extends i{apply(e){return s.KK(e)}}f.className="hardSigmoid",r.serialization.registerClass(f);class d extends i{apply(e){return r.softplus(e)}}d.className="softplus",r.serialization.registerClass(d);class g extends i{apply(e){return s.aY(e)}}g.className="softsign",r.serialization.registerClass(g);class m extends i{apply(e){return r.tanh(e)}}m.className="tanh",r.serialization.registerClass(m);class k extends i{apply(e,n=-1){return r.softmax(e,n)}}k.className="softmax",r.serialization.registerClass(k);class w extends i{apply(e,n=-1){return r.logSoftmax(e,n)}}w.className="logSoftmax",r.serialization.registerClass(w);class y extends i{apply(e,n=1){return(0,r.tidy)((()=>r.sigmoid(e.mul(n)).mul(e)))}}y.className="swish",r.serialization.registerClass(y);class x extends i{apply(e){return(0,r.tidy)((()=>r.mul(e,r.tanh(r.softplus(e)))))}}function b(e){return e.getClassName()}function N(e,n={}){return(0,a.Xv)(e,r.serialization.SerializationMap.getMap().classNameMap,n,"activation")}function $(e){if(null==e){const e={className:"linear",config:{}};return N(e)}if("string"===typeof e){const n={};return n.className=e,n.config={},N(n)}return e instanceof i?e:N(e)}x.className="mish",r.serialization.registerClass(x)},91686:function(e,n,t){t.d(n,{j:function(){return s},v:function(){return i}});let r=0;function s(){return r++}const a={};function i(e=""){return e in a||(a[e]=0),a[e]+=1,e+a[e].toString()}}}]);
//# sourceMappingURL=stylist-vendors-cc701928.09a9350bf035d8c9ad62.js.map