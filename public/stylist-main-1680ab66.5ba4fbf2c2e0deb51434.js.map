{"version":3,"file":"stylist-main-1680ab66.5ba4fbf2c2e0deb51434.js","mappings":"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","sources":["webpack://StylistWidget/./src/components/HomeButton/HomeButton.tsx","webpack://StylistWidget/./src/components/HomeButton/index.ts","webpack://StylistWidget/./src/components/FeedbackControls/ThumbsUpButton.tsx","webpack://StylistWidget/./src/components/FeedbackControls/index.ts","webpack://StylistWidget/./src/components/FeedbackControls/FeedbackControls.tsx","webpack://StylistWidget/./src/components/ItemCard/index.ts","webpack://StylistWidget/./src/components/ItemCard/ItemHoverMenu.tsx","webpack://StylistWidget/./src/components/ItemCard/ItemFeedbackOverlay.tsx","webpack://StylistWidget/./src/components/ItemCard/SizeAvailability.tsx","webpack://StylistWidget/./src/components/ItemCard/ItemCard.tsx","webpack://StylistWidget/./src/components/GridLayout/GridLayout.tsx","webpack://StylistWidget/./src/components/GridLayout/index.ts","webpack://StylistWidget/./src/components/Lookbook/Lookbook.tsx","webpack://StylistWidget/./src/components/ImageUploader/index.ts","webpack://StylistWidget/./src/components/ImageUploader/ImageUploader.tsx"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport './HomeButton.scss';\nconst HomeButton = ({ onClick, primaryColor }) => {\n    // Custom style for primary color\n    const buttonStyle = primaryColor ? { backgroundColor: primaryColor } : undefined;\n    return (_jsxs(\"div\", Object.assign({ className: \"stylist-home-button\", onClick: onClick, style: buttonStyle, \"data-testid\": \"stylist-home-button\", \"aria-label\": \"Return to home view\" }, { children: [_jsx(\"div\", Object.assign({ className: \"stylist-home-button__icon\" }, { children: _jsx(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"20\", height: \"20\", fill: \"currentColor\" }, { children: _jsx(\"path\", { d: \"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\" }) })) })), _jsx(\"span\", Object.assign({ className: \"stylist-home-button__text\" }, { children: \"Home\" }))] })));\n};\nexport default HomeButton;\n","import HomeButton from './HomeButton';\nexport default HomeButton;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\n// ThumbsUpButton.tsx - Thumbs up button for recommendations\nimport { useState, useEffect } from 'react';\nimport './FeedbackControls.scss';\nimport { useFeedbackStore } from '@/store/feedbackStore';\nconst ThumbsUpButton = ({ messageId, onThumbsUp, primaryColor }) => {\n    // Local state for UI responsiveness\n    const [isActive, setIsActive] = useState(false);\n    // Get feedback state and actions from the store\n    const { addMessageThumbsUp, isMessageThumbedUp } = useFeedbackStore();\n    // Sync with store on initial render\n    useEffect(() => {\n        setIsActive(isMessageThumbedUp(messageId));\n    }, [messageId, isMessageThumbedUp]);\n    const handleThumbsUp = () => {\n        // Update local state\n        setIsActive(true);\n        // Call the callback\n        onThumbsUp();\n        // Update store\n        addMessageThumbsUp(messageId);\n    };\n    const buttonStyle = isActive && primaryColor\n        ? { color: primaryColor, borderColor: primaryColor }\n        : undefined;\n    return (_jsx(\"div\", Object.assign({ className: \"stylist-feedback-controls stylist-feedback-controls--thumbs-up\" }, { children: _jsxs(\"button\", Object.assign({ className: `stylist-feedback-controls__button ${isActive ? 'stylist-feedback-controls__button--active' : ''}`, onClick: handleThumbsUp, style: buttonStyle, \"aria-label\": \"This was helpful\", disabled: isActive }, { children: [_jsx(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"20\", height: \"20\", fill: \"currentColor\" }, { children: _jsx(\"path\", { d: \"M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1.91l-.01-.01L23 10z\" }) })), _jsx(\"span\", Object.assign({ className: \"stylist-feedback-controls__button-text\" }, { children: isActive ? 'Thanks for your feedback!' : 'Was this helpful?' }))] })) })));\n};\nexport default ThumbsUpButton;\n","// Export all feedback-related components\nimport FeedbackControls from './FeedbackControls';\nimport ThumbsUpButton from './ThumbsUpButton';\nexport { FeedbackControls, ThumbsUpButton };\nexport default FeedbackControls;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\n// Feedback controls component for like/dislike\nimport { useState, useEffect } from 'react';\nimport './FeedbackControls.scss';\nimport { useFeedbackStore } from '@/store/feedbackStore';\nconst FeedbackControls = ({ onLike, onDislike, itemId, outfitId, liked: propLiked = false, disliked: propDisliked = false, primaryColor }) => {\n    // Use local state to immediately reflect user interactions\n    const [liked, setLiked] = useState(propLiked);\n    const [disliked, setDisliked] = useState(propDisliked);\n    // Get feedback state and actions from the store\n    const feedbackStore = useFeedbackStore();\n    const addItemFeedback = feedbackStore.addItemFeedback;\n    const addOutfitFeedback = feedbackStore.addOutfitFeedback;\n    const getItemFeedbackStatus = feedbackStore.getItemFeedbackStatus;\n    const getOutfitFeedbackStatus = feedbackStore.getOutfitFeedbackStatus;\n    // Sync with store on initial render if we have an ID\n    useEffect(() => {\n        if (itemId) {\n            const status = getItemFeedbackStatus(itemId);\n            setLiked(status.liked);\n            setDisliked(status.disliked);\n        }\n        else if (outfitId) {\n            const status = getOutfitFeedbackStatus(outfitId);\n            setLiked(status.liked);\n            setDisliked(status.disliked);\n        }\n        else {\n            // If no ID, use props\n            setLiked(propLiked);\n            setDisliked(propDisliked);\n        }\n    }, [itemId, outfitId, propLiked, propDisliked, getItemFeedbackStatus, getOutfitFeedbackStatus]);\n    const handleLike = () => {\n        // Update local state immediately for responsive UI\n        setLiked(true);\n        setDisliked(false);\n        // Call the passed onLike handler\n        onLike();\n        // Update persistent feedback state if we have an ID\n        if (itemId) {\n            addItemFeedback(itemId, 'like');\n        }\n        else if (outfitId) {\n            addOutfitFeedback(outfitId, 'like');\n        }\n    };\n    const handleDislike = () => {\n        // Update local state immediately for responsive UI\n        setLiked(false);\n        setDisliked(true);\n        // Call the passed onDislike handler\n        onDislike();\n        // Update persistent feedback state if we have an ID\n        if (itemId) {\n            addItemFeedback(itemId, 'dislike');\n        }\n        else if (outfitId) {\n            addOutfitFeedback(outfitId, 'dislike');\n        }\n    };\n    const likeStyle = liked && primaryColor\n        ? { color: primaryColor, borderColor: primaryColor }\n        : undefined;\n    const dislikeStyle = disliked && primaryColor\n        ? { color: primaryColor, borderColor: primaryColor }\n        : undefined;\n    return (_jsxs(\"div\", Object.assign({ className: \"stylist-feedback-controls\" }, { children: [_jsx(\"button\", Object.assign({ className: `stylist-feedback-controls__button ${liked ? 'stylist-feedback-controls__button--active' : ''}`, onClick: handleLike, style: likeStyle, \"aria-label\": \"Like\" }, { children: _jsx(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"20\", height: \"20\", fill: \"currentColor\" }, { children: _jsx(\"path\", { d: \"M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1.91l-.01-.01L23 10z\" }) })) })), _jsx(\"button\", Object.assign({ className: `stylist-feedback-controls__button ${disliked ? 'stylist-feedback-controls__button--active' : ''}`, onClick: handleDislike, style: dislikeStyle, \"aria-label\": \"Dislike\" }, { children: _jsx(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"20\", height: \"20\", fill: \"currentColor\" }, { children: _jsx(\"path\", { d: \"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01L1 14c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z\" }) })) }))] })));\n};\nexport default FeedbackControls;\n","import ItemCard from './ItemCard';\nexport default ItemCard;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport './ItemHoverMenu.scss';\nconst ItemHoverMenu = ({ onAddToDressingRoom, onAddToWishlist, onAddToCart, onOutfitSuggestions, primaryColor }) => {\n    return (_jsx(\"div\", Object.assign({ className: \"stylist-item-hover-menu\" }, { children: _jsxs(\"div\", Object.assign({ className: \"stylist-item-hover-menu__options\" }, { children: [_jsxs(\"button\", Object.assign({ className: \"stylist-item-hover-menu__option\", onClick: onAddToDressingRoom, style: { backgroundColor: primaryColor } }, { children: [_jsx(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"16\", height: \"16\", fill: \"currentColor\" }, { children: _jsx(\"path\", { d: \"M21.6 18.2L13 11.75v-.91a3.496 3.496 0 0 0-.18-7C11.68 3.89 10.4 4 9.6 4.65l-.09.09a3.51 3.51 0 0 0 .19 5.07c.39.32.9.54 1.5.54l.16-.01v1.41L2.4 18.2c-.77.58-.36 1.8.6 1.8h18c.96 0 1.37-1.22.6-1.8zM12 4c.82 0 1.5.68 1.5 1.5v.01c0 .82-.68 1.5-1.5 1.5-.82 0-1.5-.68-1.5-1.5V5.5c0-.82.68-1.5 1.5-1.5z\" }) })), _jsx(\"span\", { children: \"Add to dressing room\" })] })), _jsxs(\"button\", Object.assign({ className: \"stylist-item-hover-menu__option\", onClick: onAddToWishlist }, { children: [_jsx(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"16\", height: \"16\", fill: \"currentColor\" }, { children: _jsx(\"path\", { d: \"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" }) })), _jsx(\"span\", { children: \"Add to wishlist\" })] })), _jsxs(\"button\", Object.assign({ className: \"stylist-item-hover-menu__option\", onClick: onAddToCart }, { children: [_jsx(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"16\", height: \"16\", fill: \"currentColor\" }, { children: _jsx(\"path\", { d: \"M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z\" }) })), _jsx(\"span\", { children: \"Add to cart\" })] })), _jsxs(\"button\", Object.assign({ className: \"stylist-item-hover-menu__option\", onClick: onOutfitSuggestions }, { children: [_jsx(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"16\", height: \"16\", fill: \"currentColor\" }, { children: _jsx(\"path\", { d: \"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z\" }) })), _jsx(\"span\", { children: \"Outfit suggestions\" })] }))] })) })));\n};\nexport default ItemHoverMenu;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport './ItemFeedbackOverlay.scss';\nconst ItemFeedbackOverlay = ({ onLike, onDislike, primaryColor }) => {\n    return (_jsxs(\"div\", Object.assign({ className: \"stylist-item-feedback-overlay\" }, { children: [_jsx(\"button\", Object.assign({ className: \"stylist-item-feedback-overlay__button stylist-item-feedback-overlay__button--like\", onClick: onLike, \"aria-label\": \"Like this item\" }, { children: _jsx(\"div\", Object.assign({ className: \"stylist-item-feedback-overlay__icon-container\" }, { children: _jsx(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"24\", height: \"24\", fill: \"currentColor\" }, { children: _jsx(\"path\", { d: \"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" }) })) })) })), _jsx(\"button\", Object.assign({ className: \"stylist-item-feedback-overlay__button stylist-item-feedback-overlay__button--dislike\", onClick: onDislike, \"aria-label\": \"Dislike this item\" }, { children: _jsx(\"div\", Object.assign({ className: \"stylist-item-feedback-overlay__icon-container\" }, { children: _jsx(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"24\", height: \"24\", fill: \"currentColor\" }, { children: _jsx(\"path\", { d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" }) })) })) }))] })));\n};\nexport default ItemFeedbackOverlay;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport './SizeAvailability.scss';\nconst SizeAvailability = ({ sizes, availableSizes, userSizes = [], onSizeSelect, onNotifyAvailability, primaryColor }) => {\n    const [selectedSize, setSelectedSize] = useState(null);\n    const [showNotifyForm, setShowNotifyForm] = useState(null);\n    const handleSizeSelect = (size) => {\n        if (availableSizes.includes(size)) {\n            setSelectedSize(size);\n            onSizeSelect(size);\n        }\n        else {\n            setShowNotifyForm(size);\n        }\n    };\n    const handleNotifySubmit = (e, size) => {\n        e.preventDefault();\n        onNotifyAvailability(size);\n        setShowNotifyForm(null);\n    };\n    const isSizeAvailable = (size) => availableSizes.includes(size);\n    const isUserSize = (size) => userSizes.includes(size);\n    return (_jsxs(\"div\", Object.assign({ className: \"stylist-size-availability\" }, { children: [_jsxs(\"div\", Object.assign({ className: \"stylist-size-availability__header\" }, { children: [_jsx(\"h4\", Object.assign({ className: \"stylist-size-availability__title\" }, { children: \"Select Size\" })), userSizes.length > 0 && (_jsxs(\"span\", Object.assign({ className: \"stylist-size-availability__user-sizes\" }, { children: [\"Your sizes: \", userSizes.join(', ')] })))] })), _jsx(\"div\", Object.assign({ className: \"stylist-size-availability__sizes\" }, { children: sizes.map(size => (_jsxs(\"button\", Object.assign({ className: `\n              stylist-size-availability__size-btn\n              ${!isSizeAvailable(size) ? 'stylist-size-availability__size-btn--unavailable' : ''}\n              ${isUserSize(size) ? 'stylist-size-availability__size-btn--user-size' : ''}\n              ${selectedSize === size ? 'stylist-size-availability__size-btn--selected' : ''}\n            `, onClick: () => handleSizeSelect(size), disabled: !isSizeAvailable(size) && showNotifyForm !== size, style: selectedSize === size ? { borderColor: primaryColor, color: primaryColor } : undefined }, { children: [size, isUserSize(size) && (_jsx(\"span\", Object.assign({ className: \"stylist-size-availability__your-size-indicator\", style: { backgroundColor: primaryColor } }, { children: _jsx(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"12\", height: \"12\", fill: \"currentColor\" }, { children: _jsx(\"path\", { d: \"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\" }) })) })))] }), size))) })), showNotifyForm && (_jsx(\"div\", Object.assign({ className: \"stylist-size-availability__notify-form\" }, { children: _jsxs(\"form\", Object.assign({ onSubmit: (e) => handleNotifySubmit(e, showNotifyForm) }, { children: [_jsxs(\"p\", Object.assign({ className: \"stylist-size-availability__notify-text\" }, { children: [\"Get notified when size \", showNotifyForm, \" becomes available\"] })), _jsxs(\"div\", Object.assign({ className: \"stylist-size-availability__notify-actions\" }, { children: [_jsx(\"button\", Object.assign({ type: \"button\", className: \"stylist-size-availability__cancel-btn\", onClick: () => setShowNotifyForm(null) }, { children: \"Cancel\" })), _jsx(\"button\", Object.assign({ type: \"submit\", className: \"stylist-size-availability__notify-btn\", style: { backgroundColor: primaryColor } }, { children: \"Notify Me\" }))] }))] })) })))] })));\n};\nexport default SizeAvailability;\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\n// Enhanced item card component for displaying product recommendations and closet items\nimport { useState, useMemo } from 'react';\nimport './ItemCard.scss';\nimport { formatPrice } from '@/utils/formatters';\nimport FeedbackControls from '../FeedbackControls';\nimport { mapProductTypeToGarmentType } from '@/utils/productMappings';\nimport { GarmentType } from '@/types/tryOn';\nimport ItemHoverMenu from './ItemHoverMenu';\nimport ItemFeedbackOverlay from './ItemFeedbackOverlay';\nimport SizeAvailability from './SizeAvailability';\nimport CompleteLookModal from '../CompleteLookModal';\nimport AdaptiveImage from '../common/AdaptiveImage';\nimport { getAnimationComplexity } from '@/utils/animationUtils';\nconst ItemCard = ({ item, onFeedback, onAddToWishlist, onAddToCart, onTryOn, onFavorite, onRemove, showDetails = false, primaryColor, onClick, isClosetItem = false, isFavorite = false, onAddToDressingRoom, onOutfitSuggestions, complementaryItems = [], userSizes = [], onSizeSelect, onNotifyAvailability, onAddAllToCart, className }) => {\n    const id = item.id;\n    const name = item.name;\n    const brand = item.brand;\n    const price = item.price;\n    // These properties only exist on recommendation items\n    const salePrice = 'salePrice' in item ? item.salePrice : undefined;\n    const matchScore = 'matchScore' in item ? item.matchScore : undefined;\n    const matchReasons = 'matchReasons' in item ? item.matchReasons : [];\n    const category = 'category' in item ? item.category : undefined;\n    const sizes = 'sizes' in item ? item.sizes : [];\n    const inStock = 'inStock' in item ? item.inStock : true;\n    const [showFeedbackText, setShowFeedbackText] = useState(null);\n    const [animateItem, setAnimateItem] = useState(false);\n    const [isFavoriteState, setIsFavoriteState] = useState(isFavorite);\n    const [showSizeSelector, setShowSizeSelector] = useState(false);\n    const [showCompleteLookModal, setShowCompleteLookModal] = useState(false);\n    // Use the appropriate image URL based on item type\n    const imageUrl = isClosetItem\n        ? ('image' in item ? item.image : '')\n        : ('imageUrls' in item && item.imageUrls && item.imageUrls.length > 0 ? item.imageUrls[0] : '');\n    const handleItemClick = () => {\n        if (onClick) {\n            onClick(item);\n        }\n        else if (!isClosetItem && 'url' in item) {\n            // Open product details or navigate to product page\n            window.open(item.url, '_blank');\n        }\n    };\n    const handleFeedback = (liked) => {\n        if (onFeedback) {\n            onFeedback(id, liked);\n            // Show feedback text briefly with appropriate message\n            const feedbackMessage = liked\n                ? 'Added to your liked items'\n                : 'Noted - not your style';\n            setShowFeedbackText(feedbackMessage);\n            // Trigger animation\n            setAnimateItem(true);\n            setTimeout(() => {\n                setAnimateItem(false);\n                setTimeout(() => {\n                    setShowFeedbackText(null);\n                }, 300);\n            }, 1500);\n        }\n    };\n    const handleAddToWishlist = (e) => {\n        e.stopPropagation(); // Prevent item click\n        if (onAddToWishlist) {\n            onAddToWishlist(id);\n            // Show feedback text briefly\n            setShowFeedbackText('Added to wishlist');\n            setTimeout(() => {\n                setShowFeedbackText(null);\n            }, 1800);\n        }\n    };\n    const handleAddToCart = (e) => {\n        e.stopPropagation(); // Prevent item click\n        if (!showSizeSelector && sizes && sizes.length > 0) {\n            setShowSizeSelector(true);\n            return;\n        }\n        if (onAddToCart) {\n            onAddToCart(id);\n            // Show feedback text briefly\n            setShowFeedbackText('Added to cart');\n            setTimeout(() => {\n                setShowFeedbackText(null);\n            }, 1800);\n            // Show complete the look modal if we have complementary items\n            if (complementaryItems && complementaryItems.length > 0 && onAddAllToCart) {\n                setShowCompleteLookModal(true);\n            }\n        }\n    };\n    const handleTryOn = (e) => {\n        e.stopPropagation(); // Prevent item click\n        if (onTryOn) {\n            onTryOn(item);\n        }\n    };\n    const handleAddToDressingRoom = () => {\n        if (onAddToDressingRoom) {\n            onAddToDressingRoom(id);\n            // Show feedback text briefly\n            setShowFeedbackText('Added to dressing room');\n            setTimeout(() => {\n                setShowFeedbackText(null);\n            }, 1800);\n        }\n    };\n    const handleOutfitSuggestions = () => {\n        if (onOutfitSuggestions) {\n            onOutfitSuggestions(id);\n        }\n    };\n    const handleSizeSelect = (size) => {\n        if (onSizeSelect) {\n            onSizeSelect(id, size);\n            setShowSizeSelector(false);\n            // Add to cart after size is selected\n            if (onAddToCart) {\n                onAddToCart(id);\n                // Show feedback text briefly\n                setShowFeedbackText('Added to cart');\n                setTimeout(() => {\n                    setShowFeedbackText(null);\n                }, 1800);\n                // Show complete the look modal if we have complementary items\n                if (complementaryItems && complementaryItems.length > 0 && onAddAllToCart) {\n                    setShowCompleteLookModal(true);\n                }\n            }\n        }\n    };\n    const handleNotifyAvailability = (size) => {\n        if (onNotifyAvailability) {\n            onNotifyAvailability(id, size);\n            setShowSizeSelector(false);\n            // Show feedback text briefly\n            setShowFeedbackText(`We'll notify you when size ${size} is available`);\n            setTimeout(() => {\n                setShowFeedbackText(null);\n            }, 2500);\n        }\n    };\n    const handleAddAllToCart = (itemIds) => {\n        if (onAddAllToCart) {\n            onAddAllToCart(itemIds);\n        }\n    };\n    // Show discount percentage if on sale\n    const discountPercentage = salePrice && price > 0\n        ? Math.round(((price - salePrice) / price) * 100)\n        : null;\n    // Check if product is try-on compatible\n    const isTryOnCompatible = category ?\n        ['top', 'bottom', 'dress', 'outerwear', 'shoes', 'accessory'].includes(category.toLowerCase())\n        : false;\n    // Get garment type for try-on\n    const garmentType = category ? mapProductTypeToGarmentType(category) : GarmentType.TOP;\n    // Determine available sizes\n    const availableSizes = inStock ? sizes : [];\n    // Determine animation complexity based on device capabilities\n    const animationClass = useMemo(() => {\n        const level = getAnimationComplexity({\n            high: 'animation--high',\n            medium: 'animation--medium',\n            low: 'animation--low',\n            none: 'animation--none'\n        });\n        return level;\n    }, []);\n    return (_jsxs(\"div\", Object.assign({ className: `stylist-item-card ${animateItem ? 'stylist-item-card--animate' : ''} ${animationClass} ${className || ''}` }, { children: [_jsxs(\"div\", Object.assign({ className: \"stylist-item-card__image-container\", onClick: handleItemClick }, { children: [imageUrl ? (_jsx(AdaptiveImage, { src: imageUrl, alt: name, className: \"stylist-item-card__image\", loadingPriority: isClosetItem ? 'high' : 'medium', quality: category === 'featured' ? 'high' : 'medium' })) : (_jsx(\"div\", Object.assign({ className: \"stylist-item-card__image-placeholder\" }, { children: \"No Image\" }))), discountPercentage && (_jsxs(\"div\", Object.assign({ className: \"stylist-item-card__discount\" }, { children: [discountPercentage, \"% OFF\"] }))), showFeedbackText && (_jsx(\"div\", Object.assign({ className: \"stylist-item-card__feedback-text\", style: { backgroundColor: `${primaryColor}ee` } }, { children: showFeedbackText }))), isTryOnCompatible && imageUrl && onTryOn && (_jsx(\"div\", Object.assign({ className: \"stylist-item-card__try-on-overlay\" }, { children: _jsxs(\"button\", Object.assign({ className: \"stylist-item-card__try-on-button\", onClick: handleTryOn, style: { backgroundColor: primaryColor } }, { children: [_jsx(\"span\", Object.assign({ className: \"stylist-item-card__try-on-icon\" }, { children: _jsx(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"16\", height: \"16\", fill: \"currentColor\" }, { children: _jsx(\"path\", { d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\" }) })) })), _jsx(\"span\", Object.assign({ className: \"stylist-item-card__try-on-text\" }, { children: \"Try On\" }))] })) }))), !isClosetItem && (_jsx(ItemHoverMenu, { onAddToDressingRoom: handleAddToDressingRoom, onAddToWishlist: handleAddToWishlist, onAddToCart: handleAddToCart, onOutfitSuggestions: handleOutfitSuggestions, primaryColor: primaryColor })), !isClosetItem && onFeedback && (_jsx(ItemFeedbackOverlay, { onLike: () => handleFeedback(true), onDislike: () => handleFeedback(false), primaryColor: primaryColor }))] })), _jsxs(\"div\", Object.assign({ className: \"stylist-item-card__content\", onClick: handleItemClick }, { children: [_jsx(\"div\", Object.assign({ className: \"stylist-item-card__brand\" }, { children: brand })), _jsx(\"div\", Object.assign({ className: \"stylist-item-card__name\" }, { children: name })), _jsx(\"div\", Object.assign({ className: \"stylist-item-card__price\" }, { children: salePrice ? (_jsxs(_Fragment, { children: [_jsx(\"span\", Object.assign({ className: \"stylist-item-card__price--sale\" }, { children: formatPrice(salePrice) })), _jsx(\"span\", Object.assign({ className: \"stylist-item-card__price--original\" }, { children: formatPrice(price) }))] })) : (_jsx(\"span\", { children: formatPrice(price) })) }))] })), showSizeSelector && sizes && sizes.length > 0 && (_jsx(SizeAvailability, { sizes: sizes, availableSizes: availableSizes, userSizes: userSizes, onSizeSelect: handleSizeSelect, onNotifyAvailability: handleNotifyAvailability, primaryColor: primaryColor })), showDetails && matchReasons && matchReasons.length > 0 && (_jsxs(\"div\", Object.assign({ className: \"stylist-item-card__match-reasons\" }, { children: [_jsx(\"div\", Object.assign({ className: \"stylist-item-card__match-score\", style: { color: primaryColor } }, { children: typeof matchScore === 'number' ? `${Math.round(matchScore * 100)}% Match` : 'Good Match' })), _jsx(\"ul\", Object.assign({ className: \"stylist-item-card__reason-list\" }, { children: matchReasons.map((reason, index) => (_jsx(\"li\", Object.assign({ className: \"stylist-item-card__reason-item\" }, { children: reason }), index))) }))] }))), _jsx(\"div\", Object.assign({ className: \"stylist-item-card__actions\" }, { children: isClosetItem ? (_jsxs(_Fragment, { children: [onFavorite && (_jsx(\"button\", Object.assign({ className: `stylist-item-card__favorite-btn ${isFavoriteState ? 'stylist-item-card__favorite-btn--active' : ''}`, onClick: (e) => {\n                                e.stopPropagation();\n                                const newFavoriteState = !isFavoriteState;\n                                setIsFavoriteState(newFavoriteState);\n                                onFavorite(newFavoriteState);\n                            }, \"aria-label\": isFavoriteState ? \"Remove from favorites\" : \"Add to favorites\" }, { children: _jsx(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"20\", height: \"20\", fill: \"currentColor\" }, { children: _jsx(\"path\", { d: \"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" }) })) }))), onRemove && (_jsx(\"button\", Object.assign({ className: \"stylist-item-card__remove-btn\", onClick: (e) => {\n                                e.stopPropagation();\n                                onRemove();\n                            }, \"aria-label\": \"Remove from closet\" }, { children: _jsx(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"20\", height: \"20\", fill: \"currentColor\" }, { children: _jsx(\"path\", { d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\" }) })) })))] })) : (_jsxs(_Fragment, { children: [_jsx(FeedbackControls, { itemId: id, onLike: () => handleFeedback(true), onDislike: () => handleFeedback(false), primaryColor: primaryColor }), isTryOnCompatible && imageUrl && onTryOn && (_jsxs(\"button\", Object.assign({ className: \"stylist-item-card__try-on-btn\", onClick: handleTryOn, \"aria-label\": \"Try on this item\", style: { backgroundColor: primaryColor } }, { children: [_jsx(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"16\", height: \"16\", fill: \"currentColor\" }, { children: _jsx(\"path\", { d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\" }) })), \"Try On\"] }))), onAddToWishlist && (_jsx(\"button\", Object.assign({ className: \"stylist-item-card__wishlist-btn\", onClick: handleAddToWishlist, \"aria-label\": \"Add to wishlist\" }, { children: _jsx(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"20\", height: \"20\", fill: \"currentColor\" }, { children: _jsx(\"path\", { d: \"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" }) })) }))), onAddToCart && (_jsx(\"button\", Object.assign({ className: \"stylist-item-card__cart-btn\", onClick: handleAddToCart, \"aria-label\": \"Add to cart\" }, { children: _jsx(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"20\", height: \"20\", fill: \"currentColor\" }, { children: _jsx(\"path\", { d: \"M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z\" }) })) })))] })) })), showCompleteLookModal && 'category' in item && complementaryItems && complementaryItems.length > 0 && (_jsx(CompleteLookModal, { isOpen: showCompleteLookModal, onClose: () => setShowCompleteLookModal(false), selectedItem: item, complementaryItems: complementaryItems, onAddToCart: onAddToCart, onAddAllToCart: handleAddAllToCart, primaryColor: primaryColor }))] })));\n};\nexport default ItemCard;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport './GridLayout.scss';\nconst GridLayout = ({ items, size, title, categoryDropdown, showRequestedSection = false, requestedItems = [], className = '' }) => {\n    const getGridClassName = () => {\n        switch (size) {\n            case '2x5':\n                return 'stylist-grid-layout--2x5';\n            case '2x50':\n                return 'stylist-grid-layout--2x50';\n            case '2xn':\n            default:\n                return 'stylist-grid-layout--2xn';\n        }\n    };\n    return (_jsxs(\"div\", Object.assign({ className: `stylist-grid-layout ${getGridClassName()} ${className}` }, { children: [(title || categoryDropdown) && (_jsxs(\"div\", Object.assign({ className: \"stylist-grid-layout__header\" }, { children: [title && _jsx(\"h2\", Object.assign({ className: \"stylist-grid-layout__title\" }, { children: title })), categoryDropdown && (_jsx(\"div\", Object.assign({ className: \"stylist-grid-layout__category\" }, { children: categoryDropdown })))] }))), showRequestedSection && requestedItems.length > 0 && (_jsxs(\"div\", Object.assign({ className: \"stylist-grid-layout__section\" }, { children: [_jsx(\"h3\", Object.assign({ className: \"stylist-grid-layout__section-title\" }, { children: \"Requested Items\" })), _jsx(\"div\", Object.assign({ className: \"stylist-grid-layout__requested-grid\" }, { children: requestedItems.map((item, index) => (_jsx(\"div\", Object.assign({ className: \"stylist-grid-layout__item\" }, { children: item }), `requested-${index}`))) }))] }))), _jsx(\"div\", Object.assign({ className: \"stylist-grid-layout__grid\" }, { children: items.map((item, index) => (_jsx(\"div\", Object.assign({ className: \"stylist-grid-layout__item\" }, { children: item }), `item-${index}`))) }))] })));\n};\nexport default GridLayout;\n","import GridLayout from './GridLayout';\nexport default GridLayout;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\n// Lookbook component for displaying saved outfits and recommendations\nimport { useState } from 'react';\nimport './Lookbook.scss';\nimport ItemCard from '@/components/ItemCard';\nimport OutfitDisplay from '@/components/OutfitDisplay';\nimport { useChatStore } from '@/store/index';\nimport TryOnModal from '@/components/TryOnModal';\nimport { GarmentType } from '@/types/tryOn';\nimport { startTryOn, openTryOnModal } from '@/integration/integrateTryOn';\nimport TrendingItems from '@/components/TrendingItems';\nimport SocialProofModal from '@/components/SocialProofModal';\nimport WishlistTab from '@/components/WishlistTab';\nconst Lookbook = ({ items, outfits, savedOutfits, tryOnResults = [], onItemFeedback, onOutfitFeedback, onAddToWishlist, onAddToCart, onSaveOutfit, onSaveTryOnResult, primaryColor }) => {\n    const { addTextMessage } = useChatStore();\n    const [activeTab, setActiveTab] = useState('items');\n    const [isTryOnModalOpen, setIsTryOnModalOpen] = useState(false);\n    const [selectedTryOnItem, setSelectedTryOnItem] = useState(null);\n    const [isSocialProofModalOpen, setIsSocialProofModalOpen] = useState(false);\n    const [selectedCelebrityOutfit, setSelectedCelebrityOutfit] = useState(null);\n    // Combine saved outfits and try-on results\n    const allSavedItems = [...savedOutfits];\n    // Filter try-on results\n    const tryOnItems = tryOnResults || [];\n    // Example celebrity outfits data\n    const celebrityOutfits = [\n        {\n            id: 'celeb-1',\n            celebrityName: 'Celebrity Name 1',\n            imageUrl: 'https://via.placeholder.com/400x600?text=Celebrity+Outfit+1',\n            description: 'Spotted on the red carpet wearing a stunning ensemble that combines elegance with modern trends.'\n        },\n        {\n            id: 'celeb-2',\n            celebrityName: 'Celebrity Name 2',\n            imageUrl: 'https://via.placeholder.com/400x600?text=Celebrity+Outfit+2',\n            description: 'A casual yet stylish look perfect for everyday wear, showing how to combine comfort with fashion.'\n        }\n    ];\n    const handleSaveOutfit = (outfitId) => {\n        if (onSaveOutfit) {\n            const outfit = outfits.find(o => o.id === outfitId);\n            if (outfit) {\n                onSaveOutfit(outfit);\n                addTextMessage(`I've saved this outfit to your lookbook! You can access it anytime.`, 'assistant');\n            }\n        }\n    };\n    const handleItemClick = (item) => {\n        // Add chat message about the selected item\n        addTextMessage(`${item.name} by ${item.brand} is a great choice! Would you like to know more about this item or see similar styles?`, 'assistant');\n    };\n    const handleTryOn = (item) => {\n        var _a;\n        // Store selected item\n        setSelectedTryOnItem(item);\n        // Map item category to GarmentType\n        let garmentType = GarmentType.TOP;\n        if (item.category) {\n            const category = item.category.toLowerCase();\n            if (category.includes('dress')) {\n                garmentType = GarmentType.DRESS;\n            }\n            else if (category.includes('bottom') ||\n                category.includes('pant') ||\n                category.includes('short') ||\n                category.includes('skirt')) {\n                garmentType = GarmentType.BOTTOM;\n            }\n            else if (category.includes('jacket') ||\n                category.includes('coat')) {\n                garmentType = GarmentType.OUTERWEAR;\n            }\n            else if (category.includes('shoes')) {\n                garmentType = GarmentType.SHOES;\n            }\n            else if (category.includes('accessory')) {\n                garmentType = GarmentType.ACCESSORY;\n            }\n        }\n        // Start try-on with the item's image\n        const imageUrl = ((_a = item.imageUrls) === null || _a === void 0 ? void 0 : _a[0]) || '';\n        if (imageUrl) {\n            startTryOn(imageUrl, garmentType);\n            openTryOnModal();\n        }\n    };\n    const handleSaveTryOnResult = (resultUrl) => {\n        if (onSaveTryOnResult && selectedTryOnItem) {\n            const tryOnResult = {\n                id: `tryon-${Date.now()}`,\n                imageUrl: resultUrl,\n                name: `Try-on: ${selectedTryOnItem.name}`\n            };\n            onSaveTryOnResult(tryOnResult);\n            setActiveTab('try-on');\n            // Reset selected item\n            setSelectedTryOnItem(null);\n        }\n    };\n    // Handle opening the social proof modal\n    const handleOpenSocialProofModal = (celebrityOutfit) => {\n        setSelectedCelebrityOutfit(celebrityOutfit);\n        setIsSocialProofModalOpen(true);\n    };\n    const renderTabContent = () => {\n        switch (activeTab) {\n            case 'items':\n                return (_jsx(\"div\", Object.assign({ className: \"stylist-lookbook__items\" }, { children: items.length > 0 ? (items.map(item => (_jsx(ItemCard, { item: item, onFeedback: onItemFeedback, onAddToWishlist: () => onAddToWishlist && onAddToWishlist(item), onAddToCart: () => onAddToCart && onAddToCart(item), showDetails: true, primaryColor: primaryColor, onClick: () => handleItemClick(item), onTryOn: () => handleTryOn(item) }, item.id)))) : (_jsxs(\"div\", Object.assign({ className: \"stylist-lookbook__empty\" }, { children: [_jsx(\"p\", { children: \"No recommended items yet.\" }), _jsx(\"p\", { children: \"Ask me for recommendations to see items here!\" })] }))) })));\n            case 'outfits':\n                return (_jsx(\"div\", Object.assign({ className: \"stylist-lookbook__outfits\" }, { children: outfits.length > 0 ? (outfits.map(outfit => {\n                        // Convert Recommendation.Outfit to ChatTypes.Outfit for OutfitDisplay\n                        const chatOutfit = {\n                            id: outfit.id,\n                            name: outfit.name || '',\n                            occasion: outfit.occasion,\n                            matchScore: outfit.matchScore,\n                            matchReasons: outfit.matchReasons,\n                            items: outfit.items.map(item => {\n                                var _a;\n                                return ({\n                                    id: item.id,\n                                    name: item.name,\n                                    brand: item.brand,\n                                    category: item.category || '',\n                                    price: item.price,\n                                    salePrice: item.salePrice,\n                                    imageUrl: ((_a = item.imageUrls) === null || _a === void 0 ? void 0 : _a[0]) || '',\n                                    url: item.url || '',\n                                    matchScore: item.matchScore || 0,\n                                    matchReasons: item.matchReasons || []\n                                });\n                            })\n                        };\n                        return (_jsx(OutfitDisplay, { outfit: chatOutfit, onFeedback: onOutfitFeedback, onSaveOutfit: handleSaveOutfit, primaryColor: primaryColor }, outfit.id));\n                    })) : (_jsxs(\"div\", Object.assign({ className: \"stylist-lookbook__empty\" }, { children: [_jsx(\"p\", { children: \"No outfit recommendations yet.\" }), _jsx(\"p\", { children: \"Ask me to create outfits for you!\" })] }))) })));\n            case 'saved':\n                return (_jsx(\"div\", Object.assign({ className: \"stylist-lookbook__saved\" }, { children: allSavedItems.length > 0 ? (_jsx(\"div\", Object.assign({ className: \"stylist-lookbook__saved-items\" }, { children: allSavedItems.map(item => (_jsxs(\"div\", Object.assign({ className: \"stylist-lookbook__saved-item\" }, { children: [_jsx(\"div\", Object.assign({ className: \"stylist-lookbook__saved-image\" }, { children: _jsx(\"img\", { src: item.imageUrl, alt: item.name }) })), _jsxs(\"div\", Object.assign({ className: \"stylist-lookbook__saved-details\" }, { children: [_jsx(\"h4\", { children: item.name }), _jsx(\"p\", { children: item.createdAt ? new Date(item.createdAt).toLocaleDateString() : new Date(item.savedAt).toLocaleDateString() })] }))] }), item.id))) }))) : (_jsxs(\"div\", Object.assign({ className: \"stylist-lookbook__empty\" }, { children: [_jsx(\"p\", { children: \"No saved outfits yet.\" }), _jsx(\"p\", { children: \"Save outfits you like to access them later!\" })] }))) })));\n            case 'try-on':\n                return (_jsx(\"div\", Object.assign({ className: \"stylist-lookbook__try-on\" }, { children: tryOnItems.length > 0 ? (_jsx(\"div\", Object.assign({ className: \"stylist-lookbook__try-on-items\" }, { children: tryOnItems.map(item => (_jsxs(\"div\", Object.assign({ className: \"stylist-lookbook__try-on-item\" }, { children: [_jsx(\"div\", Object.assign({ className: \"stylist-lookbook__try-on-image\" }, { children: _jsx(\"img\", { src: item.imageUrl, alt: item.name }) })), _jsxs(\"div\", Object.assign({ className: \"stylist-lookbook__try-on-details\" }, { children: [_jsx(\"h4\", { children: item.name }), _jsx(\"p\", { children: item.createdAt ? new Date(item.createdAt).toLocaleDateString() : new Date(item.savedAt).toLocaleDateString() })] }))] }), item.id))) }))) : (_jsxs(\"div\", Object.assign({ className: \"stylist-lookbook__empty\" }, { children: [_jsx(\"p\", { children: \"No try-on results yet.\" }), _jsx(\"p\", { children: \"Use the try-on feature on items to see them here!\" })] }))) })));\n            case 'trending':\n                return (_jsxs(\"div\", Object.assign({ className: \"stylist-lookbook__trending\" }, { children: [_jsxs(\"div\", Object.assign({ className: \"stylist-lookbook__celebrity-section\" }, { children: [_jsx(\"h3\", Object.assign({ className: \"stylist-lookbook__section-title\" }, { children: \"Celebrity Inspiration\" })), _jsx(\"div\", Object.assign({ className: \"stylist-lookbook__celebrity-outfits\" }, { children: celebrityOutfits.map(outfit => (_jsxs(\"div\", Object.assign({ className: \"stylist-lookbook__celebrity-outfit\", onClick: () => handleOpenSocialProofModal(outfit) }, { children: [_jsx(\"div\", Object.assign({ className: \"stylist-lookbook__celebrity-image\" }, { children: _jsx(\"img\", { src: outfit.imageUrl, alt: outfit.celebrityName }) })), _jsxs(\"div\", Object.assign({ className: \"stylist-lookbook__celebrity-details\" }, { children: [_jsx(\"h4\", { children: outfit.celebrityName }), _jsx(\"p\", Object.assign({ className: \"stylist-lookbook__celebrity-description\" }, { children: outfit.description })), _jsx(\"button\", Object.assign({ className: \"stylist-lookbook__get-the-look-btn\", style: { backgroundColor: primaryColor } }, { children: \"Get the Look\" }))] }))] }), outfit.id))) }))] })), _jsxs(\"div\", Object.assign({ className: \"stylist-lookbook__trending-section\" }, { children: [_jsx(\"h3\", Object.assign({ className: \"stylist-lookbook__section-title\" }, { children: \"Trending Now\" })), _jsx(TrendingItems, { apiKey: process.env.REACT_APP_API_KEY || '', retailerId: process.env.REACT_APP_RETAILER_ID || '', apiUrl: process.env.REACT_APP_API_URL || '', onItemFeedback: onItemFeedback, onAddToWishlist: onAddToWishlist, onAddToCart: onAddToCart, primaryColor: primaryColor })] }))] })));\n            case 'wishlist':\n                return (_jsx(\"div\", Object.assign({ className: \"stylist-lookbook__wishlist\" }, { children: _jsx(WishlistTab, { onAddToCart: onAddToCart, onRemoveFromWishlist: (itemId) => {\n                            // This would trigger the remove from wishlist action\n                            console.log('Remove from wishlist:', itemId);\n                        }, onMoveToCloset: (item) => {\n                            // This would trigger adding to closet\n                            console.log('Move to closet:', item);\n                        }, primaryColor: primaryColor }) })));\n            default:\n                return null;\n        }\n    };\n    return (_jsxs(\"div\", Object.assign({ className: \"stylist-lookbook\" }, { children: [_jsxs(\"div\", Object.assign({ className: \"stylist-lookbook__header\" }, { children: [_jsx(\"h3\", Object.assign({ className: \"stylist-lookbook__title\" }, { children: \"Your Lookbook\" })), _jsxs(\"div\", Object.assign({ className: \"stylist-lookbook__tabs\" }, { children: [_jsxs(\"button\", Object.assign({ className: `stylist-lookbook__tab ${activeTab === 'items' ? 'stylist-lookbook__tab--active' : ''}`, onClick: () => setActiveTab('items'), style: activeTab === 'items' && primaryColor ? { borderBottomColor: primaryColor } : undefined }, { children: [\"Items (\", items.length, \")\"] })), _jsxs(\"button\", Object.assign({ className: `stylist-lookbook__tab ${activeTab === 'outfits' ? 'stylist-lookbook__tab--active' : ''}`, onClick: () => setActiveTab('outfits'), style: activeTab === 'outfits' && primaryColor ? { borderBottomColor: primaryColor } : undefined }, { children: [\"Outfits (\", outfits.length, \")\"] })), _jsxs(\"button\", Object.assign({ className: `stylist-lookbook__tab ${activeTab === 'trending' ? 'stylist-lookbook__tab--active' : ''}`, onClick: () => setActiveTab('trending'), style: activeTab === 'trending' && primaryColor ? { borderBottomColor: primaryColor } : undefined }, { children: [_jsx(\"span\", Object.assign({ role: \"img\", \"aria-label\": \"Fire\" }, { children: \"\\uD83D\\uDD25\" })), \" Trending\"] })), _jsxs(\"button\", Object.assign({ className: `stylist-lookbook__tab ${activeTab === 'wishlist' ? 'stylist-lookbook__tab--active' : ''}`, onClick: () => setActiveTab('wishlist'), style: activeTab === 'wishlist' && primaryColor ? { borderBottomColor: primaryColor } : undefined }, { children: [_jsx(\"span\", Object.assign({ role: \"img\", \"aria-label\": \"Heart\" }, { children: \"\\uD83D\\uDC96\" })), \" Wishlist\"] })), _jsxs(\"button\", Object.assign({ className: `stylist-lookbook__tab ${activeTab === 'saved' ? 'stylist-lookbook__tab--active' : ''}`, onClick: () => setActiveTab('saved'), style: activeTab === 'saved' && primaryColor ? { borderBottomColor: primaryColor } : undefined }, { children: [\"Saved (\", allSavedItems.length, \")\"] })), _jsxs(\"button\", Object.assign({ className: `stylist-lookbook__tab ${activeTab === 'try-on' ? 'stylist-lookbook__tab--active' : ''}`, onClick: () => setActiveTab('try-on'), style: activeTab === 'try-on' && primaryColor ? { borderBottomColor: primaryColor } : undefined }, { children: [\"Try-On (\", tryOnItems.length, \")\"] }))] }))] })), _jsx(\"div\", Object.assign({ className: \"stylist-lookbook__content\" }, { children: renderTabContent() })), _jsx(TryOnModal, { onSave: handleSaveTryOnResult }), isSocialProofModalOpen && selectedCelebrityOutfit && (_jsx(SocialProofModal, { isOpen: isSocialProofModalOpen, onClose: () => setIsSocialProofModalOpen(false), outfitData: selectedCelebrityOutfit, apiKey: process.env.REACT_APP_API_KEY || '', retailerId: process.env.REACT_APP_RETAILER_ID || '', apiUrl: process.env.REACT_APP_API_URL || '', onItemFeedback: onItemFeedback, onAddToWishlist: onAddToWishlist, onAddToCart: onAddToCart, primaryColor: primaryColor }))] })));\n};\nexport default Lookbook;\n","import ImageUploader from './ImageUploader';\nexport default ImageUploader;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\n// Image uploader component with enhanced webcam support for try-on functionality\nimport { useState, useRef, useCallback, useEffect } from 'react';\nimport './ImageUploader.scss';\nimport { getFormattedFileSize, isImageFile } from '@/services/image-processing/fileUtils';\nexport var CameraFacing;\n(function (CameraFacing) {\n    CameraFacing[\"USER\"] = \"user\";\n    CameraFacing[\"ENVIRONMENT\"] = \"environment\";\n})(CameraFacing || (CameraFacing = {}));\nconst ImageUploader = ({ onUpload, maxSize = 10 * 1024 * 1024, // 10MB default\nacceptedTypes = ['image/jpeg', 'image/png', 'image/webp'], title = 'Upload your photo', description = 'Take a photo or upload one to try on clothes', countdownDuration = 5 }) => {\n    const [isDragging, setIsDragging] = useState(false);\n    const [error, setError] = useState(null);\n    const [selectedFile, setSelectedFile] = useState(null);\n    const [preview, setPreview] = useState(null);\n    const [isUsingWebcam, setIsUsingWebcam] = useState(false);\n    const [isCameraSupported, setIsCameraSupported] = useState(true);\n    const [cameraDevices, setCameraDevices] = useState([]);\n    const [activeCameraId, setActiveCameraId] = useState(null);\n    const [cameraFacing, setCameraFacing] = useState(CameraFacing.USER);\n    const [isCapturing, setIsCapturing] = useState(false);\n    const [countdownTimer, setCountdownTimer] = useState(null);\n    const [permissionDenied, setPermissionDenied] = useState(false);\n    const fileInputRef = useRef(null);\n    const videoRef = useRef(null);\n    const canvasRef = useRef(null);\n    const countdownIntervalRef = useRef(null);\n    // Check if webcam is supported\n    useEffect(() => {\n        const checkCameraSupport = () => __awaiter(void 0, void 0, void 0, function* () {\n            try {\n                if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n                    setIsCameraSupported(false);\n                    return;\n                }\n                if (navigator.mediaDevices.enumerateDevices) {\n                    try {\n                        // Request camera permission first\n                        yield navigator.mediaDevices.getUserMedia({ video: true });\n                        // Get available devices after permission is granted\n                        const devices = yield navigator.mediaDevices.enumerateDevices();\n                        const videoDevices = devices.filter(device => device.kind === 'videoinput');\n                        setCameraDevices(videoDevices);\n                        if (videoDevices.length === 0) {\n                            setIsCameraSupported(false);\n                        }\n                    }\n                    catch (err) {\n                        console.warn('Camera permission denied:', err);\n                        setPermissionDenied(true);\n                        setIsCameraSupported(true); // Still mark as supported, just permission denied\n                    }\n                }\n            }\n            catch (err) {\n                console.warn('Error checking camera support:', err);\n                setIsCameraSupported(false);\n            }\n        });\n        checkCameraSupport();\n    }, []);\n    // Handle drag events\n    const handleDragOver = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(true);\n    }, []);\n    const handleDragLeave = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(false);\n    }, []);\n    // Handle file selection\n    const handleFileSelect = useCallback((file) => {\n        setError(null);\n        if (!file) {\n            setSelectedFile(null);\n            setPreview(null);\n            return;\n        }\n        // Validate file type\n        if (!isImageFile(file) || !acceptedTypes.includes(file.type)) {\n            setError(`Invalid file type. Accepted types: ${acceptedTypes.join(', ')}`);\n            return;\n        }\n        // Validate file size\n        if (file.size > maxSize) {\n            setError(`File size exceeds maximum allowed size of ${getFormattedFileSize(maxSize)}`);\n            return;\n        }\n        // Set selected file\n        setSelectedFile(file);\n        // Create preview\n        const reader = new FileReader();\n        reader.onload = () => {\n            setPreview(reader.result);\n        };\n        reader.readAsDataURL(file);\n    }, [acceptedTypes, maxSize]);\n    // Handle drop event\n    const handleDrop = useCallback((e) => {\n        var _a;\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(false);\n        const file = ((_a = e.dataTransfer.files) === null || _a === void 0 ? void 0 : _a[0]) || null;\n        handleFileSelect(file);\n    }, [handleFileSelect]);\n    // Handle file input change\n    const handleFileInputChange = useCallback((e) => {\n        var _a;\n        const file = ((_a = e.target.files) === null || _a === void 0 ? void 0 : _a[0]) || null;\n        handleFileSelect(file);\n    }, [handleFileSelect]);\n    // Open file dialog\n    const handleButtonClick = useCallback(() => {\n        if (fileInputRef.current) {\n            fileInputRef.current.click();\n        }\n    }, []);\n    // Upload the selected file\n    const handleUpload = useCallback(() => {\n        if (selectedFile) {\n            onUpload(selectedFile);\n        }\n    }, [selectedFile, onUpload]);\n    // Start webcam with specific device or facing mode\n    const startWebcam = useCallback((deviceIdOrFacing) => __awaiter(void 0, void 0, void 0, function* () {\n        var _a;\n        setError(null);\n        setIsUsingWebcam(true);\n        try {\n            // Clear any existing stream first\n            if ((_a = videoRef.current) === null || _a === void 0 ? void 0 : _a.srcObject) {\n                const stream = videoRef.current.srcObject;\n                stream.getTracks().forEach(track => track.stop());\n                videoRef.current.srcObject = null;\n            }\n            // Configure video constraints\n            let videoConstraints = {\n                width: { ideal: 1280 },\n                height: { ideal: 720 }\n            };\n            // If device ID specified, use it\n            if (typeof deviceIdOrFacing === 'string' && deviceIdOrFacing.length > 0) {\n                videoConstraints.deviceId = { exact: deviceIdOrFacing };\n                setActiveCameraId(deviceIdOrFacing);\n            }\n            // Otherwise use facing mode\n            else if (deviceIdOrFacing === CameraFacing.USER || deviceIdOrFacing === CameraFacing.ENVIRONMENT) {\n                videoConstraints.facingMode = deviceIdOrFacing;\n                setCameraFacing(deviceIdOrFacing);\n            }\n            // Default to user facing\n            else {\n                videoConstraints.facingMode = CameraFacing.USER;\n                setCameraFacing(CameraFacing.USER);\n            }\n            const stream = yield navigator.mediaDevices.getUserMedia({ video: videoConstraints });\n            if (videoRef.current) {\n                videoRef.current.srcObject = stream;\n                setPermissionDenied(false);\n            }\n        }\n        catch (err) {\n            console.error('Error accessing webcam:', err);\n            if (err.name === 'NotAllowedError' ||\n                err.name === 'PermissionDeniedError') {\n                setPermissionDenied(true);\n                setError('Camera access denied. Please enable camera permissions in your browser settings.');\n            }\n            else if (err.name === 'NotFoundError' ||\n                err.name === 'DevicesNotFoundError') {\n                setError('No camera found. Please connect a camera or try a different device.');\n            }\n            else {\n                setError('Could not access camera. Please try again or use a different method.');\n            }\n            setIsUsingWebcam(false);\n        }\n    }), []);\n    // Stop webcam\n    const stopWebcam = useCallback(() => {\n        // Clear any ongoing countdown\n        if (countdownIntervalRef.current) {\n            window.clearInterval(countdownIntervalRef.current);\n            countdownIntervalRef.current = null;\n            setCountdownTimer(null);\n        }\n        setIsCapturing(false);\n        if (videoRef.current && videoRef.current.srcObject) {\n            const stream = videoRef.current.srcObject;\n            const tracks = stream.getTracks();\n            tracks.forEach(track => track.stop());\n            videoRef.current.srcObject = null;\n        }\n        setIsUsingWebcam(false);\n    }, []);\n    // Switch camera\n    const switchCamera = useCallback(() => {\n        const newFacing = cameraFacing === CameraFacing.USER\n            ? CameraFacing.ENVIRONMENT\n            : CameraFacing.USER;\n        startWebcam(newFacing);\n    }, [cameraFacing, startWebcam]);\n    // Start capture countdown\n    const startCaptureCountdown = useCallback(() => {\n        // Clear any existing countdown\n        if (countdownIntervalRef.current) {\n            window.clearInterval(countdownIntervalRef.current);\n        }\n        setIsCapturing(true);\n        setCountdownTimer(countdownDuration);\n        countdownIntervalRef.current = window.setInterval(() => {\n            setCountdownTimer(prev => {\n                if (prev === null || prev <= 1) {\n                    // Time to capture when countdown reaches 0\n                    if (countdownIntervalRef.current) {\n                        window.clearInterval(countdownIntervalRef.current);\n                        countdownIntervalRef.current = null;\n                    }\n                    // Take the photo\n                    capturePhoto();\n                    return null;\n                }\n                return prev - 1;\n            });\n        }, 1000);\n    }, [countdownDuration]);\n    // Capture photo from webcam\n    const capturePhoto = useCallback(() => {\n        setIsCapturing(false);\n        if (videoRef.current && canvasRef.current) {\n            const video = videoRef.current;\n            const canvas = canvasRef.current;\n            // Set canvas dimensions to match video\n            canvas.width = video.videoWidth;\n            canvas.height = video.videoHeight;\n            // Draw video frame to canvas\n            const context = canvas.getContext('2d');\n            if (context) {\n                // If front camera, flip the image horizontally\n                if (cameraFacing === CameraFacing.USER) {\n                    context.translate(canvas.width, 0);\n                    context.scale(-1, 1);\n                }\n                context.drawImage(video, 0, 0, canvas.width, canvas.height);\n                // Reset transform if we flipped\n                if (cameraFacing === CameraFacing.USER) {\n                    context.setTransform(1, 0, 0, 1, 0, 0);\n                }\n                // Convert canvas to blob\n                canvas.toBlob((blob) => {\n                    if (blob) {\n                        // Create File object from blob\n                        const file = new File([blob], `webcam-photo-${Date.now()}.jpg`, {\n                            type: 'image/jpeg'\n                        });\n                        setSelectedFile(file);\n                        setPreview(canvas.toDataURL('image/jpeg'));\n                        stopWebcam();\n                    }\n                }, 'image/jpeg', 0.95);\n            }\n        }\n    }, [stopWebcam, cameraFacing]);\n    // Cancel countdown\n    const cancelCountdown = useCallback(() => {\n        if (countdownIntervalRef.current) {\n            window.clearInterval(countdownIntervalRef.current);\n            countdownIntervalRef.current = null;\n            setCountdownTimer(null);\n            setIsCapturing(false);\n        }\n    }, []);\n    // Clean up webcam on unmount\n    useEffect(() => {\n        return () => {\n            if (isUsingWebcam) {\n                stopWebcam();\n            }\n        };\n    }, [isUsingWebcam, stopWebcam]);\n    // Select specific camera device\n    const selectCamera = useCallback((deviceId) => {\n        startWebcam(deviceId);\n    }, [startWebcam]);\n    // Reset choices\n    const resetChoices = useCallback(() => {\n        setSelectedFile(null);\n        setPreview(null);\n        setError(null);\n        if (isUsingWebcam) {\n            stopWebcam();\n        }\n    }, [isUsingWebcam, stopWebcam]);\n    return (_jsxs(\"div\", Object.assign({ className: \"stylist-image-uploader\" }, { children: [_jsxs(\"div\", Object.assign({ className: \"stylist-image-uploader__header\" }, { children: [_jsx(\"h3\", Object.assign({ className: \"stylist-image-uploader__title\" }, { children: title })), _jsx(\"p\", Object.assign({ className: \"stylist-image-uploader__description\" }, { children: description }))] })), isUsingWebcam ? (_jsxs(\"div\", Object.assign({ className: \"stylist-image-uploader__webcam\" }, { children: [_jsx(\"video\", { ref: videoRef, autoPlay: true, playsInline: true, className: `stylist-image-uploader__video ${cameraFacing === CameraFacing.USER ? 'stylist-image-uploader__video--mirror' : ''}` }), _jsx(\"canvas\", { ref: canvasRef, style: { display: 'none' } }), countdownTimer !== null && (_jsx(\"div\", Object.assign({ className: \"stylist-image-uploader__countdown\" }, { children: _jsx(\"div\", Object.assign({ className: \"stylist-image-uploader__countdown-number\" }, { children: countdownTimer })) }))), _jsxs(\"div\", Object.assign({ className: \"stylist-image-uploader__webcam-controls\" }, { children: [!isCapturing && (_jsxs(_Fragment, { children: [_jsx(\"button\", Object.assign({ type: \"button\", className: \"stylist-image-uploader__capture-btn\", onClick: startCaptureCountdown }, { children: \"Take Photo\" })), (cameraDevices.length > 1 ||\n                                        ('mediaDevices' in navigator && 'getSupportedConstraints' in navigator.mediaDevices &&\n                                            navigator.mediaDevices.getSupportedConstraints().facingMode)) && (_jsx(\"button\", Object.assign({ type: \"button\", className: \"stylist-image-uploader__switch-camera-btn\", onClick: switchCamera }, { children: \"Switch Camera\" }))), _jsx(\"button\", Object.assign({ type: \"button\", className: \"stylist-image-uploader__cancel-btn\", onClick: stopWebcam }, { children: \"Cancel\" }))] })), isCapturing && (_jsx(\"button\", Object.assign({ type: \"button\", className: \"stylist-image-uploader__cancel-countdown-btn\", onClick: cancelCountdown }, { children: \"Cancel Timer\" })))] })), cameraDevices.length > 1 && !isCapturing && (_jsx(\"div\", Object.assign({ className: \"stylist-image-uploader__camera-selector\" }, { children: _jsx(\"select\", Object.assign({ value: activeCameraId || '', onChange: (e) => selectCamera(e.target.value), className: \"stylist-image-uploader__camera-select\" }, { children: cameraDevices.map((device) => (_jsx(\"option\", Object.assign({ value: device.deviceId }, { children: device.label || `Camera ${cameraDevices.indexOf(device) + 1}` }), device.deviceId))) })) })))] }))) : (_jsxs(\"div\", Object.assign({ className: `stylist-image-uploader__dropzone ${isDragging ? 'stylist-image-uploader__dropzone--active' : ''} ${preview ? 'stylist-image-uploader__dropzone--has-preview' : ''}`, onDragOver: handleDragOver, onDragLeave: handleDragLeave, onDrop: handleDrop, onClick: preview ? undefined : handleButtonClick }, { children: [preview ? (_jsx(\"div\", Object.assign({ className: \"stylist-image-uploader__preview\" }, { children: _jsx(\"img\", { src: preview, alt: \"Upload preview\" }) }))) : (_jsxs(\"div\", Object.assign({ className: \"stylist-image-uploader__placeholder\" }, { children: [_jsx(\"div\", Object.assign({ className: \"stylist-image-uploader__icon\" }, { children: _jsx(\"svg\", Object.assign({ xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"48\", height: \"48\" }, { children: _jsx(\"path\", { d: \"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z\" }) })) })), _jsxs(\"p\", Object.assign({ className: \"stylist-image-uploader__message\" }, { children: [\"Drag & drop your photo here or\", ' ', _jsx(\"span\", Object.assign({ className: \"stylist-image-uploader__browse\" }, { children: \"browse\" }))] })), _jsxs(\"p\", Object.assign({ className: \"stylist-image-uploader__info\" }, { children: [\"Accepted formats: \", acceptedTypes.map(t => t.replace('image/', '.')).join(', '), _jsx(\"br\", {}), \"Max size: \", getFormattedFileSize(maxSize)] }))] }))), _jsx(\"input\", { ref: fileInputRef, type: \"file\", className: \"stylist-image-uploader__input\", accept: acceptedTypes.join(','), onChange: handleFileInputChange })] }))), error && _jsx(\"div\", Object.assign({ className: \"stylist-image-uploader__error\" }, { children: error })), permissionDenied && !isUsingWebcam && (_jsxs(\"div\", Object.assign({ className: \"stylist-image-uploader__permission-message\" }, { children: [_jsx(\"p\", { children: \"Camera access was denied. To enable your camera:\" }), _jsxs(\"ul\", { children: [_jsx(\"li\", { children: \"Check your browser's address bar for camera permission icon\" }), _jsx(\"li\", { children: \"Make sure your device has a working camera\" }), _jsx(\"li\", { children: \"Try using the file upload option instead\" })] })] }))), _jsx(\"div\", Object.assign({ className: \"stylist-image-uploader__actions\" }, { children: !isUsingWebcam && (_jsxs(_Fragment, { children: [preview ? (_jsxs(_Fragment, { children: [_jsx(\"button\", Object.assign({ className: \"stylist-image-uploader__change-btn\", onClick: handleButtonClick }, { children: \"Change Photo\" })), _jsx(\"button\", Object.assign({ className: \"stylist-image-uploader__reset-btn\", onClick: resetChoices }, { children: \"Start Over\" }))] })) : (_jsx(_Fragment, { children: isCameraSupported && (_jsx(\"button\", Object.assign({ className: \"stylist-image-uploader__webcam-btn\", onClick: () => startWebcam() }, { children: \"Use Camera\" }))) })), _jsx(\"button\", Object.assign({ className: \"stylist-image-uploader__upload-btn\", onClick: handleUpload, disabled: !selectedFile }, { children: selectedFile ? 'Continue' : 'Upload a Photo' }))] })) }))] })));\n};\nexport default ImageUploader;\n"],"names":["onClick","primaryColor","buttonStyle","backgroundColor","undefined","Object","assign","className","style","children","xmlns","viewBox","width","height","fill","d","messageId","onThumbsUp","isActive","setIsActive","useState","addMessageThumbsUp","isMessageThumbedUp","useEffect","color","borderColor","disabled","onLike","onDislike","itemId","outfitId","liked","propLiked","disliked","propDisliked","setLiked","setDisliked","feedbackStore","addItemFeedback","addOutfitFeedback","getItemFeedbackStatus","getOutfitFeedbackStatus","status","likeStyle","dislikeStyle","onAddToDressingRoom","onAddToWishlist","onAddToCart","onOutfitSuggestions","sizes","availableSizes","userSizes","onSizeSelect","onNotifyAvailability","selectedSize","setSelectedSize","showNotifyForm","setShowNotifyForm","isSizeAvailable","size","includes","isUserSize","length","join","map","handleSizeSelect","onSubmit","e","preventDefault","handleNotifySubmit","type","item","onFeedback","onTryOn","onFavorite","onRemove","showDetails","isClosetItem","isFavorite","complementaryItems","onAddAllToCart","id","name","brand","price","salePrice","matchScore","matchReasons","category","inStock","showFeedbackText","setShowFeedbackText","animateItem","setAnimateItem","isFavoriteState","setIsFavoriteState","showSizeSelector","setShowSizeSelector","showCompleteLookModal","setShowCompleteLookModal","imageUrl","image","imageUrls","handleItemClick","window","open","url","handleFeedback","setTimeout","handleAddToWishlist","stopPropagation","handleAddToCart","handleTryOn","discountPercentage","Math","round","isTryOnCompatible","toLowerCase","TOP","animationClass","useMemo","high","medium","low","none","AdaptiveImage","A","src","alt","loadingPriority","quality","reason","index","newFavoriteState","FeedbackControls","CompleteLookModal","isOpen","onClose","selectedItem","itemIds","items","title","categoryDropdown","showRequestedSection","requestedItems","getGridClassName","outfits","savedOutfits","tryOnResults","onItemFeedback","onOutfitFeedback","onSaveOutfit","onSaveTryOnResult","addTextMessage","activeTab","setActiveTab","isTryOnModalOpen","setIsTryOnModalOpen","selectedTryOnItem","setSelectedTryOnItem","isSocialProofModalOpen","setIsSocialProofModalOpen","selectedCelebrityOutfit","setSelectedCelebrityOutfit","allSavedItems","tryOnItems","celebrityOutfits","celebrityName","description","handleSaveOutfit","outfit","find","o","borderBottomColor","role","ItemCard","_a","garmentType","DRESS","BOTTOM","OUTERWEAR","SHOES","ACCESSORY","chatOutfit","occasion","OutfitDisplay","createdAt","Date","toLocaleDateString","savedAt","TrendingItems","apiKey","REACT_APP_API_KEY","retailerId","REACT_APP_RETAILER_ID","apiUrl","REACT_APP_API_URL","WishlistTab","onRemoveFromWishlist","onMoveToCloset","renderTabContent","TryOnModal","onSave","resultUrl","tryOnResult","now","SocialProofModal","outfitData","CameraFacing","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","apply","onUpload","maxSize","acceptedTypes","countdownDuration","isDragging","setIsDragging","error","setError","selectedFile","setSelectedFile","preview","setPreview","isUsingWebcam","setIsUsingWebcam","isCameraSupported","setIsCameraSupported","cameraDevices","setCameraDevices","activeCameraId","setActiveCameraId","cameraFacing","setCameraFacing","USER","isCapturing","setIsCapturing","countdownTimer","setCountdownTimer","permissionDenied","setPermissionDenied","fileInputRef","useRef","videoRef","canvasRef","countdownIntervalRef","navigator","mediaDevices","getUserMedia","enumerateDevices","video","videoDevices","filter","device","kind","err","handleDragOver","useCallback","handleDragLeave","handleFileSelect","file","reader","FileReader","onload","readAsDataURL","handleDrop","dataTransfer","files","handleFileInputChange","target","handleButtonClick","current","click","handleUpload","startWebcam","deviceIdOrFacing","srcObject","getTracks","forEach","track","stop","videoConstraints","ideal","deviceId","exact","ENVIRONMENT","facingMode","stream","stopWebcam","clearInterval","switchCamera","newFacing","startCaptureCountdown","setInterval","prev","capturePhoto","canvas","videoWidth","videoHeight","context","getContext","translate","scale","drawImage","setTransform","toBlob","blob","File","toDataURL","cancelCountdown","selectCamera","resetChoices","ref","autoPlay","playsInline","display","getSupportedConstraints","onChange","label","indexOf","onDragOver","onDragLeave","onDrop","t","replace","accept"],"sourceRoot":""}