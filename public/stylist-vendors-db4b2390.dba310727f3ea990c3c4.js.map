{"version":3,"file":"stylist-vendors-db4b2390.dba310727f3ea990c3c4.js","mappings":"gLAgB6TA,EAAc,SAASC,EAAEC,GAAG,OAAOF,EAAcG,OAAOC,gBAAgB,CAACC,UAAU,cAAcC,OAAO,SAASL,EAAEC,GAAGD,EAAEI,UAAUH,CAAC,GAAG,SAASD,EAAEC,GAAG,IAAI,IAAIK,KAAKL,EAAEA,EAAEM,eAAeD,KAAKN,EAAEM,GAAGL,EAAEK,GAAG,GAAGN,EAAEC,EAAE,EAAE,SAASO,EAAUR,EAAEC,GAAG,SAASK,IAAIG,KAAKC,YAAYV,CAAC,CAACD,EAAcC,EAAEC,GAAGD,EAAEW,UAAU,OAAOV,EAAEC,OAAOU,OAAOX,IAAIK,EAAEK,UAAUV,EAAEU,UAAU,IAAIL,EAAE,CAAC,IAAIO,EAAS,WAAW,OAAOA,EAASX,OAAOY,QAAQ,SAASd,GAAG,IAAI,IAAIC,EAAEK,EAAE,EAAES,EAAEC,UAAUC,OAAOX,EAAES,EAAET,IAAI,IAAI,IAAIY,KAAKjB,EAAEe,UAAUV,GAAGJ,OAAOS,UAAUJ,eAAeY,KAAKlB,EAAEiB,KAAKlB,EAAEkB,GAAGjB,EAAEiB,IAAI,OAAOlB,CAAC,GAAGoB,MAAMX,KAAKO,UAAU,EAAE,SAASK,EAAUrB,EAAEC,EAAEK,EAAES,GAAG,OAAO,IAAIT,IAAIA,EAAEgB,WAAU,SAASJ,EAAEK,GAAG,SAASC,EAAExB,GAAG,IAAIyB,EAAEV,EAAEW,KAAK1B,GAAG,CAAC,MAAMA,GAAGuB,EAAEvB,EAAE,CAAC,CAAC,SAAS2B,EAAE3B,GAAG,IAAIyB,EAAEV,EAAEa,MAAM5B,GAAG,CAAC,MAAMA,GAAGuB,EAAEvB,EAAE,CAAC,CAAC,SAASyB,EAAEzB,GAAG,IAAIC,EAAED,EAAE6B,KAAKX,EAAElB,EAAE8B,QAAQ7B,EAAED,EAAE8B,MAAM7B,aAAaK,EAAEL,EAAE,IAAIK,GAAE,SAASN,GAAGA,EAAEC,EAAE,KAAI8B,KAAKP,EAAEG,EAAE,CAACF,GAAGV,EAAEA,EAAEK,MAAMpB,EAAEC,GAAG,KAAKyB,OAAO,GAAE,CAAC,SAASM,EAAYhC,EAAEC,GAAG,IAAIK,EAAES,EAAEG,EAAEK,EAAEC,EAAE,CAACS,MAAM,EAAEC,KAAK,WAAW,GAAG,EAAEhB,EAAE,GAAG,MAAMA,EAAE,GAAG,OAAOA,EAAE,EAAE,EAAEiB,KAAK,GAAGC,IAAI,IAAI,OAAOb,EAAE,CAACG,KAAKC,EAAE,GAAGC,MAAMD,EAAE,GAAGU,OAAOV,EAAE,IAAI,mBAAmBW,SAASf,EAAEe,OAAOC,UAAU,WAAW,OAAO9B,IAAI,GAAGc,EAAE,SAASI,EAAEJ,GAAG,OAAO,SAASI,GAAG,OAAO,SAASJ,GAAG,GAAGjB,EAAE,MAAM,IAAIkC,UAAU,mCAAmC,KAAKhB,GAAG,IAAI,GAAGlB,EAAE,EAAES,IAAIG,EAAE,EAAEK,EAAE,GAAGR,EAAEsB,OAAOd,EAAE,GAAGR,EAAEa,SAASV,EAAEH,EAAEsB,SAASnB,EAAEC,KAAKJ,GAAG,GAAGA,EAAEW,SAASR,EAAEA,EAAEC,KAAKJ,EAAEQ,EAAE,KAAKM,KAAK,OAAOX,EAAE,OAAOH,EAAE,EAAEG,IAAIK,EAAE,CAAC,EAAEA,EAAE,GAAGL,EAAEY,QAAQP,EAAE,IAAI,KAAK,EAAE,KAAK,EAAEL,EAAEK,EAAE,MAAM,KAAK,EAAE,OAAOC,EAAES,QAAQ,CAACH,MAAMP,EAAE,GAAGM,MAAK,GAAI,KAAK,EAAEL,EAAES,QAAQlB,EAAEQ,EAAE,GAAGA,EAAE,CAAC,GAAG,SAAS,KAAK,EAAEA,EAAEC,EAAEY,IAAIK,MAAMjB,EAAEW,KAAKM,MAAM,SAAS,QAAQ,KAAKvB,GAAGA,EAAEM,EAAEW,MAAMlB,OAAO,GAAGC,EAAEA,EAAED,OAAO,MAAM,IAAIM,EAAE,IAAI,IAAIA,EAAE,IAAI,CAACC,EAAE,EAAE,QAAQ,CAAC,GAAG,IAAID,EAAE,MAAML,GAAGK,EAAE,GAAGL,EAAE,IAAIK,EAAE,GAAGL,EAAE,IAAI,CAACM,EAAES,MAAMV,EAAE,GAAG,KAAK,CAAC,GAAG,IAAIA,EAAE,IAAIC,EAAES,MAAMf,EAAE,GAAG,CAACM,EAAES,MAAMf,EAAE,GAAGA,EAAEK,EAAE,KAAK,CAAC,GAAGL,GAAGM,EAAES,MAAMf,EAAE,GAAG,CAACM,EAAES,MAAMf,EAAE,GAAGM,EAAEY,IAAIM,KAAKnB,GAAG,KAAK,CAACL,EAAE,IAAIM,EAAEY,IAAIK,MAAMjB,EAAEW,KAAKM,MAAM,SAASlB,EAAEtB,EAAEkB,KAAKnB,EAAEwB,EAAE,CAAC,MAAMxB,GAAGuB,EAAE,CAAC,EAAEvB,GAAGe,EAAE,CAAC,CAAC,QAAQT,EAAEY,EAAE,CAAC,CAAC,GAAG,EAAEK,EAAE,GAAG,MAAMA,EAAE,GAAG,MAAM,CAACO,MAAMP,EAAE,GAAGA,EAAE,QAAG,EAAOM,MAAK,EAAG,CAApxB,CAAsxB,CAACN,EAAEI,GAAG,CAAC,CAAC,CAAC,SAASgB,EAAyB3C,GAAG,IAAIC,EAAED,EAAE4C,MAAM,GAAGtC,GAAE,IAAAuC,QAAO7C,EAAE,GAAGe,GAAE,IAAA+B,SAAQxC,EAAE,EAAE,IAAI,OAAO,IAAAyC,QAAOhC,EAAEd,EAAE,CAA4C,SAAS+C,EAAahD,EAAEC,GAAG,OAAO,IAAAgD,OAAK,WAAW,OAAO,IAAAC,OAAK,IAAAC,SAAQnD,GAAE,IAAAoD,QAAOnD,IAAI,QAAQ,GAAE,CAAC,SAASoD,EAAuBrD,EAAEC,GAAG,IAAIK,EAAEL,EAAE2C,MAAM7B,EAAET,EAAE,GAAGY,EAAEZ,EAAE,GAAGiB,EAAEjB,EAAE,GAAG,OAAO,IAAA2C,OAAK,WAAW,IAAI3C,EAAEqC,EAAyB1C,GAAGuB,GAAE,IAAA8B,aAAW,IAAAC,OAAM,EAAEhC,EAAE,EAAE,SAAS,GAAGI,GAAE,IAAAuB,OAAK,IAAAM,QAAOlD,EAAEkB,GAAG,SAASC,GAAE,IAAAqB,SAAQnB,EAAE,CAACZ,EAAEG,IAAIuC,GAAE,IAAAC,KAAIjC,GAAE,IAAA2B,QAAO,EAAE,UAAU,OAAO,IAAAO,KAAhY,SAAsB3D,EAAEC,GAAG,OAAO,IAAA2D,KAAI5D,EAAEC,EAAE,CAA0V4D,CAAaJ,EAAEzD,IAAG,IAAAoD,QAAO,EAAE,SAAS,GAAE,CAAC,SAASU,EAA2B9D,GAAG,IAAIC,EAAED,EAAE4C,MAAMtC,EAAEL,EAAE,GAAGc,EAAEd,EAAE,GAAGiB,EAAEjB,EAAE,GAAG,OAAO,IAAAgD,OAAK,WAAW,IAAIhD,EAAE0C,EAAyB3C,GAAGuB,GAAE,IAAA+B,aAAW,IAAAC,OAAM,EAAErC,EAAE,EAAE,SAAS,GAAGM,GAAE,IAAA0B,OAAK,IAAAM,QAAOvD,EAAEsB,GAAG,SAAS,OAAO,IAAAuB,SAAQtB,EAAE,CAAClB,EAAES,GAAG,GAAE,CAAC,IAAIgD,EAAU,WAAW,SAAS/D,EAAEA,EAAEC,GAAGQ,KAAKuD,MAAMhE,EAAES,KAAKwD,aAAahE,EAAE,IAAIK,EAAEG,KAAKuD,MAAME,OAAO,GAAGtB,MAAM,EAAAuB,KAAA,QAAa,IAAI7D,EAAE,KAAK,IAAIA,EAAE,IAAG,WAAW,MAAM,gBAAgBA,EAAE,GAAG,KAAKA,EAAE,GAAG,+BAA+B,GAAE,CAAC,OAAON,EAAEW,UAAUyD,QAAQ,SAASpE,GAAG,IAAIC,EAAEQ,KAAK,OAAO,IAAAwC,OAAK,WAAW,IAAI3C,EAAEL,EAAEoE,iBAAgB,IAAAnB,MAAKlD,EAAE,YAAYe,GAAE,IAAAuC,YAAWhD,EAAE,GAAGY,EAAEjB,EAAE+D,MAAMI,QAAQrD,GAAGuD,KAAI,SAAStE,GAAG,OAAO,IAAAuE,SAAQvE,EAAE,CAAC,GAAG,IAAGuB,EAAEtB,EAAEuE,kBAAkBtD,GAAG,MAAM,CAACuD,eAAc,IAAAC,SAAQnD,EAAEoD,SAASC,QAAQrD,EAAEqD,QAAQC,gBAAgBtD,EAAEsD,gBAAgBC,gBAAgBvD,EAAEuD,gBAAgBC,aAAaxD,EAAEwD,aAAaC,aAAazD,EAAEyD,aAAaC,YAAY1D,EAAE0D,YAAYC,YAAY3D,EAAE2D,YAAY,GAAE,EAAElF,EAAEW,UAAUwE,QAAQ,WAAW1E,KAAKuD,MAAMmB,SAAS,EAAEnF,CAAC,CAAhtB,GAAotBoF,EAAU,SAASpF,GAAG,SAASC,IAAI,OAAO,OAAOD,GAAGA,EAAEoB,MAAMX,KAAKO,YAAYP,IAAI,CAAC,OAAOD,EAAUP,EAAED,GAAGC,EAAEU,UAAU0D,gBAAgB,SAASrE,GAAG,OAAO,IAAAiD,OAAK,WAAW,OAAO,IAAAU,MAAI,IAAA0B,KAAIrF,EAAE,OAAO,EAAE,GAAE,EAAEC,EAAEU,UAAU6D,kBAAkB,SAASxE,GAAG,MAAM,CAAC4E,QAAQ5E,EAAE,GAAG+E,aAAa/E,EAAE,GAAGgF,aAAahF,EAAE,GAAGiF,YAAYjF,EAAE,GAAG2E,QAAQ3E,EAAE,GAAG6E,gBAAgB7E,EAAE,GAAG8E,gBAAgB9E,EAAE,GAAGkF,YAAYlF,EAAE,GAAG,EAAEC,CAAC,CAAzX,CAA2X8D,GAAWuB,EAAW,CAAC,OAAO,UAAU,WAAW,UAAU,WAAW,eAAe,gBAAgB,YAAY,aAAa,YAAY,aAAa,UAAU,WAAW,WAAW,YAAY,YAAY,cAAcC,EAAcD,EAAWrE,OAAOuE,EAASF,EAAWG,QAAO,SAASzF,EAAEC,EAAEK,GAAG,OAAON,EAAEC,GAAGK,EAAEN,CAAC,GAAE,CAAC,GAAwB,CAAC,CAAC,UAAU,gBAAgB,CAAC,YAAY,gBAAgB,CAAC,YAAY,aAAa,CAAC,UAAU,YAAY,CAAC,WAAW,aAAa,CAAC,WAAW,iBAAiB,CAAC,aAAa,iBAAiB,CAAC,aAAa,cAAc,CAAC,WAAW,aAAa,CAAC,YAAY,cAAc,CAAC,eAAe,iBAAiB,CAAC,UAAU,aAA0dsE,KAAI,SAAStE,GAAG,IAAIC,EAAED,EAAE,GAAGM,EAAEN,EAAE,GAAG,MAAM,CAACwF,EAASvF,GAAGuF,EAASlF,GAAG,IAAG,SAASoF,EAAS1F,EAAEC,EAAEK,GAAG,IAAIS,EAAEf,EAAE,GAAGkB,EAAElB,EAAE,GAAGuB,EAAEtB,EAAE,GAAGuB,EAAEvB,EAAE,GAAG0B,EAAErB,EAAEqF,IAAIlE,EAAEnB,EAAEsF,OAAO,MAAM,CAACpE,GAAGlB,EAAEuF,KAAKvF,EAAEwF,MAAM5E,GAAGK,GAAGI,EAAEF,EAAEV,GAAG,CAAC,SAASgF,EAAe/F,EAAEC,EAAEK,EAAES,GAAG,MAAM,CAACiF,EAAEjF,EAAEkF,IAAIjG,EAAEC,EAAEK,GAAG4F,EAAEnF,EAAEkF,IAAIjG,EAAEC,EAAEK,EAAEiF,GAAe,CAAC,SAASY,EAAenG,EAAEC,EAAEK,GAAG,IAAIS,EAAEgF,EAAe/F,EAAEoG,SAASpG,EAAEqG,SAASrG,EAAEsG,GAAGhG,GAAGY,EAAEH,EAAEiF,EAAEzE,EAAER,EAAEmF,EAAE,MAAM,CAACA,EAAElG,EAAEqG,SAASpG,EAAEsB,EAAEyE,EAAEhG,EAAEoG,SAASnG,EAAEiB,EAAE,CAAC,SAASqF,EAAMvG,EAAEC,EAAEK,GAAG,OAAON,EAAEC,EAAEA,EAAED,EAAEM,EAAEA,EAAEN,CAAC,CAAkE,SAASwG,EAAWxG,EAAEC,GAAG,MAAM,CAACiG,EAAElG,EAAEkG,EAAEjG,EAAEiG,EAAEF,EAAEhG,EAAEgG,EAAE/F,EAAE+F,EAAE,CAAC,SAASS,EAAgBzG,EAAEC,EAAEK,QAAG,IAASA,IAAIA,EAAE,IAAI,IAAI,IAAIS,EAAE,EAAEG,EAAE,EAAEK,EAAE,EAAEA,EAAEvB,EAAEiB,OAAOM,IAAItB,EAAEyG,UAAUnF,GAAGoF,MAAMrG,IAAIY,GAAG,EAAEH,GAAG6F,KAAKC,IAAI7G,EAAEuB,GAAG2E,EAAEjG,EAAEyG,UAAUnF,GAAGuF,SAASZ,EAAE,GAAGU,KAAKC,IAAI7G,EAAEuB,GAAGyE,EAAE/F,EAAEyG,UAAUnF,GAAGuF,SAASd,EAAE,IAAI,OAAO,IAAI9E,EAAEH,EAAE,IAAIA,GAAGG,EAAEH,CAAC,CAAwJ,SAASgG,EAAa/G,EAAEC,EAAEK,EAAES,EAAEG,EAAEK,EAAEC,GAAG,IAAI,IAAIG,EAAEH,EAAE,GAAGC,EAAED,EAAE,GAAGiC,EAAEnD,EAAEN,GAAGgH,EAAEvD,EAAEuC,EAAEjF,EAAE0C,EAAEyC,EAAEe,EAAE/F,EAAEqE,GAAe,EAAEyB,GAAG/G,GAAGiH,EAAEhG,EAAEqE,GAAe,EAAEyB,EAAE,GAAG/G,GAAGkH,EAAEnH,EAAEgG,EAAEiB,EAAEG,EAAEpH,EAAEkG,EAAEgB,EAAEG,EAAE,EAAEA,EAAE9F,EAAE8F,IAAI,CAACF,EAAEP,KAAKU,IAAIH,EAAExF,EAAE,GAAG,IAAI4F,EAAEjH,EAAE,CAAC4F,EAAEkB,EAAER,KAAKU,IAAIF,EAAE3F,EAAE,GAAGuE,EAAEmB,IAAIK,EAAED,EAAEvB,EAAEjF,EAAEwG,EAAErB,EAAEiB,GAAGF,EAAE/F,EAAEqE,GAAe,EAAEiC,GAAGvH,GAAGmH,GAAGF,EAAEhG,EAAEqE,GAAe,EAAEiC,EAAE,GAAGvH,EAAE,CAAC,MAAM,CAACiG,EAAEkB,EAAEpB,EAAEmB,EAAE,CAAC,SAASM,EAAyBzH,EAAEC,EAAEK,EAAES,EAAEG,EAAEK,EAAEC,EAAEG,EAAEF,EAAEgC,GAAG,IAAI,IAAIuD,EAAE9F,EAAE,GAAG+F,EAAE/F,EAAE,GAAGgG,EAAE3F,EAAE,GAAG4F,EAAE5F,EAAE,GAAG6F,EAAEzF,EAAE,GAAG0F,EAAE1F,EAAE,GAAG4F,EAAE,GAAGC,EAAE,SAASxH,GAAG,OAArkB,SAAkCA,EAAEC,EAAEK,EAAES,GAAG,IAAIG,EAAEjB,EAAE,GAAGsB,EAAEtB,EAAE,GAAGuB,EAAElB,EAAE,GAAGqB,EAAErB,EAAE,GAAGmB,EAAEmF,KAAKc,QAAQxG,EAAElB,EAAEgG,EAAE,GAAGrE,EAAE,GAAGZ,GAAG,MAAM,CAACmF,EAAEU,KAAKc,QAAQnG,EAAEvB,EAAEkG,EAAE,GAAG1E,EAAE,GAAGT,GAAGiF,EAAEvE,EAAE,CAAsbkG,CAAyB3H,EAAE,CAACgH,EAAEC,GAAG,CAACC,EAAEC,GAAG1F,EAAE,EAAEmG,EAAE,EAAEA,EAAE7G,EAAE6G,IAAI,CAAC,IAAIC,EAAEd,EAAa/G,EAAE4H,EAAEJ,EAAEhG,EAAEvB,EAAEwD,EAAE,CAAC2D,EAAEC,IAAIE,EAAE7E,KAAKmF,EAAE,CAAC,IAAI,IAAIC,GAAG,EAAEC,EAAE,IAAIC,EAAE,EAAEA,EAAE1H,EAAEW,OAAO+G,IAAI,CAAC,IAAIC,EAAExB,EAAgBc,EAAEjH,EAAE0H,IAAIC,EAAEF,IAAID,EAAEE,EAAED,EAAEE,EAAE,CAAC,OAAOH,CAAC,CAAC,SAASI,EAAoBlI,EAAEC,GAAG,IAAIK,EAAEN,EAAE,GAAGe,EAAEf,EAAE,GAAG,MAAM,CAAC4G,KAAKc,OAAO3G,EAAE,GAAGd,EAAE,GAAG2G,KAAKc,OAAOpH,EAAE,GAAGL,EAAE,GAAG,CAAqzB,SAASkI,EAAyBnI,EAAEC,EAAEK,EAAES,EAAEG,EAAEK,EAAEC,EAAEG,EAAEF,EAAEgC,EAAEuD,GAAG,IAAI,IAAIC,EAAEzF,EAAE,GAAG0F,EAAE1F,EAAE,GAAG2F,EAAEnH,EAAE4C,MAAMwE,EAAED,EAAE,GAAGE,EAAEF,EAAE,GAAGI,EAAEtH,EAAE2C,MAAMwF,MAAM,EAAE,GAAGZ,EAAED,EAAE,GAAGK,EAAEL,EAAE,GAAGM,GAAE,IAAA/E,SAAQ7C,EAAE,CAACuH,EAAEI,EAAE,EAAErC,IAAgBuC,EAAE,IAAIO,aAAarB,EAAEzB,EAAc,GAAG+C,KAAK,GAAGP,EAAE,EAAEA,EAAEzH,EAAEW,OAAO8G,IAAI,IAAI,IAAIC,EAAED,EAAExC,EAAc,EAAE0C,EAAE3H,EAAEyH,GAAGQ,EAAE,EAAEA,EAAEhD,EAAcgD,IAAI,CAAC,IAAIC,EAAEP,EAAEvB,UAAU6B,GAAGvC,EAAEgC,EAAE,EAAEO,EAAET,EAAE9B,GAAGwC,EAAE7B,MAAMmB,EAAE9B,EAAE,GAAGwC,EAAE1B,SAASd,EAAE8B,EAAE9B,EAAE,GAAGwC,EAAE1B,SAASZ,CAAC,CAAC,IAAIuC,EAAE/C,EAAS,CAAC3E,EAAEG,GAAG,CAAC+F,EAAEC,GAAGvF,GAAG+G,EAAED,EAAE,GAAGE,EAAEF,EAAE,GAAGG,GAAE,IAAAC,QAAOf,EAAE,CAACd,EAAEzB,EAAc,IAAIuD,EAAEnH,EAAEgE,IAAIoD,EAAEpH,EAAEkE,KAAKK,EAAE,CAAC8C,cAAc,CAAC,eAAe,cAAc,SAASC,YAAY,CAAC7B,EAAEC,GAAG6B,SAAS,gyCAAgyCJ,EAAE,KAAKH,EAAE,KAAKpH,EAAE,0EAA0EwH,EAAE,KAAKL,EAAE,KAAKnH,EAAE,2FAA2FyF,EAAE,mGAAmGzB,EAAc,6PAA6P9D,EAAE,4DAA4DV,EAAE,GAAG,wDAAwDG,EAAE,GAAG,iGAAiG4H,EAAE,KAAKH,EAAE,KAAKpH,EAAE,6FAA6FwH,EAAE,KAAKL,EAAE,KAAKnH,EAAE,wXAAwXkC,EAAE,ifAAif,OAAO,IAAA0F,WAAUC,cAAclD,EAAE,CAAClG,EAAE6H,EAAEe,GAAG,CAAsO,SAASS,IAAiB,MAAM,WAAU,IAAAC,aAAY,CAAC,SAASC,EAA0BvJ,EAAEC,EAAEK,EAAES,EAAEG,EAAEK,EAAEC,EAAEG,EAAEF,EAAEgC,EAAEuD,EAAEC,GAAG,IAAIC,EAAE1F,EAAE,GAAG2F,EAAE3F,EAAE,GAAG,YAAO,IAASC,IAAIA,EAAE,SAAI,IAASgC,IAAIA,EAAE,QAAG,IAASuD,IAAIA,EAAE,SAAI,IAASC,IAAIA,EAAE,IAAI5F,EAAUZ,UAAK,OAAO,GAAO,WAAW,IAAIe,EAAE4F,EAAEC,EAAEE,EAAEC,EAAE,OAAOxF,EAAYvB,MAAK,SAASmH,GAAG,OAAOA,EAAE3F,OAAO,KAAK,EAAE,OAAOT,EAAElB,EAAEkJ,QAAO,SAASxJ,GAAG,OAAOA,EAAE2G,OAAOlF,CAAC,IAAG4H,KAAkBhC,GAAE,IAAApE,OAAK,WAAW,IAAI3C,EAAE6H,EAAyBnI,EAAEC,EAAEuB,EAAET,EAAEG,EAAEK,EAAE,CAAC2F,EAAEC,GAAGxF,EAAE8B,EAAEuD,EAAEC,GAAGxF,GAAE,IAAAgI,UAASC,qBAAqBpJ,EAAEqJ,OAAOrJ,EAAEsC,MAAMtC,EAAEsJ,OAAO,OAAOpI,EAAE8C,KAAI,SAAStE,EAAEC,GAAG,OAAlxB,SAA+BD,EAAEC,GAAG,OAAO,IAAAgD,OAAK,WAAW,OAAO,IAAAC,OAAK,IAAA2G,OAAM7J,GAAE,IAAAoD,QAAOnD,IAAI,QAAQ,GAAE,CAAqrB6J,CAAsBrI,EAAExB,EAAE,GAAE,IAAG,CAAC,EAAEqB,QAAQyI,IAAI1C,EAAE/C,KAAI,SAAStE,GAAG,OAAOA,EAAEgK,MAAM,OAAM,CAAC,EAAE,GAAG,KAAK,EAAE,OAAO5C,EAAEQ,EAAE1F,OAAOmF,EAAE4C,SAAQ,SAASjK,GAAG,OAAOA,EAAEmF,SAAS,IAAG,CAAC,EAAE,GAAG,KAAK,EAAE,MAAM,CAAC,EAAEnF,EAAEgK,QAAQ,KAAK,EAAE,OAAOzC,EAAEK,EAAE1F,OAAO,CAAC,EAAEjC,EAAE+J,QAAQ,KAAK,EAAExC,EAAEI,EAAE1F,OAAOkF,EAAx7K,SAAgCpH,EAAEC,EAAEK,EAAES,EAAEG,EAAEK,EAAEC,EAAEG,EAAEF,EAAEgC,GAAG,IAAIuD,EAAExF,EAAE,GAAGyF,EAAEzF,EAAE,QAAG,IAASiC,IAAIA,EAAE,GAAG,IAAI,IAAIyD,EAAE5G,EAAEgE,KAAI,SAAStE,GAAG,OAAO,IAAIkK,WAAWnJ,EAAEG,GAAGoH,KAAK,EAAE,IAAGnB,EAAExF,EAAEgE,IAAIyB,EAAEzF,EAAEkE,KAAKwB,EAAE3B,EAAS,CAAC3E,EAAEG,GAAG,CAAC8F,EAAEC,GAAGtF,GAAG4F,EAAEF,EAAE,GAAGG,EAAEH,EAAE,GAAGO,EAAEM,EAAoB,CAAClB,EAAEC,GAAG1F,GAAG,GAAGsG,EAAE,EAAEA,EAAE9G,EAAE8G,GAAG,EAAE,IAAI,IAAIC,EAAE,EAAEA,EAAE5G,EAAE4G,GAAG,EAAE,CAAC,IAAIC,EAAEF,EAAE3G,EAAE4G,EAAE,GAAG,IAAI9H,EAAE+H,GAAG,CAAC,IAAIC,EAAEP,EAAyB,CAACvB,EAAE4B,EAAE9B,EAAE6B,GAAG5H,EAAEK,EAAEmD,EAAE,CAAC0D,EAAEC,GAAG,CAACG,EAAEC,GAAGI,EAAE,CAAC7G,EAAEG,GAAGK,EAAEE,GAAGuG,GAAG,IAAId,EAAEc,GAAGD,GAAG,EAAE,CAAC,CAAC,OAAOb,CAAC,CAAsiKiD,CAAuB5C,EAAEC,EAAEhG,EAAET,EAAEG,EAAEK,EAAE,CAAC2F,EAAEC,GAAGxF,EAAE8B,GAAGmE,EAAE3F,MAAM,EAAE,KAAK,EAAE,MAAM,CAAC,EAAEmF,EAAE9C,KAAI,SAAStE,EAAEC,GAAG,MAAM,CAAC+J,KAAKhK,EAAEoK,KAAK5I,EAAEvB,GAAGoK,MAAMnJ,EAAEoJ,OAAOvJ,EAAE,KAAI,GAAE,GAAE,CAAC,SAASwJ,EAA8BvK,EAAEC,EAAEK,EAAES,EAAEG,EAAEK,EAAEC,EAAEG,EAAEF,EAAEgC,EAAEuD,EAAEC,EAAEC,GAAG,IAAIC,EAAExF,EAAE,GAAGyF,EAAEzF,EAAE,GAAG,YAAO,IAAS8B,IAAIA,EAAE,SAAI,IAASuD,IAAIA,EAAE,QAAG,IAASC,IAAIA,EAAE,SAAI,IAASC,IAAIA,EAAE,IAAI7F,EAAUZ,UAAK,OAAO,GAAO,WAAW,IAAIkB,EAAE0F,EAAEE,EAAEC,EAAEI,EAAEC,EAAE,OAAO7F,EAAYvB,MAAK,SAASqH,GAAG,OAAOA,EAAE7F,OAAO,KAAK,EAAE,OAAON,EAAEZ,EAAEyI,QAAO,SAASxJ,GAAG,OAAOA,EAAE2G,OAAOlD,CAAC,IAAG4F,KAAkB9B,GAAE,IAAAtE,OAAK,WAAW,IAAIlC,EAAEoH,EAAyBnI,EAAEC,EAAE0B,EAAET,EAAEK,EAAEC,EAAE,CAAC2F,EAAEC,GAAG3F,EAAEuF,EAAEC,EAAEC,GAAGzD,GAAE,IAAAgG,UAASC,qBAAqB3I,EAAE4I,OAAO5I,EAAE6B,MAAM7B,EAAE6I,OAAO,OAAOjI,EAAE2C,KAAI,SAAStE,EAAEC,GAAG,OAAzjD,SAAmCD,EAAEC,EAAEK,GAAG,OAAO,IAAA2C,OAAK,WAAW,OAAO,IAAAU,MAAI,IAAAC,MAAI,IAAAV,OAAK,IAAA2G,OAAM7J,GAAE,IAAAoD,QAAO9C,IAAI,UAAS,IAAAoD,KAAIzD,EAAE,IAAI,EAAE,GAAE,CAAi8CuK,CAA0B/G,EAAEnD,EAAEL,EAAE,GAAE,IAAG,CAAC,EAAEqB,QAAQyI,IAAIxC,EAAEjD,KAAI,SAAStE,GAAG,OAAOA,EAAEgK,MAAM,OAAM,CAAC,EAAE,GAAG,KAAK,EAAE,OAAO3C,EAAES,EAAE5F,OAAOqF,EAAE0C,SAAQ,SAASjK,GAAG,OAAOA,EAAEmF,SAAS,IAAG,CAAC,EAAE,GAAG,KAAK,EAAE,MAAM,CAAC,EAAEnF,EAAEgK,QAAQ,KAAK,EAAE,OAAOxC,EAAEM,EAAE5F,OAAO,CAAC,EAAEjC,EAAE+J,QAAQ,KAAK,EAAE,OAAOpC,EAAEE,EAAE5F,OAAO,CAAC,EAAE5B,EAAE0J,QAAQ,KAAK,EAAEnC,EAAEC,EAAE5F,OAAOmF,EAA39L,SAAoCrH,EAAEC,EAAEK,EAAES,EAAEG,EAAEK,EAAEC,EAAEG,EAAEF,EAAEgC,EAAEuD,GAAG,IAAIC,EAAEtF,EAAE,GAAGuF,EAAEvF,EAAE,QAAG,IAASqF,IAAIA,EAAE,GAAG,IAAI,IAAIG,EAAEpG,EAAEuD,KAAI,SAAStE,GAAG,OAAO,IAAIyK,WAAWvJ,EAAEK,GAAG+G,MAAM,EAAE,IAAGlB,EAAE3F,EAAEkE,IAAI0B,EAAE5F,EAAEoE,KAAK0B,EAAE7B,EAAS,CAACxE,EAAEK,GAAG,CAAC0F,EAAEC,GAAGzF,GAAG+F,EAAED,EAAE,GAAGK,EAAEL,EAAE,GAAGM,EAAEK,EAAoB,CAACjB,EAAEC,GAAG1F,GAAG,GAAGsG,EAAE,EAAEA,EAAE5G,EAAE4G,GAAG,EAAE,IAAI,IAAIC,EAAE,EAAEA,EAAExG,EAAEwG,GAAG,EAAE,CAAC,IAAIC,EAAEF,EAAEvG,EAAEwG,EAAE,GAAG,IAAI/H,EAAEgI,GAAG,CAAC,IAAIC,EAAER,EAAyB,CAACvB,EAAE6B,EAAE/B,EAAE8B,GAAG7H,EAAEc,EAAEiG,EAAE,CAACI,EAAEC,GAAG,CAACG,EAAEI,GAAGC,EAAE,CAAC3G,EAAEK,GAAGC,EAAEiC,GAAGwE,GAAG,IAAId,EAAEc,GAAGD,GAAG1H,EAAE0H,GAAG,CAAC,CAAC,OAAOb,CAAC,CAA+jLuD,CAA2BlD,EAAEI,EAAEC,EAAElG,EAAET,EAAEK,EAAEC,EAAE,CAAC2F,EAAEC,GAAG3F,EAAEuF,GAAGc,EAAE7F,MAAM,EAAE,KAAK,EAAE,MAAM,CAAC,EAAEoF,EAAE/C,KAAI,SAAStE,EAAEC,GAAG,MAAM,CAACmK,KAAKzI,EAAE1B,GAAG+J,KAAKhK,EAAEsK,OAAOpJ,EAAEmJ,MAAM9I,EAAE,KAAI,GAAE,GAAE,CAAC,SAASoJ,EAAK3K,GAAG,OAAO4G,KAAKgE,MAAM5K,EAAE,EAAE,CAAC,IAAI6K,EAAQ,WAAW,SAAS7K,EAAEA,EAAEC,GAAGQ,KAAKqK,cAAc,IAAIzK,MAAML,GAAGS,KAAKsK,kBAAkB,EAAEtK,KAAKuK,gBAAgB/K,CAAC,CAAC,OAAOD,EAAEW,UAAUsK,QAAQ,SAASjL,GAAGS,KAAKqK,gBAAgBrK,KAAKsK,kBAAkB/K,EAAES,KAAKyK,KAAKzK,KAAKsK,iBAAiB,EAAE/K,EAAEW,UAAUwK,QAAQ,WAAW,IAAInL,EAAES,KAAKqK,cAAc,GAAG,OAAOrK,KAAK2K,SAAS,EAAE3K,KAAKsK,oBAAoBtK,KAAK4K,KAAK,GAAG5K,KAAKqK,cAAcrK,KAAKsK,iBAAiB,GAAG,KAAK/K,CAAC,EAAEA,EAAEW,UAAU2K,MAAM,WAAW,OAAO,IAAI7K,KAAKsK,gBAAgB,EAAE/K,EAAEW,UAAU4K,KAAK,WAAW,OAAO9K,KAAKsK,iBAAiB,CAAC,EAAE/K,EAAEW,UAAUoJ,IAAI,WAAW,OAAOtJ,KAAKqK,cAAc1C,MAAM,EAAE3H,KAAKsK,iBAAiB,EAAE,EAAE/K,EAAEW,UAAU6K,IAAI,WAAW,OAAO/K,KAAKqK,cAAc,EAAE,EAAE9K,EAAEW,UAAUuK,KAAK,SAASlL,GAAG,KAAKA,EAAE,GAAGS,KAAKgL,KAAKd,EAAK3K,GAAGA,IAAIS,KAAK2K,SAASpL,EAAE2K,EAAK3K,IAAIA,EAAE2K,EAAK3K,EAAE,EAAEA,EAAEW,UAAU0K,KAAK,SAASrL,GAAG,KAAK,EAAEA,GAAGS,KAAKsK,kBAAkB,CAAC,IAAI9K,EAAE,EAAED,EAAE,GAAGC,EAAEQ,KAAKsK,kBAAkBtK,KAAKgL,KAAKxL,EAAEA,EAAE,IAAIA,KAAKQ,KAAKgL,KAAKzL,EAAEC,GAAG,MAAMQ,KAAK2K,SAASpL,EAAEC,GAAGD,EAAEC,CAAC,CAAC,EAAED,EAAEW,UAAU+K,WAAW,SAAS1L,GAAG,OAAOS,KAAKuK,gBAAgBvK,KAAKqK,cAAc9K,GAAG,EAAEA,EAAEW,UAAU8K,KAAK,SAASzL,EAAEC,GAAG,OAAOQ,KAAKiL,WAAW1L,GAAGS,KAAKiL,WAAWzL,EAAE,EAAED,EAAEW,UAAUyK,SAAS,SAASpL,EAAEC,GAAG,IAAIK,EAAEG,KAAKqK,cAAc9K,GAAGS,KAAKqK,cAAc9K,GAAGS,KAAKqK,cAAc7K,GAAGQ,KAAKqK,cAAc7K,GAAGK,CAAC,EAAEN,CAAC,CAA7sC,GAAitC,SAAS2L,EAA4B3L,EAAEC,EAAEK,EAAES,EAAEG,EAAEK,GAAG,IAAI,IAAIC,EAAED,EAAEqB,MAAMjB,EAAEH,EAAE,GAAGC,EAAED,EAAE,GAAGiC,GAAE,EAAGuD,EAAEJ,KAAK4E,IAAIlL,EAAEY,EAAE,GAAG+F,EAAEL,KAAKU,IAAIhH,EAAEY,EAAE,EAAES,GAAGuF,EAAEF,EAAEE,EAAED,IAAIC,EAAE,CAAC,IAAI,IAAIC,EAAEP,KAAK4E,IAAIzK,EAAEG,EAAE,GAAGkG,EAAER,KAAKU,IAAIvG,EAAEG,EAAE,EAAEO,GAAG4F,EAAEF,EAAEE,EAAED,IAAIC,EAAE,GAAG9F,EAAE0E,IAAIiB,EAAEG,EAAErH,GAAGC,EAAE,CAACwD,GAAE,EAAG,KAAK,CAAC,IAAIA,EAAE,KAAK,CAAC,OAAOA,CAAC,CAAwT,IAAImI,EAAz5U,CAAC,CAAC,OAAO,WAAW,CAAC,UAAU,WAAW,CAAC,OAAO,YAAY,CAAC,WAAW,YAAY,CAAC,OAAO,gBAAgB,CAAC,eAAe,aAAa,CAAC,YAAY,aAAa,CAAC,eAAe,WAAW,CAAC,UAAU,YAAY,CAAC,WAAW,aAAa,CAAC,OAAO,iBAAiB,CAAC,gBAAgB,cAAc,CAAC,aAAa,cAAc,CAAC,gBAAgB,YAAY,CAAC,WAAW,aAAa,CAAC,YAAY,eAAkjUtH,KAAI,SAAStE,GAAG,IAAIC,EAAED,EAAE,GAAGM,EAAEN,EAAE,GAAG,MAAM,CAACwF,EAASvF,GAAGuF,EAASlF,GAAG,IAAGuL,EAAmBD,EAAqBtH,KAAI,SAAStE,GAAG,OAAOA,EAAE,EAAE,IAAG8L,EAAmBF,EAAqBtH,KAAI,SAAStE,GAAG,OAAOA,EAAE,EAAE,IAAsG,SAAS+L,EAAyB/L,EAAEC,EAAEK,EAAES,GAAG,MAAM,CAACiF,EAAEO,EAAMK,KAAKc,MAAM1H,EAAEgG,EAAE/F,GAAG,EAAEK,EAAE,GAAG4F,EAAEK,EAAMK,KAAKc,MAAM1H,EAAEkG,EAAEjG,GAAG,EAAEc,EAAE,GAAG,CAAC,SAASiL,EAAyBhM,EAAEC,EAAEK,EAAES,EAAEG,EAAEK,EAAEC,EAAEG,QAAG,IAASA,IAAIA,EAAE,GAAG,IAAI,IAAIF,EAAEV,EAAE6B,MAAMa,EAAEhC,EAAE,GAAGuF,EAAEvF,EAAE,GAAGwF,EAA7T,SAAyBjH,EAAEC,EAAEK,GAAG,IAAIS,EAAET,EAAEsC,MAAM,GAAG,EAAE,MAAM,CAACoD,EAAE1F,EAAE2F,IAAIhG,EAAE+F,EAAE/F,EAAEiG,EAAElG,GAAGkG,EAAE5F,EAAE2F,IAAIhG,EAAE+F,EAAE/F,EAAEiG,EAAEnF,EAAEf,GAAG,CAA6NiM,CAAgBjM,EAAE+L,EAAyB9L,EAAE6G,SAASvF,EAAEkC,EAAEuD,GAAGxF,GAAG0F,EAAEV,EAAWvG,EAAE6G,SAASG,GAAGE,EAAE,EAAEA,EAAExF,EAAEwF,IAAI,CAAC,IAAIC,EAAE2E,EAAyB7E,EAAE3F,EAAEkC,EAAEuD,GAAGK,EAAEtB,EAAeqB,EAAEpB,EAAEoB,EAAElB,EAAE5F,EAAEY,GAAGgG,EAAEV,EAAW,CAACN,EAAEkB,EAAElB,EAAE3E,EAAEyE,EAAEoB,EAAEpB,EAAEzE,GAAG,CAAC2E,EAAEmB,EAAEnB,EAAEF,EAAEqB,EAAErB,GAAG,CAAC,IAAIuB,EAAEwE,EAAyB7E,EAAE3F,EAAEkC,EAAEuD,GAAGQ,EAAEzG,EAAEkF,IAAIsB,EAAEvB,EAAEuB,EAAErB,EAAE5F,GAAG,MAAM,CAACwG,SAASI,EAAEgF,KAAK5G,EAAWhF,GAAGqG,MAAMa,EAAE,CAAC,SAAS2E,EAAWnM,EAAEC,EAAEK,EAAES,EAAEG,EAAEK,GAAG,IAAIC,EAAEvB,EAAE2C,MAAM,GAAGjB,EAAEkK,EAAmB5K,OAAOQ,EAAE,IAAIpB,MAAMmB,GAAGiC,EAAEzD,EAAEkM,KAAKlF,EAAEhH,EAAE2G,MAAMM,EAAEd,EAAe1C,EAAE1C,EAAET,GAAGmB,EAAEgC,EAAE6C,IAAI,CAACK,MAAMK,EAAEkF,KAAK5G,EAAW7B,EAAE6C,IAAIQ,SAASG,GAAG,IAAI,IAAIC,EAAEvF,EAAE,EAAEuF,GAAG,IAAIA,EAAE,CAAC,IAAIC,EAAE0E,EAAmB3E,GAAGE,EAAE0E,EAAmB5E,GAAGzF,EAAE0F,KAAK1F,EAAE2F,KAAK3F,EAAE2F,GAAG4E,EAAyB9E,EAAEzF,EAAE0F,GAAGC,EAAEnH,EAAEK,EAAES,EAAEQ,GAAG,CAAC,IAAI2F,EAAE,EAAEA,EAAEvF,IAAIuF,EAAGC,EAAE2E,EAAmB5E,GAAGE,EAAEyE,EAAmB3E,GAAGzF,EAAE0F,KAAK1F,EAAE2F,KAAK3F,EAAE2F,GAAG4E,EAAyB9E,EAAEzF,EAAE0F,GAAGC,EAAEnH,EAAEK,EAAES,EAAEG,IAAI,OAAOO,CAAC,CAAC,SAAS2K,EAAoCpM,EAAEC,EAAEK,EAAES,GAAG,IAAIG,EAAEZ,EAAE4F,EAAE3E,EAAEjB,EAAE0F,EAAE,OAAOhG,EAAEqM,MAAK,SAASrM,GAAG,IAAIM,EAAEN,EAAE0G,UAAU3F,GAAG+F,SAAS,OAAz9V,SAAyB9G,EAAEC,EAAEK,EAAES,GAAG,IAAIG,EAAEZ,EAAEN,EAAEuB,EAAER,EAAEd,EAAE,OAAOiB,EAAEA,EAAEK,EAAEA,CAAC,CAAg6V+K,CAAgB/K,EAAEL,EAAEZ,EAAE0F,EAAE1F,EAAE4F,IAAIjG,CAAC,GAAE,CAAC,SAASsM,EAAiBvM,EAAEC,EAAEK,GAAG,OAAOA,EAAEmF,QAAO,SAASnF,EAAES,EAAEG,GAAG,IAAIK,EAAER,EAAE+F,SAAStF,EAAET,EAAE4F,MAAM,OAAOyF,EAAoCpM,EAAEC,EAAEsB,EAAEL,KAAKZ,GAAGkB,GAAGlB,CAAC,GAAE,GAAGA,EAAEW,MAAM,CAA2B,SAASuL,EAAoBxM,EAAEC,EAAEK,EAAES,EAAEG,EAAEK,EAAEC,EAAEG,QAAG,IAASH,IAAIA,EAAE,SAAI,IAASG,IAAIA,EAAE,IAAI,IAAI,IAAIF,EAAE,GAAGgC,EAAvkE,SAAiCzD,EAAEC,EAAEK,GAAG,IAAI,IAAIS,EAAET,EAAEsC,MAAM1B,EAAEH,EAAE,GAAGQ,EAAER,EAAE,GAAGS,EAAET,EAAE,GAAGY,EAAE,IAAIkJ,EAAQ3J,EAAEK,EAAEC,GAAE,SAASxB,GAAG,OAAOA,EAAE2G,KAAK,IAAGlF,EAAE,EAAEA,EAAEP,IAAIO,EAAE,IAAI,IAAIgC,EAAE,EAAEA,EAAElC,IAAIkC,EAAE,IAAI,IAAIuD,EAAE,EAAEA,EAAExF,IAAIwF,EAAE,CAAC,IAAIC,EAAE3G,EAAE2F,IAAIxE,EAAEgC,EAAEuD,GAAGC,EAAEjH,GAAG2L,EAA4B3E,EAAEC,EAAExF,EAAEgC,EAAExD,EAAEK,IAAIqB,EAAEsJ,QAAQ,CAACtE,MAAMM,EAAEiF,KAAK,CAAC9F,SAAS3E,EAAE4E,SAAS5C,EAAE6C,GAAGU,IAAI,CAAC,OAAOrF,CAAC,CAAmxD8K,CAAwBjL,EAA7H,EAAmJxB,GAAGgH,EAAErF,EAAEA,EAAEF,EAAER,OAAOM,IAAIkC,EAAE6H,SAAS,CAAC,IAAIrE,EAAExD,EAAE0H,UAAU,IAAIiB,EAAoC3K,EAAEuF,EAAEb,EAAec,EAAEiF,KAAKhL,EAAEjB,GAAGgH,EAAEiF,KAAK5F,IAAI,CAAC,IAAIY,EAAEiF,EAAWlF,EAAEjH,EAAEC,EAAEiB,EAAEZ,EAAES,GAAGoG,EAAEoF,EAAiB9K,EAAEuF,EAAEE,GAAGzF,EAAEiB,KAAK,CAACgE,UAAUQ,EAAEP,MAAMQ,GAAG,CAAC,CAAC,OAAO1F,CAAC,CAAC,IAAIiL,EAAGC,EAAa,EAAE,QAAQ,OAAO,QAAQC,EAAO,SAAS5M,GAAG,SAASC,IAAI,OAAO,OAAOD,GAAGA,EAAEoB,MAAMX,KAAKO,YAAYP,IAAI,CAAC,OAAOD,EAAUP,EAAED,GAAGC,EAAEU,UAAU0D,gBAAgB,SAASrE,GAAG,OAAO,IAAA0D,KAAI1D,EAAE2M,EAAa,EAAE1M,EAAEU,UAAU6D,kBAAkB,SAASxE,GAAG,IAAIC,EAAED,EAAE,GAAGM,EAAEN,EAAE,GAAGe,EAAEf,EAAE,GAAGkB,EAAElB,EAAE,GAAGuB,EAAEvB,EAAE,GAAGwB,EAAExB,EAAE,GAAG,MAAM,CAAC4E,QAAQrD,EAAEwD,aAAa/E,EAAE,GAAGgF,aAAaxD,EAAEyD,YAAY/D,EAAEyD,QAAQ5D,EAAE8D,gBAAgBvE,EAAEwE,gBAAgB7E,EAAEiF,YAAYlF,EAAE,GAAG,EAAEC,CAAC,CAA5X,CAA8X8D,GAAW8I,EAAkB,0EAA0EC,EAAmB,2EAA40B,SAASC,EAAa/M,GAAG,GAAG,oBAAoBgN,mBAAmBhN,aAAagN,mBAAmB,oBAAoBC,iBAAiBjN,aAAaiN,iBAAiB,oBAAoBC,kBAAkBlN,aAAakN,iBAAiB,OAA7pB,SAAqClN,GAAG,GAAG,iBAAiBA,GAAG,IAAIA,EAAEmN,cAAc,gBAAgBnN,GAAG,IAAIA,EAAEoN,YAAY,MAAM,CAACpN,EAAEmN,aAAanN,EAAEoN,aAAa,GAAG,MAAMpN,EAAEsK,QAAQ,MAAMtK,EAAEqK,MAAM,MAAM,CAACrK,EAAEsK,OAAOtK,EAAEqK,OAAO,MAAM,IAAIgD,MAAM,8DAA8D,CAA+XC,CAA4BtN,GAAG,GAAG,oBAAoBuN,WAAWvN,aAAauN,UAAU,MAAM,CAACvN,EAAEsK,OAAOtK,EAAEqK,OAAO,GAAG,oBAAoBmD,kBAAkBxN,aAAawN,iBAAiB,OAAtjB,SAAiCxN,GAAG,OAAOA,EAAEyN,aAAa,WAAWzN,EAAEyN,aAAa,SAAS,CAACzN,EAAEsK,OAAOtK,EAAEqK,OAAO,CAACrK,EAAE0N,YAAY1N,EAAE2N,WAAW,CAAibC,CAAwB5N,GAAG,GAAGA,aAAa,EAAA6N,OAAO,MAAM,CAAC7N,EAAE4C,MAAM,GAAG5C,EAAE4C,MAAM,IAAI,MAAM,IAAIyK,MAAM,8BAA8BrN,EAAE,IAAI,CAAuD,SAAS8N,EAAuB9N,EAAEC,GAAG,OAA3F,SAAgCD,EAAEC,GAAG,OAAOD,EAAE,GAAGC,GAAG,CAAC,CAA6C8N,CAAuB/N,EAAEC,GAAGD,EAAE4G,KAAKgE,MAAM5K,EAAEC,GAAGA,EAAE,CAAC,CAAC,IAAI+N,EAAmC,CAACC,IAAI,MAAMC,OAAO,SAASC,KAAK,OAAOC,KAAK,QAAQC,IAAkC3B,EAAG,CAAC,GAAGsB,EAAmCC,KAAK,IAAIvB,EAAGsB,EAAmCE,QAAQ,GAAGxB,EAAGsB,EAAmCG,MAAM,IAAIzB,EAAGsB,EAAmCI,MAAM,EAAE1B,GAA+kB,SAAS4B,EAAgCtO,EAAEC,EAAEK,GAAG,IAAIS,EAAET,EAAE,GAAGY,EAAEZ,EAAE,GAAGiB,EAAxlB,SAAwCvB,GAAG,GAAG,iBAAiBA,EAAE,CAAC,IAAIC,EAAEoO,EAAgCrO,GAAG,OAAO,EAAAmE,KAAA,OAAY,iBAAiBlE,GAAE,WAAW,MAAM,kDAAkDC,OAAOqO,OAAOP,GAAoCQ,KAAK,KAAK,YAAYxO,EAAE,GAAG,IAAGC,CAAC,CAAC,OAAO,EAAAkE,KAAA,OAAY,iBAAiBnE,GAAGA,GAA/U,GAA2WA,GAAtY,IAAia,WAAW,MAAM,yEAA2HA,CAAC,IAAGA,CAAC,CAAqEyO,CAA+BzO,GAAG,MAAM,CAAC8N,EAAuB/M,EAAEQ,EAAEtB,GAAG6N,EAAuB5M,EAAEK,EAAEtB,GAAG,CAAwgB,SAASyO,GAA+B1O,EAAEC,EAAEK,EAAES,EAAEG,GAAG,IAAIK,EAAEtB,EAAE,GAAGuB,EAAEvB,EAAE,GAAG0B,EAAErB,EAAE,GAAGmB,EAAEnB,EAAE,GAAGmD,EAAE1C,EAAE,GAAGiG,EAAEvD,EAAE,GAAGwD,EAAExD,EAAE,GAAGyD,EAAEnG,EAAE,GAAGoG,EAAED,EAAE,GAAGE,EAAEF,EAAE,GAAG,YAAO,IAAShG,IAAIA,GAAE,IAAI,IAAA+B,OAAK,WAAW,IAAIhD,EAAE,EAAA0O,MAAMC,eAAe5O,EAAE,CAAC2B,EAAEF,IAAG,GAAI,OAAOP,IAAIjB,GAAE,IAAAyE,SAAQzE,IAAwD,SAAoCD,EAAEC,EAAEK,GAAG,IAAIS,EAAEd,EAAE,GAAGiB,EAAEjB,EAAE,GAAGsB,EAAEjB,EAAE,GAAGkB,EAAED,EAAE,GAAGI,EAAEJ,EAAE,GAAGE,EAAEnB,EAAE,GAAGmD,EAAEhC,EAAE,GAAGuF,EAAEvF,EAAE,GAAG,OAAO,IAAAwB,OAAK,WAAW,IAAIhD,GAAE,IAAAqD,YAAWtD,GAAG,OAAO,IAAAuE,SAAQ,EAAAoK,MAAME,cAAc5O,EAAE,CAAC,CAACuB,GAAGT,EAAES,EAAEG,EAAE,GAAG8B,GAAGvC,EAAEuC,EAAEuD,EAAE,IAAIxF,EAAET,EAAE,IAAIA,EAAES,EAAEG,EAAE,IAAI8B,EAAEvC,EAAE,IAAIA,EAAEuC,EAAEuD,EAAE,KAAK,CAAC,GAAG,CAACjG,EAAEG,IAAI,CAAC,GAAG,GAAE,CAA5T4N,CAA2B7O,EAAE,CAACsB,EAAEC,GAAG,CAAC,CAACwF,EAAEC,GAAG,CAACE,EAAEC,IAAI,GAAE,CAA0Q,SAAS2H,GAAe/O,EAAEC,GAAG,IAAIK,EAAEL,EAAE,GAAGc,EAAEd,EAAE,GAAGiB,EAAE6L,EAAa/M,GAAGuB,EAAEL,EAAE,GAAGM,EAAEN,EAAE,GAAGS,EAAEZ,EAAET,EAAEmB,EAAE,CAAC,EAAE,EAAE,EAAE,GAAGgC,EAAEhC,EAAE,GAAGuF,EAAEvF,EAAE,GAAGwF,EAAExF,EAAE,GAAGyF,EAAEzF,EAAE,GAAG,OAAOD,EAAED,EAAEI,GAAG8B,EAAE,EAAEuD,EAAE,EAAEC,EAAEL,KAAKc,MAAM,IAAI/F,EAAEJ,EAAEC,IAAI0F,EAAEN,KAAKc,MAAM,IAAI/F,EAAEJ,EAAEC,MAAMiC,EAAEmD,KAAKc,MAAM,IAAI,EAAE/F,EAAEH,EAAED,IAAIyF,EAAEJ,KAAKc,MAAM,IAAI,EAAE/F,EAAEH,EAAED,IAAI0F,EAAE,EAAEC,EAAE,GAAG,CAAC8H,SAAQ,IAAA/L,OAAK,WAAW,IAAIhD,EAA90C,SAAuBD,GAAG,OAAOA,aAAa,EAAA6N,OAAO7N,EAAE,EAAAiP,QAAA,WAAmBjP,EAAE,CAAowCkP,CAAclP,GAAG,OAAOC,GAAE,IAAAkP,OAAMlP,EAAE,CAAC,CAACwD,EAAEuD,GAAG,CAACC,EAAEC,GAAG,CAAC,EAAE,KAAK,EAAAyH,MAAMC,eAAe3O,EAAE,CAACK,EAAES,GAAG,IAAGqO,QAAQ,CAACzJ,IAAIlC,EAAEoC,KAAKoB,EAAEnB,MAAMoB,EAAEtB,OAAOoB,GAAG,CAAC,SAASqI,GAAkBrP,GAAG,OAAOqB,EAAUZ,UAAK,OAAO,GAAO,WAAW,OAAOuB,EAAYvB,MAAK,SAASR,GAAG,MAAM,CAAC,EAAEqB,QAAQyI,IAAI/J,EAAEsE,KAAI,SAAStE,GAAG,OAAOA,EAAEsP,QAAQ,KAAI,GAAE,GAAE,CAA2oB,SAASC,GAAkBvP,EAAEC,EAAEK,EAAES,EAAEG,GAAG,IAAIK,EAAEtB,EAAE,GAAGuB,EAAEvB,EAAE,GAAG0B,EAAErB,EAAE,GAAGmB,EAAEnB,EAAE,GAAGmD,EAArf,SAAoBzD,EAAEC,EAAEK,EAAES,EAAEG,GAAG,YAAO,IAASH,IAAIA,EAAE,QAAG,IAASG,IAAIA,EAAE,GAAG,IAAIZ,GAAG,IAAIL,GAAG,IAAIc,GAAG,IAAIG,EAAElB,EAAEA,EAAEsE,KAAI,SAAStE,GAAG,OAApV,SAAmBA,EAAEC,EAAEK,EAAES,EAAEG,GAAG,YAAO,IAASH,IAAIA,EAAE,QAAG,IAASG,IAAIA,EAAE,GAAG,CAACyF,MAAM3G,EAAE2G,MAAMD,UAAU1G,EAAE0G,UAAUpC,KAAI,SAAStE,GAAG,IAAIuB,EAAEvB,EAAE2G,MAAMnF,EAAExB,EAAEkM,KAAKvK,EAAE3B,EAAE8G,SAAS,MAAM,CAACH,MAAMpF,EAAE2K,KAAK1K,EAAEsF,SAAS,CAACZ,EAAEvE,EAAEuE,EAAE5F,EAAEY,EAAE8E,EAAErE,EAAEqE,EAAE/F,EAAEc,GAAG,IAAG,CAAiIyO,CAAUxP,EAAEC,EAAEK,EAAES,EAAEG,EAAE,GAAE,CAAiWuO,CAAWzP,GAAGuB,EAAER,EAAE4E,IAAI5E,EAAE6E,QAAQjE,GAAGH,EAAET,EAAE8E,KAAK9E,EAAE+E,OAAOrE,GAAGV,EAAE4E,KAAK5E,EAAE8E,MAAM,OAAO3E,EAAzP,SAA6BlB,EAAEC,GAAG,OAAOA,GAAG,EAAED,EAAEA,EAAEsE,KAAI,SAAStE,GAAG,OAAvP,SAA4BA,EAAEC,GAAG,MAAM,CAAC0G,MAAM3G,EAAE2G,MAAMD,UAAU1G,EAAE0G,UAAUpC,KAAI,SAAStE,GAAG,IAAIM,EAAEN,EAAE2G,MAAM5F,EAAEf,EAAEkM,KAAKhL,EAAElB,EAAE8G,SAAS,MAAM,CAACH,MAAMrG,EAAE4L,KAAKnL,EAAE+F,SAAS,CAACZ,EAAEjG,EAAE,EAAEiB,EAAEgF,EAAEF,EAAE9E,EAAE8E,GAAG,IAAG,CAA0E0J,CAAmB1P,EAAEC,EAAE,GAAE,CAAyJ0P,CAAoBlM,EAAEjC,GAAGiC,CAAC,CAAC,IAAImM,IAAyB,EAAGC,IAAyB,EAAGC,GAAoB,CAACC,aAAa,cAAc9L,aAAa,GAAG+L,WAAW,EAAEC,WAAW,KAAKC,GAAmB,CAAC,cAAc,YAAYC,GAAa,CAACC,YAAY,CAAC,EAAE,GAAG,IAAIC,SAAS,CAAC,GAAG,KAAKC,GAAiB,CAACF,YAAY,CAAC,GAAG,IAAI,GAAGC,SAAS,CAAC,IAAIE,GAAkB,CAAC,EAAE,EAAE,GAA48B,IAAIC,GAAwB,CAACC,gBAAe,EAAGC,mBAAmB,SAASC,sBAAsB,GAAGC,cAAc,GAAGC,eAAe,GAAGC,UAAU,IAAIC,GAAuC,CAACN,gBAAe,EAAGC,mBAAmB,SAASC,sBAAsB,GAAGC,cAAc,GAAGC,eAAe,GAAGC,UAAU,GAAGE,iBAAiB,GAAGC,YAAY,IAAI,SAASC,GAA8BlR,GAAG,IAAIC,EAAED,EAAE2Q,sBAAsBrQ,EAAEN,EAAE4Q,cAAc7P,EAAEf,EAAE6Q,eAAe3P,EAAElB,EAAE8Q,UAAU,GAAG7Q,EAAE,GAAGA,EAAE,EAAE,MAAM,IAAIoN,MAAM,yBAAyBpN,EAAE,mCAAmC,GAAGK,GAAG,EAAE,MAAM,IAAI+M,MAAM,yBAAyB/M,EAAE,mBAAmB,GAAGS,EAAE,GAAGA,EAAE,EAAE,MAAM,IAAIsM,MAAM,0BAA0BtM,EAAE,mCAAmC,GAAGG,GAAG,EAAE,MAAM,IAAImM,MAAM,qBAAqBnM,EAAE,IAAI,CAAC,SAASiQ,GAA2CnR,GAAG,IAAIC,EAAED,EAAE2Q,sBAAsBrQ,EAAEN,EAAE4Q,cAAc7P,EAAEf,EAAE6Q,eAAe3P,EAAElB,EAAE8Q,UAAUvP,EAAEvB,EAAEgR,iBAAiBxP,EAAExB,EAAEiR,YAAY,GAAGhR,EAAE,GAAGA,EAAE,EAAE,MAAM,IAAIoN,MAAM,yBAAyBpN,EAAE,mCAAmC,GAAGK,GAAG,EAAE,MAAM,IAAI+M,MAAM,yBAAyB/M,EAAE,mBAAmB,GAAGS,EAAE,GAAGA,EAAE,EAAE,MAAM,IAAIsM,MAAM,0BAA0BtM,EAAE,mCAAmC,GAAGG,GAAG,EAAE,MAAM,IAAImM,MAAM,qBAAqBnM,EAAE,KAAK,GAAGK,EAAE,GAAGA,EAAE,EAAE,MAAM,IAAI8L,MAAM,4BAA4B9L,EAAE,kCAAkC,GAAGC,GAAG,GAAGA,EAAE,GAAG,MAAM,IAAI6L,MAAM,uBAAuB7L,EAAE,8BAA8B,CAAC,IAAI4P,GAAQ,WAAW,SAASpR,EAAEA,GAAGS,KAAK4Q,UAAUrR,CAAC,CAAC,OAAOA,EAAEW,UAAU2Q,6BAA6B,SAAStR,GAAG,IAAIC,EAAEQ,KAAK4Q,UAAUjN,QAAQpE,GAAG,MAAM,CAACuR,cAActR,EAAE8E,aAAaN,cAAcxE,EAAEwE,cAAcG,QAAQ3E,EAAE2E,QAAQC,gBAAgB5E,EAAE4E,gBAAgBC,gBAAgB7E,EAAE6E,gBAAgB,EAAE9E,EAAEW,UAAU6Q,oCAAoC,SAASxR,GAAG,IAAIC,EAAEQ,KAAK4Q,UAAUjN,QAAQpE,GAAG,MAAM,CAACuR,cAActR,EAAE8E,aAAa0M,kBAAkBxR,EAAE+E,aAAaP,cAAcxE,EAAEwE,cAAcG,QAAQ3E,EAAE2E,QAAQC,gBAAgB5E,EAAE4E,gBAAgBC,gBAAgB7E,EAAE6E,gBAAgB,EAAE9E,EAAEW,UAAU+Q,iDAAiD,SAAS1R,GAAG,IAAIC,EAAEQ,KAAK4Q,UAAUjN,QAAQpE,GAAG,MAAM,CAACuR,cAActR,EAAE8E,aAAaE,YAAYhF,EAAEgF,YAAYR,cAAcxE,EAAEwE,cAAcG,QAAQ3E,EAAE2E,QAAQC,gBAAgB5E,EAAE4E,gBAAgBC,gBAAgB7E,EAAE6E,gBAAgBE,aAAa/E,EAAE+E,aAAa,EAAEhF,EAAEW,UAAUgR,wBAAwB,SAAS3R,EAAEC,EAAEK,GAAG,IAAIS,EAAEN,UAAK,IAASH,IAAIA,EAAE,IAAI,IAAIY,EAAE6L,EAAa/M,GAAGuB,EAAEL,EAAE,GAAGM,EAAEN,EAAE,GAAGS,EAAE2M,EAAgCrO,EAAEQ,KAAK4Q,UAAUpN,aAAa,CAAC1C,EAAEC,IAAIC,EAAEsN,GAAe/O,EAAE2B,GAAG8B,EAAEhC,EAAEuN,QAAQhI,EAAEvF,EAAE2N,QAAQnI,GAAE,IAAAhE,OAAK,WAAW,IAAIjD,EAAEe,EAAEuQ,6BAA6B7N,GAAGxD,EAAED,EAAEuR,cAAcrQ,EAAElB,EAAEyE,cAAc9C,EAAE3B,EAAE4E,QAAQnD,EAAEzB,EAAE6E,gBAAgBoC,EAAEjH,EAAE8E,gBAAgBoC,EAAEzD,EAAEb,MAAMuE,EAAED,EAAE,GAAGE,EAAEF,EAAE,GAAGG,EAAEqH,GAA+BzO,EAAE,CAACsB,EAAEC,GAAG,CAAC2F,EAAEC,GAAG,CAAC,CAACJ,EAAErB,IAAIqB,EAAEpB,QAAQ,CAACoB,EAAEnB,KAAKmB,EAAElB,QAAQ8J,IAA0B,MAAM,CAAC7K,aAAa/B,GAAa,IAAAuB,SAAQ8C,GAAG/G,GAAGmE,cAAcvD,EAAE0D,QAAQjD,EAAEkD,gBAAgBpD,EAAEqD,gBAAgBmC,EAAE,IAAGC,EAAED,EAAElC,aAAaoC,EAAEF,EAAExC,cAAc2C,EAAEH,EAAErC,QAAQyC,EAAEJ,EAAEpC,gBAAgB0C,EAAEN,EAAEnC,gBAAgB,OAAOrB,EAAE0B,UAAU,CAACJ,aAAamC,EAAEzC,cAAc0C,EAAEvC,QAAQwC,EAAEvC,gBAAgBwC,EAAEvC,gBAAgByC,EAAE6H,QAAQpI,EAAE4K,iCAAiCjQ,EAAE,EAAE3B,EAAEW,UAAUkR,cAAc,SAAS7R,EAAEC,GAAG,YAAO,IAASA,IAAIA,EAAEuQ,IAAyBnP,EAAUZ,UAAK,OAAO,GAAO,WAAW,IAAIH,EAAES,EAAEG,EAAEK,EAAEC,EAAEG,EAAEF,EAAEgC,EAAEuD,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEE,EAAEC,EAAEI,EAAEC,EAAE,OAAO7F,EAAYvB,MAAK,SAASqH,GAAG,OAAOA,EAAE7F,OAAO,KAAK,EAAE,OAAOiP,GAA8BjR,EAAEY,EAASA,EAAS,CAAC,EAAE2P,IAAyBvQ,IAAIK,EAAEG,KAAKkR,wBAAwB3R,EAAEC,EAAEyQ,mBAAmBzQ,EAAE0Q,uBAAuB5P,EAAET,EAAEyE,aAAa7D,EAAEZ,EAAEmE,cAAclD,EAAEjB,EAAEsE,QAAQpD,EAAElB,EAAEuE,gBAAgBlD,EAAErB,EAAEwE,gBAAgBrD,EAAEnB,EAAE8O,QAAQ3L,EAAEnD,EAAEsR,iCAAiC5K,EAAEjG,EAAE6B,MAAMqE,EAAED,EAAE,GAAGE,EAAEF,EAAE,GAAG,CAAC,EAAEjG,EAAEiJ,QAAQ,KAAK,EAAE,OAAO7C,EAAEW,EAAE5F,OAAOnB,EAAEoE,UAAU,CAAC,EAAEkK,GAAkB,CAACnO,EAAEK,EAAEC,EAAEG,KAAK,KAAK,EAAE,OAAOyF,EAAEU,EAAE5F,OAAOmF,EAAED,EAAE,GAAGG,EAAEH,EAAE,GAAGI,EAAEJ,EAAE,GAAGQ,EAAER,EAAE,GAAGS,EAAE0H,GAAkB1H,EAAE2E,EAAoBnF,EAAEE,EAAEC,EAAEI,EAAEnH,KAAK4Q,UAAUpN,aAAahE,EAAE2Q,cAAc3Q,EAAE4Q,eAAe5Q,EAAE6Q,WAAW,CAAC7J,EAAEC,GAAGzD,EAAEhC,EAAEoO,IAA0B3O,EAAEiE,UAAU5D,EAAE4D,UAAU3D,EAAE2D,UAAUxD,EAAEwD,UAAU,CAAC,EAAE,CAACmF,OAAOrD,EAAEoD,MAAMnD,EAAE8C,KAAK7C,EAAE2K,SAASjK,IAAI,GAAE,GAAE,EAAE7H,EAAEW,UAAUoR,mBAAmB,SAAS/R,EAAEC,GAAG,YAAO,IAASA,IAAIA,EAAE8Q,IAAwC1P,EAAUZ,UAAK,OAAO,GAAO,WAAW,IAAIH,EAAES,EAAEG,EAAEK,EAAEC,EAAEG,EAAEF,EAAEgC,EAAEuD,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEE,EAAEC,EAAEI,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAExH,KAAK,OAAOuB,EAAYvB,MAAK,SAAS8H,GAAG,OAAOA,EAAEtG,OAAO,KAAK,EAAE,OAAOkP,GAA2ClR,EAAEY,EAASA,EAAS,CAAC,EAAEkQ,IAAwC9Q,IAAIK,EAAEyM,EAAa/M,GAAGe,EAAET,EAAE,GAAGY,EAAEZ,EAAE,GAAGiB,EAAE+M,EAAgCrO,EAAEyQ,mBAAmBjQ,KAAK4Q,UAAUpN,aAAa,CAAClD,EAAEG,IAAIM,EAAEuN,GAAe/O,EAAEuB,GAAGI,EAAEH,EAAEwN,QAAQvN,EAAED,EAAE4N,QAAQ3L,GAAE,IAAAR,OAAK,WAAW,IAAIjD,EAAEM,EAAE2H,EAAEyJ,iDAAiD/P,GAAGH,EAAElB,EAAEiR,cAAc9N,EAAEnD,EAAE2E,YAAY+B,EAAE1G,EAAEmE,cAAcwC,EAAE3G,EAAEsE,QAAQsC,EAAE5G,EAAEuE,gBAAgBsC,EAAE7G,EAAEwE,gBAAgBsC,EAAEsH,GAA+BlN,EAAE,CAACT,EAAEG,GAAGK,EAAE,CAAC,CAACE,EAAEkE,IAAIlE,EAAEmE,QAAQ,CAACnE,EAAEoE,KAAKpE,EAAEqE,QAAQ8J,IAA0B,OAAO5P,EAAEyD,EAAE,CAACsB,aAAa/B,GAAa,IAAAuB,SAAQ6C,GAAGnH,EAAE0Q,uBAAuB1L,YAAYjF,EAAEgS,iBAAiBhL,EAAEiL,WAAWhL,EAAEiL,mBAAmBhL,EAAEiL,mBAAmBhL,EAAE,IAAGH,EAAEvD,EAAEsB,aAAakC,EAAExD,EAAEwB,YAAYiC,EAAEzD,EAAEuO,iBAAiB7K,EAAE1D,EAAEwO,WAAW7K,EAAE3D,EAAEyO,mBAAmB7K,EAAE5D,EAAE0O,mBAAmB,CAAC,EAAE9C,GAAkB,CAACnI,EAAEC,EAAEC,EAAEC,KAAK,KAAK,EAAE,OAAOE,EAAEgB,EAAErG,OAAOsF,EAAED,EAAE,GAAGK,EAAEL,EAAE,GAAGM,EAAEN,EAAE,GAAGO,EAAEP,EAAE,GAAGQ,EAAEwH,GAAkBxH,EAAEyE,EAAoBhF,EAAEI,EAAEC,EAAEC,EAAErH,KAAK4Q,UAAUpN,aAAahE,EAAE2Q,cAAc3Q,EAAE4Q,eAAe5Q,EAAE6Q,WAAW,CAAC/P,EAAEG,GAAGK,EAAEE,EAAEoO,IAA0B,CAAC,EAAEtG,EAA0BvC,EAAEC,EAAEc,EAAEhH,EAAEG,EAAET,KAAK4Q,UAAUpN,aAAa1C,EAAEE,EAAExB,EAAE4Q,eAAe5Q,EAAEgR,YAAYhR,EAAE+Q,iBAAiB/Q,EAAE2Q,gBAAgB,KAAK,EAAE,OAAO5I,EAAEO,EAAErG,OAAOP,EAAEwD,UAAU6B,EAAE7B,UAAU8B,EAAE9B,UAAU+B,EAAE/B,UAAUgC,EAAEhC,UAAUiC,EAAEjC,UAAUkC,EAAElC,UAAU,CAAC,EAAE6C,GAAG,GAAE,GAAE,EAAEhI,EAAEW,UAAUyR,6BAA6B,SAASpS,EAAEC,EAAEK,GAAG,IAAIS,EAAEN,UAAK,IAASH,IAAIA,EAAE,IAAI,IAAIY,EAAE6L,EAAa/M,GAAGuB,EAAEL,EAAE,GAAGM,EAAEN,EAAE,GAAGS,EAAE2M,EAAgCrO,EAAEQ,KAAK4Q,UAAUpN,aAAa,CAAC1C,EAAEC,IAAIC,EAAEsN,GAAe/O,EAAE2B,GAAG8B,EAAEhC,EAAEuN,QAAQhI,EAAEvF,EAAE2N,QAAQnI,GAAE,IAAAhE,OAAK,WAAW,IAAIjD,EAAEe,EAAEyQ,oCAAoC/N,GAAGxD,EAAED,EAAEuR,cAAcrQ,EAAElB,EAAEyR,kBAAkB9P,EAAE3B,EAAEyE,cAAchD,EAAEzB,EAAE4E,QAAQqC,EAAEjH,EAAE6E,gBAAgBqC,EAAElH,EAAE8E,gBAAgBqC,EAAE1D,EAAEb,MAAMwE,EAAED,EAAE,GAAGE,EAAEF,EAAE,GAAGI,EAAEmH,GAA+BzO,EAAE,CAACsB,EAAEC,GAAG,CAAC4F,EAAEC,GAAG,CAAC,CAACL,EAAErB,IAAIqB,EAAEpB,QAAQ,CAACoB,EAAEnB,KAAKmB,EAAElB,QAAQ8J,IAA0BpI,EAAEkH,GAA+BxN,EAAE,CAACK,EAAEC,GAAG,CAAC4F,EAAEC,GAAG,CAAC,CAACL,EAAErB,IAAIqB,EAAEpB,QAAQ,CAACoB,EAAEnB,KAAKmB,EAAElB,QAAQ8J,IAA0B,MAAM,CAACyC,iBAAiBhP,EAAuBL,GAAa,IAAAuB,SAAQgD,GAAGjH,GAAGkH,GAAG/C,cAAc9C,EAAEiD,QAAQnD,EAAEoD,gBAAgBoC,EAAEnC,gBAAgBoC,EAAE,IAAGA,EAAED,EAAEoL,iBAAiBlL,EAAEF,EAAExC,cAAc2C,EAAEH,EAAErC,QAAQyC,EAAEJ,EAAEpC,gBAAgB0C,EAAEN,EAAEnC,gBAAgB,OAAOrB,EAAE0B,UAAU,CAACkN,iBAAiBnL,EAAEzC,cAAc0C,EAAEvC,QAAQwC,EAAEvC,gBAAgBwC,EAAEvC,gBAAgByC,EAAE6H,QAAQpI,EAAE4K,iCAAiCjQ,EAAE,EAAE3B,EAAEW,UAAU2R,mBAAmB,SAAStS,EAAEC,GAAG,YAAO,IAASA,IAAIA,EAAEuQ,IAAyBnP,EAAUZ,UAAK,OAAO,GAAO,WAAW,IAAIH,EAAES,EAAEG,EAAEK,EAAEC,EAAEG,EAAEF,EAAEgC,EAAEuD,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEE,EAAEC,EAAEI,EAAEC,EAAE,OAAO7F,EAAYvB,MAAK,SAASqH,GAAG,OAAOA,EAAE7F,OAAO,KAAK,EAAE,OAAOiP,GAA8BjR,EAAEY,EAASA,EAAS,CAAC,EAAE2P,IAAyBvQ,IAAIK,EAAEG,KAAK2R,6BAA6BpS,EAAEC,EAAEyQ,mBAAmBzQ,EAAE0Q,uBAAuB5P,EAAET,EAAE+R,iBAAiBnR,EAAEZ,EAAEmE,cAAclD,EAAEjB,EAAEsE,QAAQpD,EAAElB,EAAEuE,gBAAgBlD,EAAErB,EAAEwE,gBAAgBrD,EAAEnB,EAAE8O,QAAQ3L,EAAEnD,EAAEsR,iCAAiC5K,EAAEjG,EAAE6B,MAAMqE,EAAED,EAAE,GAAGE,EAAEF,EAAE,GAAG,CAAC,EAAEjG,EAAEiJ,QAAQ,KAAK,EAAE,OAAO7C,EAAEW,EAAE5F,OAAOnB,EAAEoE,UAAU,CAAC,EAAEkK,GAAkB,CAACnO,EAAEK,EAAEC,EAAEG,KAAK,KAAK,EAAE,OAAOyF,EAAEU,EAAE5F,OAAOmF,EAAED,EAAE,GAAGG,EAAEH,EAAE,GAAGI,EAAEJ,EAAE,GAAGQ,EAAER,EAAE,GAAGS,EAAE0H,GAAkB1H,EAAE2E,EAAoBnF,EAAEE,EAAEC,EAAEI,EAAEnH,KAAK4Q,UAAUpN,aAAahE,EAAE2Q,cAAc3Q,EAAE4Q,eAAe5Q,EAAE6Q,WAAW,CAAC7J,EAAEC,GAAGzD,EAAEhC,EAAEoO,IAA0B3O,EAAEiE,UAAU5D,EAAE4D,UAAU3D,EAAE2D,UAAUxD,EAAEwD,UAAU,CAAC,EAAE,CAACmF,OAAOrD,EAAEoD,MAAMnD,EAAE8C,KAAK7C,EAAE2K,SAASjK,IAAI,GAAE,GAAE,EAAE7H,EAAEW,UAAU4R,wBAAwB,SAASvS,EAAEC,GAAG,YAAO,IAASA,IAAIA,EAAE8Q,IAAwC1P,EAAUZ,UAAK,OAAO,GAAO,WAAW,IAAIH,EAAES,EAAEG,EAAEK,EAAEC,EAAEG,EAAEF,EAAEgC,EAAEuD,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEE,EAAEC,EAAEI,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEM,EAAE9H,KAAK,OAAOuB,EAAYvB,MAAK,SAAS+H,GAAG,OAAOA,EAAEvG,OAAO,KAAK,EAAE,OAAOkP,GAA2ClR,EAAEY,EAASA,EAAS,CAAC,EAAEkQ,IAAwC9Q,IAAIK,EAAEyM,EAAa/M,GAAGe,EAAET,EAAE,GAAGY,EAAEZ,EAAE,GAAGiB,EAAE+M,EAAgCrO,EAAEyQ,mBAAmBjQ,KAAK4Q,UAAUpN,aAAa,CAAClD,EAAEG,IAAIM,EAAEuN,GAAe/O,EAAEuB,GAAGI,EAAEH,EAAEwN,QAAQvN,EAAED,EAAE4N,QAAQ3L,GAAE,IAAAR,OAAK,WAAW,IAAIjD,EAAEuI,EAAEmJ,iDAAiD/P,GAAGrB,EAAEN,EAAEuR,cAAc/P,EAAExB,EAAEiF,YAAYxB,EAAEzD,EAAEyE,cAAcuC,EAAEhH,EAAE4E,QAAQqC,EAAEjH,EAAE6E,gBAAgBqC,EAAElH,EAAE8E,gBAAgBqC,EAAEnH,EAAEgF,aAAaoC,EAAEsH,GAA+BpO,EAAE,CAACS,EAAEG,GAAGK,EAAE,CAAC,CAACE,EAAEkE,IAAIlE,EAAEmE,QAAQ,CAACnE,EAAEoE,KAAKpE,EAAEqE,QAAQ8J,IAA0BvI,EAAEqH,GAA+BvH,EAAE,CAACpG,EAAEG,GAAGK,EAAE,CAAC,CAACE,EAAEkE,IAAIlE,EAAEmE,QAAQ,CAACnE,EAAEoE,KAAKpE,EAAEqE,QAAQ8J,IAA0BrI,EAAE/F,EAAE,MAAM,CAACuD,aAAa/B,GAAa,IAAAuB,SAAQ6C,GAAGnH,EAAE0Q,uBAAuB1L,YAAYsC,EAAEyK,iBAAiBvO,EAAEwO,WAAWjL,EAAEkL,mBAAmBjL,EAAEkL,mBAAmBjL,EAAEmL,iBAAiBvO,EAA2BuD,GAAG,IAAGL,EAAEvD,EAAEsB,aAAakC,EAAExD,EAAEwB,YAAYiC,EAAEzD,EAAEuO,iBAAiB7K,EAAE1D,EAAEwO,WAAW7K,EAAE3D,EAAEyO,mBAAmB7K,EAAE5D,EAAE0O,mBAAmB5K,EAAE9D,EAAE4O,iBAAiB,CAAC,EAAEhD,GAAkB,CAACnI,EAAEC,EAAEC,EAAEC,KAAK,KAAK,EAAE,OAAOG,EAAEgB,EAAEtG,OAAO0F,EAAEJ,EAAE,GAAGK,EAAEL,EAAE,GAAGM,EAAEN,EAAE,GAAGO,EAAEP,EAAE,GAAGQ,EAAEuH,GAAkBvH,EAAEwE,EAAoB5E,EAAEC,EAAEC,EAAEC,EAAEtH,KAAK4Q,UAAUpN,aAAahE,EAAE2Q,cAAc3Q,EAAE4Q,eAAe5Q,EAAE6Q,WAAW,CAAC/P,EAAEG,GAAGK,EAAEE,EAAEoO,IAA0B,CAAC,EAAEtF,EAA8BvD,EAAEC,EAAEM,EAAES,EAAEjH,EAAEG,EAAET,KAAK4Q,UAAUpN,aAAa1C,EAAEE,EAAExB,EAAE4Q,eAAe5Q,EAAEgR,YAAYhR,EAAE+Q,iBAAiB/Q,EAAE2Q,gBAAgB,KAAK,EAAE,OAAO3I,EAAEO,EAAEtG,OAAOP,EAAEwD,UAAU6B,EAAE7B,UAAU8B,EAAE9B,UAAU+B,EAAE/B,UAAUgC,EAAEhC,UAAUiC,EAAEjC,UAAUkC,EAAElC,UAAUoC,EAAEpC,UAAU,CAAC,EAAE8C,GAAG,GAAE,GAAE,EAAEjI,EAAEW,UAAUwE,QAAQ,WAAW1E,KAAK4Q,UAAUlM,SAAS,EAAEnF,CAAC,CAA3/P,GAA+/P,SAASwS,GAAcxS,GAAG,OAAOqB,EAAUZ,UAAK,OAAO,GAAO,WAAW,IAAIR,EAAEK,EAAES,EAAEG,EAAEK,EAAEC,EAAE,OAAOQ,EAAYvB,MAAK,SAASkB,GAAG,OAAOA,EAAEM,OAAO,KAAK,EAAE,GAAGhC,EAAED,EAAEiE,aAAa3D,EAAEN,EAAEgQ,WAAWjP,EAAEf,EAAEiQ,WAAW,MAAM,EAAG,MAAM,IAAI5C,MAAM,kJAAkJ,OAAOnM,EAA/1f,SAA6BlB,EAAEC,EAAEK,GAAG,IAAIS,EAAE,CAAC,EAAE,MAAM,IAAI,MAAM,GAAG,OAAOG,EAAE,eAAelB,EAAE,QAAQ,OAAO,IAAIM,EAAEwM,EAAmB,SAAS/L,EAAEd,GAAG,IAAIiB,EAAE4L,EAAmB,QAAQxM,EAAE,IAAIS,EAAEd,GAAG,IAAIiB,CAAC,CAAgqfuR,CAAoBxS,EAAEc,EAAET,GAAG,CAAC,GAAE,QAAeN,EAAE0S,UAAUxR,IAAI,KAAK,EAAE,OAAOK,EAAEI,EAAEO,OAAOV,EAAE,IAAI4D,EAAU7D,EAAEtB,GAAG,CAAC,EAAE,IAAImR,GAAQ5P,IAAI,GAAE,GAAE,CAAC,SAASmR,GAAW3S,GAAG,OAAOqB,EAAUZ,UAAK,OAAO,GAAO,WAAW,IAAIR,EAAEK,EAAES,EAAEG,EAAEK,EAAE,OAAOS,EAAYvB,MAAK,SAASe,GAAG,OAAOA,EAAES,OAAO,KAAK,EAAE,GAAGhC,EAAED,EAAEiE,aAAa3D,EAAEN,EAAEgQ,WAAW,MAAM,EAAG,MAAM,IAAI3C,MAAM,kJAAkJ,OAAOtM,EAAp9gB,SAA4Bf,EAAEC,GAAG,IAAIK,EAAE,eAAeN,EAAE,QAAQ,OAAO,IAAIC,EAAE4M,EAAkB,SAASvM,EAAEuM,EAAkB,QAAQ5M,EAAE,IAAIK,CAAC,CAA20gBsS,CAAmB3S,EAAEK,GAAG,CAAC,GAAE,QAAeN,EAAE0S,UAAU3R,IAAI,KAAK,EAAE,OAAOG,EAAEM,EAAEU,OAAOX,EAAE,IAAIqL,EAAO1L,EAAEjB,GAAG,CAAC,EAAE,IAAImR,GAAQ7P,IAAI,GAAE,GAAE,CAAC,SAASsR,GAAK7S,GAAG,YAAO,IAASA,IAAIA,EAAE8P,IAAqBzO,EAAUZ,UAAK,OAAO,GAAO,WAAW,OAAOuB,EAAYvB,MAAK,SAASR,GAAG,MAAM,cAAcD,EAAh+W,SAA6BA,GAAG,GAAG,OAAOA,EAAEA,GAAG8P,IAAqBC,eAAe/P,EAAE+P,aAAa,eAAeG,GAAmB4C,QAAQ9S,EAAE+P,cAAc,EAAE,MAAM,IAAI1C,MAAM,wBAAwBrN,EAAE+P,aAAa,sBAAsBG,IAAoB,GAAG,MAAMlQ,EAAEiE,eAAejE,EAAEiE,aAAa,IAAIkM,GAAanQ,EAAE+P,cAAc+C,QAAQ9S,EAAEiE,cAAc,EAAE,MAAM,IAAIoJ,MAAM,wBAAwBrN,EAAEiE,aAAa,sBAAsBkM,GAAanQ,EAAE+P,cAAc,qBAAqB/P,EAAE+P,aAAa,KAAK,GAAG,MAAM/P,EAAEiQ,aAAajQ,EAAEiQ,WAAW,GAAGK,GAAiBtQ,EAAE+P,cAAc+C,QAAQ9S,EAAEiQ,YAAY,EAAE,MAAM,IAAI5C,MAAM,sBAAsBrN,EAAEiQ,WAAW,sBAAsBK,GAAiBtQ,EAAE+P,cAAc,qBAAqB/P,EAAE+P,aAAa,KAAK,GAAG,MAAM/P,EAAEgQ,aAAahQ,EAAEgQ,WAAW,GAAGO,GAAkBuC,QAAQ9S,EAAEgQ,YAAY,EAAE,MAAM,IAAI3C,MAAM,sBAAsBrN,EAAEgQ,WAAW,sBAAsBO,GAAkB,qBAAqBvQ,EAAE+P,aAAa,KAAK,OAAO/P,CAAC,CAA0hV+S,CAAoB/S,IAAI+P,aAAa,CAAC,EAAE4C,GAAW3S,IAAI,gBAAgBA,EAAE+P,aAAa,CAAC,EAAEyC,GAAcxS,IAAI,CAAC,EAAE,KAAK,GAAE,GAAE,C","sources":["webpack://StylistWidget/./node_modules/@tensorflow-models/body-pix/dist/body-pix.esm.js"],"sourcesContent":["/**\n    * @license\n    * Copyright 2021 Google LLC. All Rights Reserved.\n    * Licensed under the Apache License, Version 2.0 (the \"License\");\n    * you may not use this file except in compliance with the License.\n    * You may obtain a copy of the License at\n    *\n    * http://www.apache.org/licenses/LICENSE-2.0\n    *\n    * Unless required by applicable law or agreed to in writing, software\n    * distributed under the License is distributed on an \"AS IS\" BASIS,\n    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    * See the License for the specific language governing permissions and\n    * limitations under the License.\n    * =============================================================================\n    */\nimport*as tf from\"@tensorflow/tfjs-core\";import{tidy,squeeze,Tensor,util,browser,image,reverse,pad3d,sigmoid,expandDims,argMax,reshape,oneHot,mul,cast,greater,scalar,range,matMul,add,sub,div,equal,getBackend,engine,tensor,backend}from\"@tensorflow/tfjs-core\";import{loadGraphModel}from\"@tensorflow/tfjs-converter\";var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends(e,t){function n(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function __awaiter(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{d(r.next(e))}catch(e){i(e)}}function s(e){try{d(r.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}d((r=r.apply(e,t||[])).next())})}function __generator(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function toFlattenedOneHotPartMap(e){var t=e.shape[2],n=argMax(e,2),r=reshape(n,[-1]);return oneHot(r,t)}function clipByMask2d(e,t){return mul(e,t)}function toMaskTensor(e,t){return tidy(function(){return cast(greater(e,scalar(t)),\"int32\")})}function decodePartSegmentation(e,t){var n=t.shape,r=n[0],o=n[1],i=n[2];return tidy(function(){var n=toFlattenedOneHotPartMap(t),a=expandDims(range(0,i,1,\"int32\"),1),s=cast(matMul(n,a),\"int32\"),d=reshape(s,[r,o]),u=add(d,scalar(1,\"int32\"));return sub(clipByMask2d(u,e),scalar(1,\"int32\"))})}function decodeOnlyPartSegmentation(e){var t=e.shape,n=t[0],r=t[1],o=t[2];return tidy(function(){var t=toFlattenedOneHotPartMap(e),i=expandDims(range(0,o,1,\"int32\"),1),a=cast(matMul(t,i),\"int32\");return reshape(a,[n,r])})}var BaseModel=function(){function e(e,t){this.model=e,this.outputStride=t;var n=this.model.inputs[0].shape;util.assert(-1===n[1]&&-1===n[2],function(){return\"Input shape [\"+n[1]+\", \"+n[2]+\"] must both be equal to or -1\"})}return e.prototype.predict=function(e){var t=this;return tidy(function(){var n=t.preprocessInput(cast(e,\"float32\")),r=expandDims(n,0),o=t.model.predict(r).map(function(e){return squeeze(e,[0])}),i=t.nameOutputResults(o);return{heatmapScores:sigmoid(i.heatmap),offsets:i.offsets,displacementFwd:i.displacementFwd,displacementBwd:i.displacementBwd,segmentation:i.segmentation,partHeatmaps:i.partHeatmaps,longOffsets:i.longOffsets,partOffsets:i.partOffsets}})},e.prototype.dispose=function(){this.model.dispose()},e}(),MobileNet=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.preprocessInput=function(e){return tidy(function(){return sub(div(e,127.5),1)})},t.prototype.nameOutputResults=function(e){return{offsets:e[0],segmentation:e[1],partHeatmaps:e[2],longOffsets:e[3],heatmap:e[4],displacementFwd:e[5],displacementBwd:e[6],partOffsets:e[7]}},t}(BaseModel),PART_NAMES=[\"nose\",\"leftEye\",\"rightEye\",\"leftEar\",\"rightEar\",\"leftShoulder\",\"rightShoulder\",\"leftElbow\",\"rightElbow\",\"leftWrist\",\"rightWrist\",\"leftHip\",\"rightHip\",\"leftKnee\",\"rightKnee\",\"leftAnkle\",\"rightAnkle\"],NUM_KEYPOINTS=PART_NAMES.length,PART_IDS=PART_NAMES.reduce(function(e,t,n){return e[t]=n,e},{}),CONNECTED_PART_NAMES=[[\"leftHip\",\"leftShoulder\"],[\"leftElbow\",\"leftShoulder\"],[\"leftElbow\",\"leftWrist\"],[\"leftHip\",\"leftKnee\"],[\"leftKnee\",\"leftAnkle\"],[\"rightHip\",\"rightShoulder\"],[\"rightElbow\",\"rightShoulder\"],[\"rightElbow\",\"rightWrist\"],[\"rightHip\",\"rightKnee\"],[\"rightKnee\",\"rightAnkle\"],[\"leftShoulder\",\"rightShoulder\"],[\"leftHip\",\"rightHip\"]],POSE_CHAIN=[[\"nose\",\"leftEye\"],[\"leftEye\",\"leftEar\"],[\"nose\",\"rightEye\"],[\"rightEye\",\"rightEar\"],[\"nose\",\"leftShoulder\"],[\"leftShoulder\",\"leftElbow\"],[\"leftElbow\",\"leftWrist\"],[\"leftShoulder\",\"leftHip\"],[\"leftHip\",\"leftKnee\"],[\"leftKnee\",\"leftAnkle\"],[\"nose\",\"rightShoulder\"],[\"rightShoulder\",\"rightElbow\"],[\"rightElbow\",\"rightWrist\"],[\"rightShoulder\",\"rightHip\"],[\"rightHip\",\"rightKnee\"],[\"rightKnee\",\"rightAnkle\"]],CONNECTED_PART_INDICES=CONNECTED_PART_NAMES.map(function(e){var t=e[0],n=e[1];return[PART_IDS[t],PART_IDS[n]]});function getScale(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1],s=n.top,d=n.bottom;return[a/(n.left+n.right+o),i/(s+d+r)]}function getOffsetPoint(e,t,n,r){return{y:r.get(e,t,n),x:r.get(e,t,n+NUM_KEYPOINTS)}}function getImageCoords(e,t,n){var r=getOffsetPoint(e.heatmapY,e.heatmapX,e.id,n),o=r.y,i=r.x;return{x:e.heatmapX*t+i,y:e.heatmapY*t+o}}function clamp(e,t,n){return e<t?t:e>n?n:e}function squaredDistance(e,t,n,r){var o=n-e,i=r-t;return o*o+i*i}function addVectors(e,t){return{x:e.x+t.x,y:e.y+t.y}}function computeDistance(e,t,n){void 0===n&&(n=.3);for(var r=0,o=0,i=0;i<e.length;i++)t.keypoints[i].score>n&&(o+=1,r+=Math.pow(e[i].x-t.keypoints[i].position.x,2)+Math.pow(e[i].y-t.keypoints[i].position.y,2));return 0===o?r=1/0:r/=o,r}function convertToPositionInOuput(e,t,n,r){var o=t[0],i=t[1],a=n[0],s=n[1],d=Math.round(((o+e.y+1)*s-1)/r);return{x:Math.round(((i+e.x+1)*a-1)/r),y:d}}function getEmbedding(e,t,n,r,o,i,a){for(var s=a[0],d=a[1],u=n(e),l=u.y*r+u.x,f=o[NUM_KEYPOINTS*(2*l)+t],c=o[NUM_KEYPOINTS*(2*l+1)+t],p=e.y+f,h=e.x+c,m=0;m<i;m++){p=Math.min(p,s-1);var g=n({x:h=Math.min(h,d-1),y:p}),v=g.y*r+g.x;p+=f=o[NUM_KEYPOINTS*(2*v)+t],h+=c=o[NUM_KEYPOINTS*(2*v+1)+t]}return{x:h,y:p}}function matchEmbeddingToInstance(e,t,n,r,o,i,a,s,d,u){for(var l=o[0],f=o[1],c=i[0],p=i[1],h=s[0],m=s[1],g=[],v=function(e){return convertToPositionInOuput(e,[l,f],[c,p],d)},S=0;S<r;S++){var _=getEmbedding(e,S,v,a,t,u,[h,m]);g.push(_)}for(var I=-1,w=1/0,E=0;E<n.length;E++){var T=computeDistance(g,n[E]);T<w&&(I=E,w=T)}return I}function getOutputResolution(e,t){var n=e[0],r=e[1];return[Math.round((r-1)/t+1),Math.round((n-1)/t+1)]}function decodeMultipleMasksCPU(e,t,n,r,o,i,a,s,d,u){var l=a[0],f=a[1];void 0===u&&(u=5);for(var c=n.map(function(e){return new Uint8Array(r*o).fill(0)}),p=s.top,h=s.left,m=getScale([r,o],[l,f],s),g=m[0],v=m[1],S=getOutputResolution([l,f],i)[0],_=0;_<r;_+=1)for(var I=0;I<o;I+=1){var w=_*o+I;if(1===e[w]){var E=matchEmbeddingToInstance({x:I,y:_},t,n,u,[p,h],[g,v],S,[r,o],i,d);E>=0&&(c[E][w]=1)}}return c}function decodeMultiplePartMasksCPU(e,t,n,r,o,i,a,s,d,u,l){var f=s[0],c=s[1];void 0===l&&(l=5);for(var p=r.map(function(e){return new Int32Array(o*i).fill(-1)}),h=d.top,m=d.left,g=getScale([o,i],[f,c],d),v=g[0],S=g[1],_=getOutputResolution([f,c],a)[0],I=0;I<o;I+=1)for(var w=0;w<i;w+=1){var E=I*i+w;if(1===e[E]){var T=matchEmbeddingToInstance({x:w,y:I},t,r,l,[h,m],[v,S],_,[o,i],a,u);T>=0&&(p[T][E]=n[E])}}return p}function decodeMultipleMasksWebGl(e,t,n,r,o,i,a,s,d,u,l){for(var f=a[0],c=a[1],p=e.shape,h=p[0],m=p[1],g=t.shape.slice(0,2),v=g[0],S=g[1],_=reshape(t,[v,S,2,NUM_KEYPOINTS]),I=new Float32Array(l*NUM_KEYPOINTS*3).fill(0),w=0;w<n.length;w++)for(var E=w*NUM_KEYPOINTS*3,T=n[w],N=0;N<NUM_KEYPOINTS;N++){var A=T.keypoints[N],y=E+3*N;I[y]=A.score,I[y+1]=A.position.y,I[y+2]=A.position.x}var O=getScale([r,o],[f,c],s),P=O[0],M=O[1],R=tensor(I,[l,NUM_KEYPOINTS,3]),b=s.top,C=s.left,x={variableNames:[\"segmentation\",\"longOffsets\",\"poses\"],outputShape:[h,m],userCode:\"\\n    int convertToPositionInOutput(int pos, int pad, float scale, int stride) {\\n      return round(((float(pos + pad) + 1.0) * scale - 1.0) / float(stride));\\n    }\\n\\n    float convertToPositionInOutputFloat(\\n        int pos, int pad, float scale, int stride) {\\n      return ((float(pos + pad) + 1.0) * scale - 1.0) / float(stride);\\n    }\\n\\n    float dist(float x1, float y1, float x2, float y2) {\\n      return pow(x1 - x2, 2.0) + pow(y1 - y2, 2.0);\\n    }\\n\\n    float sampleLongOffsets(float h, float w, int d, int k) {\\n      float fh = fract(h);\\n      float fw = fract(w);\\n      int clH = int(ceil(h));\\n      int clW = int(ceil(w));\\n      int flH = int(floor(h));\\n      int flW = int(floor(w));\\n      float o11 = getLongOffsets(flH, flW, d, k);\\n      float o12 = getLongOffsets(flH, clW, d, k);\\n      float o21 = getLongOffsets(clH, flW, d, k);\\n      float o22 = getLongOffsets(clH, clW, d, k);\\n      float o1 = mix(o11, o12, fw);\\n      float o2 = mix(o21, o22, fw);\\n      return mix(o1, o2, fh);\\n    }\\n\\n    int findNearestPose(int h, int w) {\\n      float prob = getSegmentation(h, w);\\n      if (prob < 1.0) {\\n        return -1;\\n      }\\n\\n      // Done(Tyler): convert from output space h/w to strided space.\\n      float stridedH = convertToPositionInOutputFloat(\\n        h, \"+b+\", \"+M+\", \"+i+\");\\n      float stridedW = convertToPositionInOutputFloat(\\n        w, \"+C+\", \"+P+\", \"+i+\");\\n\\n      float minDist = 1000000.0;\\n      int iMin = -1;\\n      for (int i = 0; i < \"+l+\"; i++) {\\n        float curDistSum = 0.0;\\n        int numKpt = 0;\\n        for (int k = 0; k < \"+NUM_KEYPOINTS+\"; k++) {\\n          float dy = sampleLongOffsets(stridedH, stridedW, 0, k);\\n          float dx = sampleLongOffsets(stridedH, stridedW, 1, k);\\n\\n          float y = float(h) + dy;\\n          float x = float(w) + dx;\\n\\n          for (int s = 0; s < \"+d+\"; s++) {\\n            int yRounded = round(min(y, float(\"+(r-1)+\")));\\n            int xRounded = round(min(x, float(\"+(o-1)+\")));\\n\\n            float yStrided = convertToPositionInOutputFloat(\\n              yRounded, \"+b+\", \"+M+\", \"+i+\");\\n            float xStrided = convertToPositionInOutputFloat(\\n              xRounded, \"+C+\", \"+P+\", \"+i+\");\\n\\n            float dy = sampleLongOffsets(yStrided, xStrided, 0, k);\\n            float dx = sampleLongOffsets(yStrided, xStrided, 1, k);\\n\\n            y = y + dy;\\n            x = x + dx;\\n          }\\n\\n          float poseScore = getPoses(i, k, 0);\\n          float poseY = getPoses(i, k, 1);\\n          float poseX = getPoses(i, k, 2);\\n          if (poseScore > \"+u+\") {\\n            numKpt = numKpt + 1;\\n            curDistSum = curDistSum + dist(x, y, poseX, poseY);\\n          }\\n        }\\n        if (numKpt > 0 && curDistSum / float(numKpt) < minDist) {\\n          minDist = curDistSum / float(numKpt);\\n          iMin = i;\\n        }\\n      }\\n      return iMin;\\n    }\\n\\n    void main() {\\n        ivec2 coords = getOutputCoords();\\n        int nearestPose = findNearestPose(coords[0], coords[1]);\\n        setOutput(float(nearestPose));\\n      }\\n  \"};return backend().compileAndRun(x,[e,_,R])}function toPersonKSegmentation(e,t){return tidy(function(){return cast(equal(e,scalar(t)),\"int32\")})}function toPersonKPartSegmentation(e,t,n){return tidy(function(){return sub(mul(cast(equal(e,scalar(n)),\"int32\"),add(t,1)),1)})}function isWebGlBackend(){return\"webgl\"===getBackend()}function decodePersonInstanceMasks(e,t,n,r,o,i,a,s,d,u,l,f){var c=a[0],p=a[1];return void 0===d&&(d=.2),void 0===u&&(u=8),void 0===l&&(l=.3),void 0===f&&(f=10),__awaiter(this,void 0,void 0,function(){var a,h,m,g,v;return __generator(this,function(S){switch(S.label){case 0:return a=n.filter(function(e){return e.score>=d}),isWebGlBackend()?(m=tidy(function(){var n=decodeMultipleMasksWebGl(e,t,a,r,o,i,[c,p],s,u,l,f),d=engine().makeTensorFromDataId(n.dataId,n.shape,n.dtype);return a.map(function(e,t){return toPersonKSegmentation(d,t)})}),[4,Promise.all(m.map(function(e){return e.data()}))]):[3,2];case 1:return h=S.sent(),m.forEach(function(e){return e.dispose()}),[3,5];case 2:return[4,e.data()];case 3:return g=S.sent(),[4,t.data()];case 4:v=S.sent(),h=decodeMultipleMasksCPU(g,v,a,r,o,i,[c,p],s,u),S.label=5;case 5:return[2,h.map(function(e,t){return{data:e,pose:a[t],width:o,height:r}})]}})})}function decodePersonInstancePartMasks(e,t,n,r,o,i,a,s,d,u,l,f,c){var p=s[0],h=s[1];return void 0===u&&(u=.2),void 0===l&&(l=8),void 0===f&&(f=.3),void 0===c&&(c=10),__awaiter(this,void 0,void 0,function(){var s,m,g,v,S,_;return __generator(this,function(I){switch(I.label){case 0:return s=r.filter(function(e){return e.score>=u}),isWebGlBackend()?(g=tidy(function(){var r=decodeMultipleMasksWebGl(e,t,s,o,i,a,[p,h],d,l,f,c),u=engine().makeTensorFromDataId(r.dataId,r.shape,r.dtype);return s.map(function(e,t){return toPersonKPartSegmentation(u,n,t)})}),[4,Promise.all(g.map(function(e){return e.data()}))]):[3,2];case 1:return m=I.sent(),g.forEach(function(e){return e.dispose()}),[3,6];case 2:return[4,e.data()];case 3:return v=I.sent(),[4,t.data()];case 4:return S=I.sent(),[4,n.data()];case 5:_=I.sent(),m=decodeMultiplePartMasksCPU(v,S,_,s,o,i,a,[p,h],d,l),I.label=6;case 6:return[2,m.map(function(e,t){return{pose:s[t],data:e,height:o,width:i}})]}})})}function half(e){return Math.floor(e/2)}var MaxHeap=function(){function e(e,t){this.priorityQueue=new Array(e),this.numberOfElements=-1,this.getElementValue=t}return e.prototype.enqueue=function(e){this.priorityQueue[++this.numberOfElements]=e,this.swim(this.numberOfElements)},e.prototype.dequeue=function(){var e=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,e},e.prototype.empty=function(){return-1===this.numberOfElements},e.prototype.size=function(){return this.numberOfElements+1},e.prototype.all=function(){return this.priorityQueue.slice(0,this.numberOfElements+1)},e.prototype.max=function(){return this.priorityQueue[0]},e.prototype.swim=function(e){for(;e>0&&this.less(half(e),e);)this.exchange(e,half(e)),e=half(e)},e.prototype.sink=function(e){for(;2*e<=this.numberOfElements;){var t=2*e;if(t<this.numberOfElements&&this.less(t,t+1)&&t++,!this.less(e,t))break;this.exchange(e,t),e=t}},e.prototype.getValueAt=function(e){return this.getElementValue(this.priorityQueue[e])},e.prototype.less=function(e,t){return this.getValueAt(e)<this.getValueAt(t)},e.prototype.exchange=function(e,t){var n=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[t],this.priorityQueue[t]=n},e}();function scoreIsMaximumInLocalWindow(e,t,n,r,o,i){for(var a=i.shape,s=a[0],d=a[1],u=!0,l=Math.max(n-o,0),f=Math.min(n+o+1,s),c=l;c<f;++c){for(var p=Math.max(r-o,0),h=Math.min(r+o+1,d),m=p;m<h;++m)if(i.get(c,m,e)>t){u=!1;break}if(!u)break}return u}function buildPartWithScoreQueue(e,t,n){for(var r=n.shape,o=r[0],i=r[1],a=r[2],s=new MaxHeap(o*i*a,function(e){return e.score}),d=0;d<o;++d)for(var u=0;u<i;++u)for(var l=0;l<a;++l){var f=n.get(d,u,l);f<e||scoreIsMaximumInLocalWindow(l,f,d,u,t,n)&&s.enqueue({score:f,part:{heatmapY:d,heatmapX:u,id:l}})}return s}var parentChildrenTuples=POSE_CHAIN.map(function(e){var t=e[0],n=e[1];return[PART_IDS[t],PART_IDS[n]]}),parentToChildEdges=parentChildrenTuples.map(function(e){return e[1]}),childToParentEdges=parentChildrenTuples.map(function(e){return e[0]});function getDisplacement(e,t,n){var r=n.shape[2]/2;return{y:n.get(t.y,t.x,e),x:n.get(t.y,t.x,r+e)}}function getStridedIndexNearPoint(e,t,n,r){return{y:clamp(Math.round(e.y/t),0,n-1),x:clamp(Math.round(e.x/t),0,r-1)}}function traverseToTargetKeypoint(e,t,n,r,o,i,a,s){void 0===s&&(s=2);for(var d=r.shape,u=d[0],l=d[1],f=getDisplacement(e,getStridedIndexNearPoint(t.position,i,u,l),a),c=addVectors(t.position,f),p=0;p<s;p++){var h=getStridedIndexNearPoint(c,i,u,l),m=getOffsetPoint(h.y,h.x,n,o);c=addVectors({x:h.x*i,y:h.y*i},{x:m.x,y:m.y})}var g=getStridedIndexNearPoint(c,i,u,l),v=r.get(g.y,g.x,n);return{position:c,part:PART_NAMES[n],score:v}}function decodePose(e,t,n,r,o,i){var a=t.shape[2],s=parentToChildEdges.length,d=new Array(a),u=e.part,l=e.score,f=getImageCoords(u,r,n);d[u.id]={score:l,part:PART_NAMES[u.id],position:f};for(var c=s-1;c>=0;--c){var p=parentToChildEdges[c],h=childToParentEdges[c];d[p]&&!d[h]&&(d[h]=traverseToTargetKeypoint(c,d[p],h,t,n,r,i))}for(c=0;c<s;++c){p=childToParentEdges[c],h=parentToChildEdges[c];d[p]&&!d[h]&&(d[h]=traverseToTargetKeypoint(c,d[p],h,t,n,r,o))}return d}function withinNmsRadiusOfCorrespondingPoint(e,t,n,r){var o=n.x,i=n.y;return e.some(function(e){var n=e.keypoints[r].position;return squaredDistance(i,o,n.y,n.x)<=t})}function getInstanceScore(e,t,n){return n.reduce(function(n,r,o){var i=r.position,a=r.score;return withinNmsRadiusOfCorrespondingPoint(e,t,i,o)||(n+=a),n},0)/n.length}var kLocalMaximumRadius=1;function decodeMultiplePoses(e,t,n,r,o,i,a,s){void 0===a&&(a=.5),void 0===s&&(s=20);for(var d=[],u=buildPartWithScoreQueue(a,kLocalMaximumRadius,e),l=s*s;d.length<i&&!u.empty();){var f=u.dequeue();if(!withinNmsRadiusOfCorrespondingPoint(d,l,getImageCoords(f.part,o,t),f.part.id)){var c=decodePose(f,e,t,o,n,r),p=getInstanceScore(d,l,c);d.push({keypoints:c,score:p})}}return d}var _a,imageNetMean=[-123.15,-115.9,-103.06],ResNet=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.preprocessInput=function(e){return add(e,imageNetMean)},t.prototype.nameOutputResults=function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5];return{offsets:i,segmentation:e[6],partHeatmaps:a,longOffsets:o,heatmap:r,displacementFwd:n,displacementBwd:t,partOffsets:e[7]}},t}(BaseModel),RESNET50_BASE_URL=\"https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/resnet50/\",MOBILENET_BASE_URL=\"https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/mobilenet/\";function resNet50SavedModel(e,t){var n=\"model-stride\"+e+\".json\";return 4===t?RESNET50_BASE_URL+\"float/\"+n:RESNET50_BASE_URL+\"quant\"+t+\"/\"+n}function mobileNetSavedModel(e,t,n){var r={1:\"100\",.75:\"075\",.5:\"050\"},o=\"model-stride\"+e+\".json\";return 4===n?MOBILENET_BASE_URL+\"float/\"+r[t]+\"/\"+o:MOBILENET_BASE_URL+\"quant\"+n+\"/\"+r[t]+\"/\"+o}function getSizeFromImageLikeElement(e){if(\"offsetHeight\"in e&&0!==e.offsetHeight&&\"offsetWidth\"in e&&0!==e.offsetWidth)return[e.offsetHeight,e.offsetWidth];if(null!=e.height&&null!=e.width)return[e.height,e.width];throw new Error(\"HTMLImageElement must have height and width attributes set.\")}function getSizeFromVideoElement(e){return e.hasAttribute(\"height\")&&e.hasAttribute(\"width\")?[e.height,e.width]:[e.videoHeight,e.videoWidth]}function getInputSize(e){if(\"undefined\"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||\"undefined\"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||\"undefined\"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)return getSizeFromImageLikeElement(e);if(\"undefined\"!=typeof ImageData&&e instanceof ImageData)return[e.height,e.width];if(\"undefined\"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)return getSizeFromVideoElement(e);if(e instanceof Tensor)return[e.shape[0],e.shape[1]];throw new Error(\"error: Unknown input type: \"+e+\".\")}function isValidInputResolution(e,t){return(e-1)%t==0}function toValidInputResolution(e,t){return isValidInputResolution(e,t)?e:Math.floor(e/t)*t+1}var INTERNAL_RESOLUTION_STRING_OPTIONS={low:\"low\",medium:\"medium\",high:\"high\",full:\"full\"},INTERNAL_RESOLUTION_PERCENTAGES=((_a={})[INTERNAL_RESOLUTION_STRING_OPTIONS.low]=.25,_a[INTERNAL_RESOLUTION_STRING_OPTIONS.medium]=.5,_a[INTERNAL_RESOLUTION_STRING_OPTIONS.high]=.75,_a[INTERNAL_RESOLUTION_STRING_OPTIONS.full]=1,_a),MIN_INTERNAL_RESOLUTION=.1,MAX_INTERNAL_RESOLUTION=2;function toInternalResolutionPercentage(e){if(\"string\"==typeof e){var t=INTERNAL_RESOLUTION_PERCENTAGES[e];return util.assert(\"number\"==typeof t,function(){return\"string value of inputResolution must be one of \"+Object.values(INTERNAL_RESOLUTION_STRING_OPTIONS).join(\",\")+\" but was \"+e+\".\"}),t}return util.assert(\"number\"==typeof e&&e<=MAX_INTERNAL_RESOLUTION&&e>=MIN_INTERNAL_RESOLUTION,function(){return\"inputResolution must be a string or number between \"+MIN_INTERNAL_RESOLUTION+\" and \"+MAX_INTERNAL_RESOLUTION+\", but was \"+e}),e}function toInputResolutionHeightAndWidth(e,t,n){var r=n[0],o=n[1],i=toInternalResolutionPercentage(e);return[toValidInputResolution(r*i,t),toValidInputResolution(o*i,t)]}function toInputTensor(e){return e instanceof Tensor?e:browser.fromPixels(e)}function resizeAndPadTo(e,t,n){var r=t[0],o=t[1];void 0===n&&(n=!1);var i,a,s,d,u,l,f=e.shape,c=f[0],p=f[1]/c;if(p>o/r){i=o;var h=r-(a=Math.ceil(i/p));s=0,d=0,u=Math.floor(h/2),l=r-(a+u)}else{a=r;var m=o-(i=Math.ceil(r*p));s=Math.floor(m/2),d=o-(i+s),u=0,l=0}return{resizedAndPadded:tidy(function(){var t;return t=n?image.resizeBilinear(reverse(e,1),[a,i]):image.resizeBilinear(e,[a,i]),pad3d(t,[[u,l],[s,d],[0,0]])}),paddedBy:[[u,l],[s,d]]}}function scaleAndCropToInputTensorShape(e,t,n,r,o){var i=t[0],a=t[1],s=n[0],d=n[1],u=r[0],l=u[0],f=u[1],c=r[1],p=c[0],h=c[1];return void 0===o&&(o=!1),tidy(function(){var t=image.resizeBilinear(e,[s,d],!0);return o&&(t=sigmoid(t)),removePaddingAndResizeBack(t,[i,a],[[l,f],[p,h]])})}function removePaddingAndResizeBack(e,t,n){var r=t[0],o=t[1],i=n[0],a=i[0],s=i[1],d=n[1],u=d[0],l=d[1];return tidy(function(){var t=expandDims(e);return squeeze(image.cropAndResize(t,[[a/(r+a+s-1),u/(o+u+l-1),(a+r-1)/(r+a+s-1),(u+o-1)/(o+u+l-1)]],[0],[r,o]),[0])})}function padAndResizeTo(e,t){var n=t[0],r=t[1],o=getInputSize(e),i=o[0],a=o[1],s=r/n,d=[0,0,0,0],u=d[0],l=d[1],f=d[2],c=d[3];return a/i<s?(u=0,l=0,f=Math.round(.5*(s*i-a)),c=Math.round(.5*(s*i-a))):(u=Math.round(.5*(1/s*a-i)),l=Math.round(.5*(1/s*a-i)),f=0,c=0),{resized:tidy(function(){var t=toInputTensor(e);return t=pad3d(t,[[u,l],[f,c],[0,0]]),image.resizeBilinear(t,[n,r])}),padding:{top:u,left:f,right:c,bottom:l}}}function toTensorBuffers3D(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,Promise.all(e.map(function(e){return e.buffer()}))]})})}function scalePose(e,t,n,r,o){return void 0===r&&(r=0),void 0===o&&(o=0),{score:e.score,keypoints:e.keypoints.map(function(e){var i=e.score,a=e.part,s=e.position;return{score:i,part:a,position:{x:s.x*n+o,y:s.y*t+r}}})}}function scalePoses(e,t,n,r,o){return void 0===r&&(r=0),void 0===o&&(o=0),1===n&&1===t&&0===r&&0===o?e:e.map(function(e){return scalePose(e,t,n,r,o)})}function flipPoseHorizontal(e,t){return{score:e.score,keypoints:e.keypoints.map(function(e){var n=e.score,r=e.part,o=e.position;return{score:n,part:r,position:{x:t-1-o.x,y:o.y}}})}}function flipPosesHorizontal(e,t){return t<=0?e:e.map(function(e){return flipPoseHorizontal(e,t)})}function scaleAndFlipPoses(e,t,n,r,o){var i=t[0],a=t[1],s=n[0],d=n[1],u=scalePoses(e,(i+r.top+r.bottom)/s,(a+r.left+r.right)/d,-r.top,-r.left);return o?flipPosesHorizontal(u,a):u}var APPLY_SIGMOID_ACTIVATION=!0,FLIP_POSES_AFTER_SCALING=!1,MOBILENET_V1_CONFIG={architecture:\"MobileNetV1\",outputStride:16,quantBytes:4,multiplier:.75},VALID_ARCHITECTURE=[\"MobileNetV1\",\"ResNet50\"],VALID_STRIDE={MobileNetV1:[8,16,32],ResNet50:[32,16]},VALID_MULTIPLIER={MobileNetV1:[.5,.75,1],ResNet50:[1]},VALID_QUANT_BYTES=[1,2,4];function validateModelConfig(e){if(null==(e=e||MOBILENET_V1_CONFIG).architecture&&(e.architecture=\"MobileNetV1\"),VALID_ARCHITECTURE.indexOf(e.architecture)<0)throw new Error(\"Invalid architecture \"+e.architecture+\". Should be one of \"+VALID_ARCHITECTURE);if(null==e.outputStride&&(e.outputStride=16),VALID_STRIDE[e.architecture].indexOf(e.outputStride)<0)throw new Error(\"Invalid outputStride \"+e.outputStride+\". Should be one of \"+VALID_STRIDE[e.architecture]+\" for architecture \"+e.architecture+\".\");if(null==e.multiplier&&(e.multiplier=1),VALID_MULTIPLIER[e.architecture].indexOf(e.multiplier)<0)throw new Error(\"Invalid multiplier \"+e.multiplier+\". Should be one of \"+VALID_MULTIPLIER[e.architecture]+\" for architecture \"+e.architecture+\".\");if(null==e.quantBytes&&(e.quantBytes=4),VALID_QUANT_BYTES.indexOf(e.quantBytes)<0)throw new Error(\"Invalid quantBytes \"+e.quantBytes+\". Should be one of \"+VALID_QUANT_BYTES+\" for architecture \"+e.architecture+\".\");return e}var PERSON_INFERENCE_CONFIG={flipHorizontal:!1,internalResolution:\"medium\",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20},MULTI_PERSON_INSTANCE_INFERENCE_CONFIG={flipHorizontal:!1,internalResolution:\"medium\",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20,minKeypointScore:.3,refineSteps:10};function validatePersonInferenceConfig(e){var t=e.segmentationThreshold,n=e.maxDetections,r=e.scoreThreshold,o=e.nmsRadius;if(t<0||t>1)throw new Error(\"segmentationThreshold \"+t+\". Should be in range [0.0, 1.0]\");if(n<=0)throw new Error(\"Invalid maxDetections \"+n+\". Should be > 0\");if(r<0||r>1)throw new Error(\"Invalid scoreThreshold \"+r+\". Should be in range [0.0, 1.0]\");if(o<=0)throw new Error(\"Invalid nmsRadius \"+o+\".\")}function validateMultiPersonInstanceInferenceConfig(e){var t=e.segmentationThreshold,n=e.maxDetections,r=e.scoreThreshold,o=e.nmsRadius,i=e.minKeypointScore,a=e.refineSteps;if(t<0||t>1)throw new Error(\"segmentationThreshold \"+t+\". Should be in range [0.0, 1.0]\");if(n<=0)throw new Error(\"Invalid maxDetections \"+n+\". Should be > 0\");if(r<0||r>1)throw new Error(\"Invalid scoreThreshold \"+r+\". Should be in range [0.0, 1.0]\");if(o<=0)throw new Error(\"Invalid nmsRadius \"+o+\".\");if(i<0||i>1)throw new Error(\"Invalid minKeypointScore \"+i+\".Should be in range [0.0, 1.0]\");if(a<=0||a>20)throw new Error(\"Invalid refineSteps \"+a+\".Should be in range [1, 20]\")}var BodyPix=function(){function e(e){this.baseModel=e}return e.prototype.predictForPersonSegmentation=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},e.prototype.predictForPersonSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,partHeatmapLogits:t.partHeatmaps,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},e.prototype.predictForMultiPersonInstanceSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,longOffsets:t.longOffsets,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd,partHeatmaps:t.partHeatmaps}},e.prototype.segmentPersonActivation=function(e,t,n){var r=this;void 0===n&&(n=.5);var o=getInputSize(e),i=o[0],a=o[1],s=toInputResolutionHeightAndWidth(t,this.baseModel.outputStride,[i,a]),d=padAndResizeTo(e,s),u=d.resized,l=d.padding,f=tidy(function(){var e=r.predictForPersonSegmentation(u),t=e.segmentLogits,o=e.heatmapScores,s=e.offsets,d=e.displacementFwd,f=e.displacementBwd,c=u.shape,p=c[0],h=c[1],m=scaleAndCropToInputTensorShape(t,[i,a],[p,h],[[l.top,l.bottom],[l.left,l.right]],APPLY_SIGMOID_ACTIVATION);return{segmentation:toMaskTensor(squeeze(m),n),heatmapScores:o,offsets:s,displacementFwd:d,displacementBwd:f}}),c=f.segmentation,p=f.heatmapScores,h=f.offsets,m=f.displacementFwd,g=f.displacementBwd;return u.dispose(),{segmentation:c,heatmapScores:p,offsets:h,displacementFwd:m,displacementBwd:g,padding:l,internalResolutionHeightAndWidth:s}},e.prototype.segmentPerson=function(e,t){return void 0===t&&(t=PERSON_INFERENCE_CONFIG),__awaiter(this,void 0,void 0,function(){var n,r,o,i,a,s,d,u,l,f,c,p,h,m,g,v,S,_;return __generator(this,function(I){switch(I.label){case 0:return validatePersonInferenceConfig(t=__assign(__assign({},PERSON_INFERENCE_CONFIG),t)),n=this.segmentPersonActivation(e,t.internalResolution,t.segmentationThreshold),r=n.segmentation,o=n.heatmapScores,i=n.offsets,a=n.displacementFwd,s=n.displacementBwd,d=n.padding,u=n.internalResolutionHeightAndWidth,l=r.shape,f=l[0],c=l[1],[4,r.data()];case 1:return p=I.sent(),r.dispose(),[4,toTensorBuffers3D([o,i,a,s])];case 2:return h=I.sent(),m=h[0],g=h[1],v=h[2],S=h[3],_=scaleAndFlipPoses(_=decodeMultiplePoses(m,g,v,S,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[f,c],u,d,FLIP_POSES_AFTER_SCALING),o.dispose(),i.dispose(),a.dispose(),s.dispose(),[2,{height:f,width:c,data:p,allPoses:_}]}})})},e.prototype.segmentMultiPerson=function(e,t){return void 0===t&&(t=MULTI_PERSON_INSTANCE_INFERENCE_CONFIG),__awaiter(this,void 0,void 0,function(){var n,r,o,i,a,s,d,u,l,f,c,p,h,m,g,v,S,_,I,w,E,T=this;return __generator(this,function(N){switch(N.label){case 0:return validateMultiPersonInstanceInferenceConfig(t=__assign(__assign({},MULTI_PERSON_INSTANCE_INFERENCE_CONFIG),t)),n=getInputSize(e),r=n[0],o=n[1],i=toInputResolutionHeightAndWidth(t.internalResolution,this.baseModel.outputStride,[r,o]),a=padAndResizeTo(e,i),s=a.resized,d=a.padding,u=tidy(function(){var e,n=T.predictForMultiPersonInstanceSegmentationAndPart(s),a=n.segmentLogits,u=n.longOffsets,l=n.heatmapScores,f=n.offsets,c=n.displacementFwd,p=n.displacementBwd,h=scaleAndCropToInputTensorShape(a,[r,o],i,[[d.top,d.bottom],[d.left,d.right]],APPLY_SIGMOID_ACTIVATION);return e=u,{segmentation:toMaskTensor(squeeze(h),t.segmentationThreshold),longOffsets:e,heatmapScoresRaw:l,offsetsRaw:f,displacementFwdRaw:c,displacementBwdRaw:p}}),l=u.segmentation,f=u.longOffsets,c=u.heatmapScoresRaw,p=u.offsetsRaw,h=u.displacementFwdRaw,m=u.displacementBwdRaw,[4,toTensorBuffers3D([c,p,h,m])];case 1:return g=N.sent(),v=g[0],S=g[1],_=g[2],I=g[3],w=scaleAndFlipPoses(w=decodeMultiplePoses(v,S,_,I,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[r,o],i,d,FLIP_POSES_AFTER_SCALING),[4,decodePersonInstanceMasks(l,f,w,r,o,this.baseModel.outputStride,i,d,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return E=N.sent(),s.dispose(),l.dispose(),f.dispose(),c.dispose(),p.dispose(),h.dispose(),m.dispose(),[2,E]}})})},e.prototype.segmentPersonPartsActivation=function(e,t,n){var r=this;void 0===n&&(n=.5);var o=getInputSize(e),i=o[0],a=o[1],s=toInputResolutionHeightAndWidth(t,this.baseModel.outputStride,[i,a]),d=padAndResizeTo(e,s),u=d.resized,l=d.padding,f=tidy(function(){var e=r.predictForPersonSegmentationAndPart(u),t=e.segmentLogits,o=e.partHeatmapLogits,s=e.heatmapScores,d=e.offsets,f=e.displacementFwd,c=e.displacementBwd,p=u.shape,h=p[0],m=p[1],g=scaleAndCropToInputTensorShape(t,[i,a],[h,m],[[l.top,l.bottom],[l.left,l.right]],APPLY_SIGMOID_ACTIVATION),v=scaleAndCropToInputTensorShape(o,[i,a],[h,m],[[l.top,l.bottom],[l.left,l.right]],APPLY_SIGMOID_ACTIVATION);return{partSegmentation:decodePartSegmentation(toMaskTensor(squeeze(g),n),v),heatmapScores:s,offsets:d,displacementFwd:f,displacementBwd:c}}),c=f.partSegmentation,p=f.heatmapScores,h=f.offsets,m=f.displacementFwd,g=f.displacementBwd;return u.dispose(),{partSegmentation:c,heatmapScores:p,offsets:h,displacementFwd:m,displacementBwd:g,padding:l,internalResolutionHeightAndWidth:s}},e.prototype.segmentPersonParts=function(e,t){return void 0===t&&(t=PERSON_INFERENCE_CONFIG),__awaiter(this,void 0,void 0,function(){var n,r,o,i,a,s,d,u,l,f,c,p,h,m,g,v,S,_;return __generator(this,function(I){switch(I.label){case 0:return validatePersonInferenceConfig(t=__assign(__assign({},PERSON_INFERENCE_CONFIG),t)),n=this.segmentPersonPartsActivation(e,t.internalResolution,t.segmentationThreshold),r=n.partSegmentation,o=n.heatmapScores,i=n.offsets,a=n.displacementFwd,s=n.displacementBwd,d=n.padding,u=n.internalResolutionHeightAndWidth,l=r.shape,f=l[0],c=l[1],[4,r.data()];case 1:return p=I.sent(),r.dispose(),[4,toTensorBuffers3D([o,i,a,s])];case 2:return h=I.sent(),m=h[0],g=h[1],v=h[2],S=h[3],_=scaleAndFlipPoses(_=decodeMultiplePoses(m,g,v,S,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[f,c],u,d,FLIP_POSES_AFTER_SCALING),o.dispose(),i.dispose(),a.dispose(),s.dispose(),[2,{height:f,width:c,data:p,allPoses:_}]}})})},e.prototype.segmentMultiPersonParts=function(e,t){return void 0===t&&(t=MULTI_PERSON_INSTANCE_INFERENCE_CONFIG),__awaiter(this,void 0,void 0,function(){var n,r,o,i,a,s,d,u,l,f,c,p,h,m,g,v,S,_,I,w,E,T,N=this;return __generator(this,function(A){switch(A.label){case 0:return validateMultiPersonInstanceInferenceConfig(t=__assign(__assign({},MULTI_PERSON_INSTANCE_INFERENCE_CONFIG),t)),n=getInputSize(e),r=n[0],o=n[1],i=toInputResolutionHeightAndWidth(t.internalResolution,this.baseModel.outputStride,[r,o]),a=padAndResizeTo(e,i),s=a.resized,d=a.padding,u=tidy(function(){var e=N.predictForMultiPersonInstanceSegmentationAndPart(s),n=e.segmentLogits,a=e.longOffsets,u=e.heatmapScores,l=e.offsets,f=e.displacementFwd,c=e.displacementBwd,p=e.partHeatmaps,h=scaleAndCropToInputTensorShape(n,[r,o],i,[[d.top,d.bottom],[d.left,d.right]],APPLY_SIGMOID_ACTIVATION),m=scaleAndCropToInputTensorShape(p,[r,o],i,[[d.top,d.bottom],[d.left,d.right]],APPLY_SIGMOID_ACTIVATION),g=a;return{segmentation:toMaskTensor(squeeze(h),t.segmentationThreshold),longOffsets:g,heatmapScoresRaw:u,offsetsRaw:l,displacementFwdRaw:f,displacementBwdRaw:c,partSegmentation:decodeOnlyPartSegmentation(m)}}),l=u.segmentation,f=u.longOffsets,c=u.heatmapScoresRaw,p=u.offsetsRaw,h=u.displacementFwdRaw,m=u.displacementBwdRaw,g=u.partSegmentation,[4,toTensorBuffers3D([c,p,h,m])];case 1:return v=A.sent(),S=v[0],_=v[1],I=v[2],w=v[3],E=scaleAndFlipPoses(E=decodeMultiplePoses(S,_,I,w,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[r,o],i,d,FLIP_POSES_AFTER_SCALING),[4,decodePersonInstancePartMasks(l,f,g,E,r,o,this.baseModel.outputStride,i,d,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return T=A.sent(),s.dispose(),l.dispose(),f.dispose(),c.dispose(),p.dispose(),h.dispose(),m.dispose(),g.dispose(),[2,T]}})})},e.prototype.dispose=function(){this.baseModel.dispose()},e}();function loadMobileNet(e){return __awaiter(this,void 0,void 0,function(){var t,n,r,o,i,a;return __generator(this,function(s){switch(s.label){case 0:if(t=e.outputStride,n=e.quantBytes,r=e.multiplier,null==tf)throw new Error(\"Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this\\n        model.\");return o=mobileNetSavedModel(t,r,n),[4,loadGraphModel(e.modelUrl||o)];case 1:return i=s.sent(),a=new MobileNet(i,t),[2,new BodyPix(a)]}})})}function loadResNet(e){return __awaiter(this,void 0,void 0,function(){var t,n,r,o,i;return __generator(this,function(a){switch(a.label){case 0:if(t=e.outputStride,n=e.quantBytes,null==tf)throw new Error(\"Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this\\n        model.\");return r=resNet50SavedModel(t,n),[4,loadGraphModel(e.modelUrl||r)];case 1:return o=a.sent(),i=new ResNet(o,t),[2,new BodyPix(i)]}})})}function load(e){return void 0===e&&(e=MOBILENET_V1_CONFIG),__awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return\"ResNet50\"===(e=validateModelConfig(e)).architecture?[2,loadResNet(e)]:\"MobileNetV1\"===e.architecture?[2,loadMobileNet(e)]:[2,null]})})}function cpuBlur(e,t,n){for(var r=e.getContext(\"2d\"),o=0,i=1/(2*Math.PI*5*5),a=n<3?1:2,s=-n;s<=n;s+=a)for(var d=-n;d<=n;d+=a){o+=i*Math.exp(-(d*d+s*s)/50)}for(s=-n;s<=n;s+=a)for(d=-n;d<=n;d+=a)r.globalAlpha=i*Math.exp(-(d*d+s*s)/50)/o*n,r.drawImage(t,d,s);r.globalAlpha=1}var offScreenCanvases={};function isSafari(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function assertSameDimensions(e,t,n,r){var o=e.width,i=e.height,a=t.width,s=t.height;if(o!==a||i!==s)throw new Error(\"error: dimensions must match. \"+n+\" has dimensions \"+o+\"x\"+i+\", \"+r+\" has dimensions \"+a+\"x\"+s)}function flipCanvasHorizontal(e){var t=e.getContext(\"2d\");t.scale(-1,1),t.translate(-e.width,0)}function drawWithCompositing(e,t,n){e.globalCompositeOperation=n,e.drawImage(t,0,0)}function createOffScreenCanvas(){if(\"undefined\"!=typeof document)return document.createElement(\"canvas\");if(\"undefined\"!=typeof OffscreenCanvas)return new OffscreenCanvas(0,0);throw new Error(\"Cannot create a canvas in this context\")}function ensureOffscreenCanvasCreated(e){return offScreenCanvases[e]||(offScreenCanvases[e]=createOffScreenCanvas()),offScreenCanvases[e]}function drawAndBlurImageOnCanvas(e,t,n){var r=e.height,o=e.width,i=n.getContext(\"2d\");n.width=o,n.height=r,i.clearRect(0,0,o,r),i.save(),isSafari()?cpuBlur(n,e,t):(i.filter=\"blur(\"+t+\"px)\",i.drawImage(e,0,0,o,r)),i.restore()}function drawAndBlurImageOnOffScreenCanvas(e,t,n){var r=ensureOffscreenCanvasCreated(n);return 0===t?renderImageToCanvas(e,r):drawAndBlurImageOnCanvas(e,t,r),r}function renderImageToCanvas(e,t){var n=e.width,r=e.height;t.width=n,t.height=r,t.getContext(\"2d\").drawImage(e,0,0,n,r)}function renderImageDataToCanvas(e,t){t.width=e.width,t.height=e.height,t.getContext(\"2d\").putImageData(e,0,0)}function renderImageDataToOffScreenCanvas(e,t){var n=ensureOffscreenCanvasCreated(t);return renderImageDataToCanvas(e,n),n}function toMask(e,t,n,r,o){if(void 0===t&&(t={r:0,g:0,b:0,a:0}),void 0===n&&(n={r:0,g:0,b:0,a:255}),void 0===r&&(r=!1),void 0===o&&(o=[1]),Array.isArray(e)&&0===e.length)return null;var i,a=(i=Array.isArray(e)?e:[e])[0],s=a.width,d=a.height,u=new Uint8ClampedArray(s*d*4);function l(e,t,n,r,o,i){void 0===i&&(i={r:0,g:255,b:255,a:255});for(var a=-o;a<=o;a++)for(var s=-o;s<=o;s++)if(0!==a&&0!==s){var d=(t+a)*r+(n+s);e[4*d+0]=i.r,e[4*d+1]=i.g,e[4*d+2]=i.b,e[4*d+3]=i.a}}function f(e,t,n,r,o,i){void 0===o&&(o=[1]),void 0===i&&(i=1);for(var a=0,s=-i;s<=i;s++)for(var d=function(i){if(0!==s&&0!==i){var d=(t+s)*r+(n+i);o.some(function(t){return t===e[d]})||(a+=1)}},u=-i;u<=i;u++)d(u);return a>0}for(var c=0;c<d;c+=1)for(var p=function(e){var a=c*s+e;u[4*a+0]=n.r,u[4*a+1]=n.g,u[4*a+2]=n.b,u[4*a+3]=n.a;for(var p=function(n){if(o.some(function(e){return e===i[n].data[a]})){u[4*a]=t.r,u[4*a+1]=t.g,u[4*a+2]=t.b,u[4*a+3]=t.a;var p=f(i[n].data,c,e,s,o);r&&c-1>=0&&c+1<d&&e-1>=0&&e+1<s&&p&&l(u,c,e,s,1)}},h=0;h<i.length;h++)p(h)},h=0;h<s;h+=1)p(h);return new ImageData(u,s,d)}var RAINBOW_PART_COLORS=[[110,64,170],[143,61,178],[178,60,178],[210,62,167],[238,67,149],[255,78,125],[255,94,99],[255,115,75],[255,140,56],[239,167,47],[217,194,49],[194,219,64],[175,240,91],[135,245,87],[96,247,96],[64,243,115],[40,234,141],[28,219,169],[26,199,194],[33,176,213],[47,150,224],[65,125,224],[84,101,214],[99,81,195]];function toColoredPartMask(e,t){if(void 0===t&&(t=RAINBOW_PART_COLORS),Array.isArray(e)&&0===e.length)return null;for(var n,r=(n=Array.isArray(e)?e:[e])[0],o=r.width,i=r.height,a=new Uint8ClampedArray(o*i*4),s=0;s<i*o;++s){var d=4*s;a[d+0]=255,a[d+1]=255,a[d+2]=255,a[d+3]=255;for(var u=0;u<n.length;u++){var l=n[u].data[s];if(-1!==l){var f=t[l];if(!f)throw new Error(\"No color could be found for part id \"+l);a[d+0]=f[0],a[d+1]=f[1],a[d+2]=f[2],a[d+3]=255}}}return new ImageData(a,o,i)}var CANVAS_NAMES={blurred:\"blurred\",blurredMask:\"blurred-mask\",mask:\"mask\",lowresPartMask:\"lowres-part-mask\"};function drawMask(e,t,n,r,o,i){void 0===r&&(r=.7),void 0===o&&(o=0),void 0===i&&(i=!1);var a=getInputSize(t),s=a[0],d=a[1];e.width=d,e.height=s;var u=e.getContext(\"2d\");if(u.save(),i&&flipCanvasHorizontal(e),u.drawImage(t,0,0),u.globalAlpha=r,n){assertSameDimensions({width:d,height:s},n,\"image\",\"mask\");var l=drawAndBlurImageOnOffScreenCanvas(renderImageDataToOffScreenCanvas(n,CANVAS_NAMES.mask),o,CANVAS_NAMES.blurredMask);u.drawImage(l,0,0,d,s)}u.restore()}function drawPixelatedMask(e,t,n,r,o,i,a){void 0===r&&(r=.7),void 0===o&&(o=0),void 0===i&&(i=!1),void 0===a&&(a=10);var s=getInputSize(t),d=s[0];assertSameDimensions({width:s[1],height:d},n,\"image\",\"mask\");var u=drawAndBlurImageOnOffScreenCanvas(renderImageDataToOffScreenCanvas(n,CANVAS_NAMES.mask),o,CANVAS_NAMES.blurredMask);e.width=u.width,e.height=u.height;var l=e.getContext(\"2d\");l.save(),i&&flipCanvasHorizontal(e);var f=ensureOffscreenCanvasCreated(CANVAS_NAMES.lowresPartMask),c=f.getContext(\"2d\");f.width=u.width*(1/a),f.height=u.height*(1/a),c.drawImage(u,0,0,u.width,u.height,0,0,f.width,f.height),l.imageSmoothingEnabled=!1,l.drawImage(f,0,0,f.width,f.height,0,0,e.width,e.height);for(var p=0;p<f.width;p++)l.beginPath(),l.strokeStyle=\"#ffffff\",l.moveTo(a*p,0),l.lineTo(a*p,e.height),l.stroke();for(p=0;p<f.height;p++)l.beginPath(),l.strokeStyle=\"#ffffff\",l.moveTo(0,a*p),l.lineTo(e.width,a*p),l.stroke();l.globalAlpha=1-r,l.drawImage(t,0,0,u.width,u.height),l.restore()}function createPersonMask(e,t){var n=renderImageDataToOffScreenCanvas(toMask(e,{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:0}),CANVAS_NAMES.mask);return 0===t?n:drawAndBlurImageOnOffScreenCanvas(n,t,CANVAS_NAMES.blurredMask)}function drawBokehEffect(e,t,n,r,o,i){void 0===r&&(r=3),void 0===o&&(o=3),void 0===i&&(i=!1);var a=drawAndBlurImageOnOffScreenCanvas(t,r,CANVAS_NAMES.blurred);e.width=a.width,e.height=a.height;var s=e.getContext(\"2d\");if(Array.isArray(n)&&0===n.length)s.drawImage(a,0,0);else{var d=createPersonMask(n,o);s.save(),i&&flipCanvasHorizontal(e);var u=getInputSize(t),l=u[0],f=u[1];s.drawImage(t,0,0,f,l),drawWithCompositing(s,d,\"destination-in\"),drawWithCompositing(s,a,\"destination-over\"),s.restore()}}function createBodyPartMask(e,t,n){var r=renderImageDataToOffScreenCanvas(toMask(e,{r:0,g:0,b:0,a:0},{r:0,g:0,b:0,a:255},!0,t),CANVAS_NAMES.mask);return 0===n?r:drawAndBlurImageOnOffScreenCanvas(r,n,CANVAS_NAMES.blurredMask)}function blurBodyPart(e,t,n,r,o,i,a){void 0===r&&(r=[0,1]),void 0===o&&(o=3),void 0===i&&(i=3),void 0===a&&(a=!1);var s=drawAndBlurImageOnOffScreenCanvas(t,o,CANVAS_NAMES.blurred);e.width=s.width,e.height=s.height;var d=e.getContext(\"2d\");if(Array.isArray(n)&&0===n.length)d.drawImage(s,0,0);else{var u=createBodyPartMask(n,r,i);d.save(),a&&flipCanvasHorizontal(e);var l=getInputSize(t),f=l[0],c=l[1];d.drawImage(t,0,0,c,f),drawWithCompositing(d,u,\"destination-in\"),drawWithCompositing(d,s,\"destination-over\"),d.restore()}}var PART_CHANNELS=[\"left_face\",\"right_face\",\"left_upper_arm_front\",\"left_upper_arm_back\",\"right_upper_arm_front\",\"right_upper_arm_back\",\"left_lower_arm_front\",\"left_lower_arm_back\",\"right_lower_arm_front\",\"right_lower_arm_back\",\"left_hand\",\"right_hand\",\"torso_front\",\"torso_back\",\"left_upper_leg_front\",\"left_upper_leg_back\",\"right_upper_leg_front\",\"right_upper_leg_back\",\"left_lower_leg_front\",\"left_lower_leg_back\",\"right_lower_leg_front\",\"right_lower_leg_back\",\"left_feet\",\"right_feet\"],version=\"2.2.0\";export{BodyPix,load,blurBodyPart,drawBokehEffect,drawMask,drawPixelatedMask,toColoredPartMask,toMask,PART_CHANNELS,flipPoseHorizontal,resizeAndPadTo,scaleAndCropToInputTensorShape,version};\n//# sourceMappingURL=body-pix.esm.js.map\n"],"names":["extendStatics","e","t","Object","setPrototypeOf","__proto__","Array","n","hasOwnProperty","__extends","this","constructor","prototype","create","__assign","assign","r","arguments","length","o","call","apply","__awaiter","Promise","i","a","d","next","s","throw","done","value","then","__generator","label","sent","trys","ops","return","Symbol","iterator","TypeError","pop","push","toFlattenedOneHotPartMap","shape","argMax","reshape","oneHot","toMaskTensor","tidy","cast","greater","scalar","decodePartSegmentation","expandDims","range","matMul","u","add","sub","mul","clipByMask2d","decodeOnlyPartSegmentation","BaseModel","model","outputStride","inputs","util","predict","preprocessInput","map","squeeze","nameOutputResults","heatmapScores","sigmoid","heatmap","offsets","displacementFwd","displacementBwd","segmentation","partHeatmaps","longOffsets","partOffsets","dispose","MobileNet","div","PART_NAMES","NUM_KEYPOINTS","PART_IDS","reduce","getScale","top","bottom","left","right","getOffsetPoint","y","get","x","getImageCoords","heatmapY","heatmapX","id","clamp","addVectors","computeDistance","keypoints","score","Math","pow","position","getEmbedding","l","f","c","p","h","m","min","g","v","matchEmbeddingToInstance","round","convertToPositionInOuput","S","_","I","w","E","T","getOutputResolution","decodeMultipleMasksWebGl","slice","Float32Array","fill","N","A","O","P","M","R","tensor","b","C","variableNames","outputShape","userCode","backend","compileAndRun","isWebGlBackend","getBackend","decodePersonInstanceMasks","filter","engine","makeTensorFromDataId","dataId","dtype","equal","toPersonKSegmentation","all","data","forEach","Uint8Array","decodeMultipleMasksCPU","pose","width","height","decodePersonInstancePartMasks","toPersonKPartSegmentation","Int32Array","decodeMultiplePartMasksCPU","half","floor","MaxHeap","priorityQueue","numberOfElements","getElementValue","enqueue","swim","dequeue","exchange","sink","empty","size","max","less","getValueAt","scoreIsMaximumInLocalWindow","parentChildrenTuples","parentToChildEdges","childToParentEdges","getStridedIndexNearPoint","traverseToTargetKeypoint","getDisplacement","part","decodePose","withinNmsRadiusOfCorrespondingPoint","some","squaredDistance","getInstanceScore","decodeMultiplePoses","buildPartWithScoreQueue","_a","imageNetMean","ResNet","RESNET50_BASE_URL","MOBILENET_BASE_URL","getInputSize","HTMLCanvasElement","OffscreenCanvas","HTMLImageElement","offsetHeight","offsetWidth","Error","getSizeFromImageLikeElement","ImageData","HTMLVideoElement","hasAttribute","videoHeight","videoWidth","getSizeFromVideoElement","Tensor","toValidInputResolution","isValidInputResolution","INTERNAL_RESOLUTION_STRING_OPTIONS","low","medium","high","full","INTERNAL_RESOLUTION_PERCENTAGES","toInputResolutionHeightAndWidth","values","join","toInternalResolutionPercentage","scaleAndCropToInputTensorShape","image","resizeBilinear","cropAndResize","removePaddingAndResizeBack","padAndResizeTo","resized","browser","toInputTensor","pad3d","padding","toTensorBuffers3D","buffer","scaleAndFlipPoses","scalePose","scalePoses","flipPoseHorizontal","flipPosesHorizontal","APPLY_SIGMOID_ACTIVATION","FLIP_POSES_AFTER_SCALING","MOBILENET_V1_CONFIG","architecture","quantBytes","multiplier","VALID_ARCHITECTURE","VALID_STRIDE","MobileNetV1","ResNet50","VALID_MULTIPLIER","VALID_QUANT_BYTES","PERSON_INFERENCE_CONFIG","flipHorizontal","internalResolution","segmentationThreshold","maxDetections","scoreThreshold","nmsRadius","MULTI_PERSON_INSTANCE_INFERENCE_CONFIG","minKeypointScore","refineSteps","validatePersonInferenceConfig","validateMultiPersonInstanceInferenceConfig","BodyPix","baseModel","predictForPersonSegmentation","segmentLogits","predictForPersonSegmentationAndPart","partHeatmapLogits","predictForMultiPersonInstanceSegmentationAndPart","segmentPersonActivation","internalResolutionHeightAndWidth","segmentPerson","allPoses","segmentMultiPerson","heatmapScoresRaw","offsetsRaw","displacementFwdRaw","displacementBwdRaw","segmentPersonPartsActivation","partSegmentation","segmentPersonParts","segmentMultiPersonParts","loadMobileNet","mobileNetSavedModel","modelUrl","loadResNet","resNet50SavedModel","load","indexOf","validateModelConfig"],"sourceRoot":""}