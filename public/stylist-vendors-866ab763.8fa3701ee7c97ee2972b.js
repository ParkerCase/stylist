"use strict";(self.webpackChunkStylistWidget=self.webpackChunkStylistWidget||[]).push([[9936],{9917:function(t,n,e){e.d(n,{o:function(){return i}});var r=e(54390);function i(t,n,e,i=console.log){const a=function(t){let n=!0;const e=[],r=[];for(const i in t.nodesByDepth)e.push(t.nodesByDepth[i]);for(const i of e){if(i.length>1||1===i.length&&i[0].inboundLayers.length>1){n=!1;break}r.push(...i)}if(n)for(const i of t.layers){let t=!1;for(const e of i.inboundNodes)if(-1!==r.indexOf(e)){if(t){n=!1;break}t=!0}if(!n)break}return n}(t),l=["Layer (type)","Output shape","Param #"];let c;if(a?(n=n||65,e=e||[.45,.85,1]):(n=n||98,e=e||[.33,.55,.67,1]),e[e.length-1]<=1&&(e=e.map((t=>Math.floor(n*t)))),!a){l.push("Receives inputs"),c=[];for(const n in t.nodesByDepth)c.push(...t.nodesByDepth[n])}i("_".repeat(n)),o(l,e,i),i("=".repeat(n));const f=t.layers;for(let r=0;r<f.length;++r)a?s(f[r],e,i):u(f[r],e,c,i),i((r===f.length-1?"=":"_").repeat(n));t.checkTrainableWeightsConsistency();const h=function(t){let n;n=null!=t.collectedTrainableWeights?(0,r.Y)(t.collectedTrainableWeights):(0,r.Y)(t.trainableWeights);return n}(t),d=(0,r.Y)(t.nonTrainableWeights);i(`Total params: ${h+d}`),i(`Trainable params: ${h}`),i(`Non-trainable params: ${d}`),i("_".repeat(n))}function o(t,n,e=console.log){let r="";for(let i=0;i<t.length;++i)i>0&&(r=r.slice(0,r.length-1)+" "),r+=t[i],r=r.slice(0,n[i]),r+=" ".repeat(n[i]-r.length);e(r)}function s(t,n,e){let r;try{r=JSON.stringify(t.outputShape)}catch(i){r="multiple"}o([`${t.name} (${t.getClassName()})`,r,t.countParams().toString()],n,e)}function u(t,n,e,r){let i;try{i=JSON.stringify(t.outputShape)}catch(c){i="multiple"}const s=[];for(const o of t.inboundNodes)if(!(null!=e&&e.length>0&&-1===e.indexOf(o)))for(let t=0;t<o.inboundLayers.length;++t){const n=o.inboundLayers[t].name,e=o.nodeIndices[t],r=o.tensorIndices[t];s.push(`${n}[${e}][${r}]`)}const u=t.name,a=t.getClassName(),l=0===s.length?"":s[0];o([`${u} (${a})`,i,t.countParams().toString(),l],n,r);for(let f=1;f<s.length;++f)o(["","","",s[f]],n,r)}},13976:function(t,n,e){var r=e(9495),i=e(91686),o=e(78825),s=e(79730),u=e(71837),a=e(15841),l=e(55795),c=e(44813),f=(e(91928),e(63057));class h extends u.Gw{constructor(t){if(super({inputs:[],outputs:[]}),t=t||{},this.trainable=!0,this.built=!1,this.name=null!=t.name?t.name:(0,i.v)("sequential_"),null!=t.layers)for(const n of t.layers)this.add(n)}checkShape(t){if(t.inboundNodes[0].outputTensors[0].shape.some((t=>t<0)))throw new a.Qp(`Negative dimension size caused by adding layer ${t.name} with input shape [${t.inboundNodes[0].inputTensors[0].shape}]`)}add(t){const n=t instanceof h||t instanceof u.Gw;let e;if(n){if(e=t,1!==e.outputs.length)throw new a.Qp("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==e.inputs.length)throw new a.Qp("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===t.inboundNodes.length){if(null==t.batchInputShape)throw new a.Qp("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const n=(0,o.p)({batchShape:t.batchInputShape,dtype:t.dtype,name:t.name+"_input"});t.apply(n)}if(n)this.outputs=e.outputs,this.inputs=e.inputs;else{if(1!==t.inboundNodes.length)throw new a.Qp(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${t.name} which has ${t.inboundNodes.length} pre-existing inbound connections.`);if(1!==t.inboundNodes[0].outputTensors.length)throw new a.Qp("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[t.inboundNodes[0].outputTensors[0]],this.inputs=(0,s.X6)(this.outputs[0])}this.inboundNodes=[],new s.bP({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:c.fD(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((t=>t.shape)),outputShapes:this.outputs[0].shape})}else{const n=t.apply(this.outputs[0]);if(Array.isArray(n))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[n],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(t),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const t=this.layers.length-1;this.layers[t].outboundNodes=[],this.outputs=[this.layers[t].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(t,n){return null==this.model&&this.build(),this.model.call(t,n)}build(t){if((0,f.U$)(t),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new u.Gw({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(t,n,e=console.log){this.built||this.build(),super.summary(t,n,e)}setWeights(t){null==this.model&&this.build(),this.model.setWeights(t)}evaluate(t,n,e={}){if(!this.built)throw new a.bu("The model needs to be compiled before being used.");return this.model.evaluate(t,n,e)}async evaluateDataset(t,n){if(!this.built)throw new a.bu("The model needs to be compiled before being used.");return this.model.evaluateDataset(t,n)}predict(t,n={}){return null==this.model&&this.build(),this.model.predict(t,n)}predictOnBatch(t){return null==this.model&&this.build(),this.model.predictOnBatch(t)}compile(t){this.build(),this.model.compile(t),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(t){this.model.optimizer=t}async fit(t,n,e={}){if(!this.built)throw new a.bu("The model needs to be compiled before being used.");return this.model.fit(t,n,e)}async fitDataset(t,n){if(!this.built)throw new a.bu("The model needs to be compiled before being used.");return this.model.fitDataset(t,n)}async trainOnBatch(t,n){return this.model.trainOnBatch(t,n)}static fromConfig(t,n,e={},i=!1){let o,s={};if(n instanceof Array){if(null==n[0].className||"Merge"===n[0].className)throw new a.Qp("Legacy serialization format not supported yet.");o=n}else r.util.assert(null!=n.layers,(()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field.")),o=n.layers,delete n.layers,s=n;const u=new t(s);if(!(u instanceof h))throw new a.EH(`Sequential.fromConfig called on non-Sequential input: ${u}`);for(const r of o){const t=void 0,n=(0,l.i)(r,t,i);i&&n.setFastWeightInitDuringBuild(!0),u.add(n)}return u}set stopTraining(t){if(null==this.model)throw new a.Qp("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=t}get stopTraining(){if(null==this.model)throw new a.Qp("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const t=[];for(const n of this.layers){const e={};e.className=n.getClassName(),e.config=n.getConfig(),t.push(e)}return{name:this.name,layers:t}}}h.className="Sequential",r.serialization.registerClass(h)},19888:function(t,n,e){t.exports=e(58493)},22162:function(t,n,e){var r=e(96540),i=e(19888);var o="function"===typeof Object.is?Object.is:function(t,n){return t===n&&(0!==t||1/t===1/n)||t!==t&&n!==n},s=i.useSyncExternalStore,u=r.useRef,a=r.useEffect,l=r.useMemo,c=r.useDebugValue;n.useSyncExternalStoreWithSelector=function(t,n,e,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=l((function(){function t(t){if(!a){if(a=!0,s=t,t=r(t),void 0!==i&&h.hasValue){var n=h.value;if(i(n,t))return u=n}return u=t}if(n=u,o(s,t))return n;var e=r(t);return void 0!==i&&i(n,e)?(s=t,n):(s=t,u=e)}var s,u,a=!1,l=void 0===e?null:e;return[function(){return t(n())},null===l?void 0:function(){return t(l())}]}),[n,e,r,i]);var d=s(t,f[0],f[1]);return a((function(){h.hasValue=!0,h.value=d}),[d]),c(d),d}},27430:function(t,n,e){e.d(n,{K:function(){return s}});var r=e(9495),i=e(6090),o=e(15841);function s(t){const n={Adagrad:()=>r.train.adagrad(.01),Adadelta:()=>r.train.adadelta(1,.95,(0,i.Ni)()),Adam:()=>r.train.adam(.001,.9,.999,(0,i.Ni)()),Adamax:()=>r.train.adamax(.002,.9,.999,(0,i.Ni)(),0),RMSProp:()=>r.train.rmsprop(.001,.9,0,(0,i.Ni)()),SGD:()=>r.train.sgd(.01)};if(n.adagrad=n.Adagrad,n.adadelta=n.Adadelta,n.adam=n.Adam,n.adamax=n.Adamax,n.rmsprop=n.RMSProp,n.sgd=n.SGD,t in n)return n[t]();throw new o.Qp(`Unknown Optimizer ${t}`)}},35137:function(t,n,e){e.d(n,{_K2:function(){return r.env},goy:function(){return r.findBackend},jz4:function(){return r.getBackend},Gc4:function(){return r.ready},jh6:function(){return r.setBackend},tGX:function(){return r.tensor1d}});var r=e(9495),i=(e(71888),e(83211),e(69808)),o=e(65576),s=e(84510),u=e(49220),a=e(35679);r.version_core,u.Um,a.$p,s.iS,i.u$,o.uW},37937:function(t,n,e){e.d(n,{GT:function(){return $},Jc:function(){return f},Jt:function(){return A},Ol:function(){return w},qp:function(){return N},qv:function(){return h},xM:function(){return a},yP:function(){return l}});var r=e(9495),i=e(47661),o=e(15841),s=e(48981),u=e(44813);function a(t,n){return(0,r.tidy)((()=>{const e=r.mul(.5,r.onesLike(n)),o=i.wg(r.greater(n,e),t.dtype);return r.mean(r.equal(t,o),-1)}))}function l(t,n){return(0,r.tidy)((()=>i.wg(r.equal(r.argMax(t,-1),r.argMax(n,-1)),"float32")))}function c(t,n){return(0,r.tidy)((()=>r.logicalAnd(t.equal(1),n.equal(1)).sum().cast("float32")))}function f(t,n){return(0,s.Jc)(t,n)}function h(t,n){return t.rank===n.rank&&(t=t.squeeze([t.rank-1])),(n=n.argMax(-1)).dtype!==t.dtype&&(n=n.asType(t.dtype)),r.equal(t,n).asType("float32")}const d=s.bt,p=s.bt,m=s.Xv,y=s.Xv,g=s.VW,b=s.VW,w=s.Ol,v=s.Pg,N=s.qp,S={binaryAccuracy:a,categoricalAccuracy:l,precision:function(t,n){return(0,r.tidy)((()=>{const e=c(t,n),i=function(t,n){return(0,r.tidy)((()=>r.logicalAnd(t.equal(0),n.equal(1)).sum().cast("float32")))}(t,n),o=e.add(i);return r.where(r.greater(o,0),e.div(o),0).cast("float32")}))},categoricalCrossentropy:w,sparseCategoricalCrossentropy:N,mse:d,MSE:p,mae:m,MAE:y,mape:g,MAPE:b,cosine:v};function A(t){if("string"===typeof t&&t in S)return S[t];if("string"!==typeof t&&null!=t)return t;throw new o.Qp(`Unknown metric ${t}`)}function $(t){if(u.vA(null!==t,`Unknown LossOrMetricFn ${t}`),"string"===typeof t)return t;{let n;for(const e of Object.keys(s.SO))if(s.SO[e]===t){n=e;break}if(void 0!==n)return n;for(const e of Object.keys(S))if(S[e]===t){n=e;break}return void 0!==n?n:t.name}}},44813:function(t,n,e){e.d(n,{Am:function(){return g},Cb:function(){return f},Cd:function(){return $},E6:function(){return w},HP:function(){return v},U9:function(){return u},Xv:function(){return m},ZF:function(){return b},fD:function(){return o},k4:function(){return d},oo:function(){return N},sg:function(){return A},st:function(){return l},th:function(){return y},uc:function(){return c},vA:function(){return s},wL:function(){return a}});var r=e(9495),i=e(15841);function o(t,n){if(Array.isArray(t)){let e=[];for(let r=0;r<n;r++)e=e.concat(t);return e}{const e=new Array(n);return e.fill(t),e}}function s(t,n){if(!t)throw new i.pf(n)}function u(t,n){let e=0;for(const r of t)r===n&&e++;return e}function a(t){return 1===t.length?t[0]:t}function l(t){return Array.isArray(t)?t:[t]}function c(t){const n=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==n[0]?n:"private"+n}function f(t){return t.length<=1||-1===t.indexOf("_")?t:t.replace(/[_]+(\w|$)/g,((t,n)=>n.toUpperCase()))}let h={};function d(t){if(null===t||void 0===t)return null;const n={};return n.className=t.getClassName(),n.config=t.getConfig(),n}function p(t){if(null!=t&&"object"===typeof t)if(Array.isArray(t))t.forEach((t=>p(t)));else{const n=Object.keys(t);for(const e of n){const n=t[e];null!=n&&"object"===typeof n&&(Array.isArray(n)||"ndarray"!==n.type||"number"!==typeof n.value?p(n):t[e]=n.value)}}}function m(t,n={},e={},r="object",o=!1){if("string"===typeof t){const o=t;let s;if(o in e)s=e[o];else if(o in h)s=h[o];else if(s=n[o],null==s)throw new i.Qp(`Unknown ${r}: ${t}. This may be due to one of the following reasons:\n1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return s}{const s=t;if(null==s.className||null==s.config)throw new i.Qp(`${r}: Improper config format: ${JSON.stringify(s)}.\n'className' and 'config' must set.`);const u=s.className;let a,l;if(u in e?[a,l]=e[u]:u in h?[a,l]=h.className:u in n&&([a,l]=n[u]),null==a)throw new i.Qp(`Unknown ${r}: ${u}. This may be due to one of the following reasons:\n1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(null!=l){const t={};for(const e of Object.keys(h))t[e]=h[e];for(const i of Object.keys(e))t[i]=e[i];s.config.customObjects=t;const n=Object.assign({},h);for(const i of Object.keys(e))h[i]=e[i];p(s.config);const r=l(a,s.config,e,o);return h=Object.assign({},n),r}{const t=Object.assign({},h);for(const r of Object.keys(e))h[r]=e[r];const n=new a(s.config);return h=Object.assign({},t),n}}}function y(t,n){return-1*function(t,n){return t<n?-1:t>n?1:0}(t,n)}function g(t){if(null==t)return t;const n=[];for(const e of t)-1===n.indexOf(e)&&n.push(e);return n}function b(t){if(null==t)throw new i.Qp(`Invalid value in obj: ${JSON.stringify(t)}`);for(const n in t)if(t.hasOwnProperty(n))return!1;return!0}function w(t,n,e){if(null!=e&&t.indexOf(e)<0)throw new i.Qp(`${e} is not a valid ${n}.  Valid values are ${t} or null/undefined.`)}function v(t,n,e=0,r=1/0){return s(e>=0),s(r>=e),Array.isArray(t)&&t.length>=e&&t.length<=r&&t.every((t=>typeof t===n))}function N(t,n){Array.isArray(t)?(r.util.assert(t.length>0,(()=>`${n} is unexpectedly an empty array.`)),t.forEach(((t,e)=>N(t,`element ${e+1} of ${n}`)))):r.util.assert(Number.isInteger(t)&&t>0,(()=>`Expected ${n} to be a positive integer, but got ${S(t)}.`))}function S(t){return null===t?"null":Array.isArray(t)?"["+t.map((t=>S(t))).join(",")+"]":"string"===typeof t?`"${t}"`:`${t}`}function A(t,n){let e,i=r.util.now();return(...o)=>{const s=r.util.now();return s-i<n||(i=s,e=t(...o)),e}}function $(t){return"relu"===t?"relu":"linear"===t?"linear":"elu"===t?"elu":null}},48981:function(t,n,e){e.d(n,{Jc:function(){return p},Jt:function(){return b},Ol:function(){return h},Pg:function(){return y},SO:function(){return g},VW:function(){return c},Xv:function(){return l},Yq:function(){return u},bt:function(){return a},qp:function(){return d}});var r=e(9495),i=e(6090),o=e(47661),s=e(15841);function u(t,n){return(0,r.tidy)((()=>{"float32"!==t.dtype&&(t=t.asType("float32"));const e=r.sum(o.Ew(t),n,!0),s=r.fill(e.shape,(0,i.Ni)()),u=r.sqrt(r.maximum(e,s));return r.div(t,u)}))}function a(t,n){return(0,r.tidy)((()=>r.mean(o.Ew(r.sub(n,t)),-1)))}function l(t,n){return(0,r.tidy)((()=>r.mean(r.abs(r.sub(n,t)),-1)))}function c(t,n){return(0,r.tidy)((()=>{const e=r.sub(t,n),o=r.clipByValue(r.abs(t),(0,i.Ni)(),Number.MAX_VALUE),s=r.abs(r.div(e,o));return r.mul(100,r.mean(s,-1))}))}function f(t,n){return(0,r.tidy)((()=>{const e=r.clipByValue(n,(0,i.Ni)(),Number.MAX_VALUE),s=r.log(r.add(1,e)),u=r.clipByValue(t,(0,i.Ni)(),Number.MAX_VALUE),a=r.log(r.add(1,u));return r.mean(o.Ew(r.sub(s,a)),-1)}))}function h(t,n,e=!1){return(0,r.tidy)((()=>{if(e)n=r.softmax(n);else{const t=r.sum(n,n.shape.length-1,!0);n=r.div(n,t)}return n=r.clipByValue(n,(0,i.Ni)(),1-(0,i.Ni)()),r.neg(r.sum(r.mul(t.toFloat(),r.log(n)),n.shape.length-1))}))}function d(t,n,e=!1){return(0,r.tidy)((()=>{const s=r.floor(o.Bq(t)).toInt(),u=(n=r.clipByValue(n,(0,i.Ni)(),1-(0,i.Ni)())).shape;return h(r.oneHot(s,u[u.length-1]).reshape(u),n,e)}))}function p(t,n){return(0,r.tidy)((()=>{let e;return e=r.clipByValue(n,(0,i.Ni)(),1-(0,i.Ni)()),e=r.log(r.div(e,r.sub(1,e))),r.mean(function(t,n){if(!r.util.arraysEqual(t.shape,n.shape))throw new s.Qp(`logits and labels must have the same shape, but got shapes ${JSON.stringify(t.shape)} and ${JSON.stringify(n.shape)}`);return(0,r.tidy)((()=>{const e=n.relu(),r=n.abs().neg();return e.sub(n.mul(t)).add(r.exp().log1p())}))}(t,e),-1)}))}function m(t,n){return(0,r.tidy)((()=>{const e=r.clipByValue(t,(0,i.Ni)(),1),o=r.clipByValue(n,(0,i.Ni)(),1);return r.sum(r.mul(t,r.log(r.div(e,o))),-1)}))}function y(t,n){return(0,r.tidy)((()=>{const e=u(t,-1),i=u(n,-1),o=r.mul(e,i);return r.neg(r.sum(o,-1))}))}const g={meanSquaredError:a,meanAbsoluteError:l,meanAbsolutePercentageError:c,meanSquaredLogarithmicError:f,squaredHinge:function(t,n){return(0,r.tidy)((()=>{const e=r.maximum(0,r.sub(1,r.mul(t,n)));return r.mean(o.Ew(e),-1)}))},hinge:function(t,n){return(0,r.tidy)((()=>{const e=r.maximum(0,r.sub(1,r.mul(t,n)));return r.mean(e,-1)}))},categoricalHinge:function(t,n){return(0,r.tidy)((()=>{const e=r.sum(r.mul(t,n),-1),i=r.max(r.mul(r.sub(1,t),n),-1);return r.maximum(0,r.add(1,r.sub(i,e)))}))},logcosh:function(t,n){return(0,r.tidy)((()=>{const e=Math.log(2),i=r.sub(n,t),o=r.sub(r.add(i,r.softplus(r.mul(-2,i))),e);return r.mean(o,-1)}))},categoricalCrossentropy:h,sparseCategoricalCrossentropy:d,binaryCrossentropy:p,kullbackLeiblerDivergence:m,poisson:function(t,n){return(0,r.tidy)((()=>{const e=r.log(r.add((0,i.Ni)(),n));return r.mean(r.sub(n,r.mul(t,e)),-1)}))},cosineProximity:y};function b(t){if("string"===typeof t){if(t in g)return g[t];let n=`Unknown loss ${t}`;throw t.toLowerCase().includes("softmaxcrossentropy")&&(n=`Unknown loss ${t}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new s.Qp(n)}return t}},52700:function(t,n,e){e.d(n,{r:function(){return r}});const r="3.6.0"},54390:function(t,n,e){function r(t){let n=0;for(const e of t)0===e.shape.length?n+=1:n+=e.shape.reduce(((t,n)=>t*n));return n}e.d(n,{Y:function(){return r}})},58493:function(t,n,e){var r=e(96540);var i="function"===typeof Object.is?Object.is:function(t,n){return t===n&&(0!==t||1/t===1/n)||t!==t&&n!==n},o=r.useState,s=r.useEffect,u=r.useLayoutEffect,a=r.useDebugValue;function l(t){var n=t.getSnapshot;t=t.value;try{var e=n();return!i(t,e)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(t,n){return n()}:function(t,n){var e=n(),r=o({inst:{value:e,getSnapshot:n}}),i=r[0].inst,c=r[1];return u((function(){i.value=e,i.getSnapshot=n,l(i)&&c({inst:i})}),[t,e,n]),s((function(){return l(i)&&c({inst:i}),t((function(){l(i)&&c({inst:i})}))}),[t]),a(e),e};n.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},63057:function(t,n,e){e.d(n,{FS:function(){return o},TT:function(){return i},U$:function(){return u},un:function(){return s}});var r=e(15841);function i(t){return Array.isArray(t)&&Array.isArray(t[0])}function o(t){return 0===t.length?[]:Array.isArray(t[0])?t:[t]}function s(t){let n;if(Array.isArray(t)){if(1!==t.length)throw new r.Qp(`Expected Tensor length to be 1; got ${t.length}`);n=t[0]}else n=t;return n}function u(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(1===t.length)return t[0];throw new r.Qp(`Expected exactly 1 Shape; got ${t.length}`)}return t}},69184:function(t,n,e){e.d(n,{J:function(){return s},Ol:function(){return u},mW:function(){return a}});var r=e(15841),i=e(44813),o=e(73072);function s(t,n,e){if("number"===typeof t)return(0,i.fD)(t,n);if(t.length!==n)throw new r.Qp(`The ${e} argument must be an integer or tuple of ${n} integers. Received: ${t.length} elements.`);for(let i=0;i<n;++i){const s=t[i];if(!(0,o.Fq)(s))throw new r.Qp(`The ${e} argument must be an integer or tuple of ${n} integers. Received: ${JSON.stringify(t)} including a non-integer number ${s}`)}return t}function u(t,n,e,r,i=1){if(null==t)return t;let o;return o="same"===e?t:t-(n+(n-1)*(i-1))+1,Math.floor((o+r-1)/r)}function a(t,n,e,i){if(null==t)return null;if("valid"===i)t=t*n+(0,o.T9)([e-n,0]);else{if("same"!==i)throw new r.Qp(`Unsupport padding mode: ${i}.`);t*=n}return t}},69242:function(t,n,e){t.exports=e(22162)},71765:function(t,n,e){e.d(n,{UM:function(){return l},eR:function(){return u},ex:function(){return a}});var r=e(9495),i=e(91686),o=e(39459);e(15841);const s="Variable";class u{constructor(t,n="float32",e=s,u=!0,a=null){this.dtype=null==n?"float32":n,this.shape=t.shape,this.id=(0,i.j)(),e=null==e?s:e,this.originalName=(0,o.BC)(e),this.name=(0,o.Uc)(this.originalName),this.trainable_=u,this.constraint=a,this.val=r.variable(t,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(t){return this.assertNotDisposed(),function(t,n){if(t.shape.toString()!==n.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(n.shape))}(this.val,t),this.val.id!==t.id&&(this.val.assign(t),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(t){this.trainable_=t,this.val.trainable=t}}function a(t){return t.map((t=>t.read()))}function l(t){t.forEach((t=>{t[0].write(t[1])}))}},73072:function(t,n,e){e.d(n,{Fq:function(){return o},T9:function(){return l},jk:function(){return a},no:function(){return s},y1:function(){return c}});var r=e(9495),i=e(15841);function o(t){return t===parseInt(t.toString(),10)}function s(t,n,e){null==n&&(n=0),null==e&&(e=t.length);let r=1;for(let i=n;i<e;++i)r*=t[i];return r}function u(t){return t=Array.isArray(t)?new Float32Array(t):t,(0,r.tensor1d)(t)}function a(t){return r.min(u(t)).dataSync()[0]}function l(t){return r.max(u(t)).dataSync()[0]}function c(t,n){if(n<t)throw new i.Qp(`end (${n}) < begin (${t}) is forbidden.`);const e=[];for(let r=t;r<n;++r)e.push(r);return e}},84379:function(t,n,e){e.d(n,{Bm:function(){return h},R9:function(){return c}});var r=e(9495),i=e(47661),o=e(44813);function s(t){if(null!=t&&"object"!==typeof t)throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${t}`)}class u extends r.serialization.Serializable{}class a extends u{constructor(t){super(),s(t),this.l1=null==t||null==t.l1?.01:t.l1,this.l2=null==t||null==t.l2?.01:t.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(t){return(0,r.tidy)((()=>{let n=(0,r.zeros)([1]);return this.hasL1&&(n=(0,r.add)(n,(0,r.sum)(r.mul(this.l1,(0,r.abs)(t))))),this.hasL2&&(n=(0,r.add)(n,(0,r.sum)(r.mul(this.l2,i.Ew(t))))),n.asScalar()}))}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(t,n){return new t({l1:n.l1,l2:n.l2})}}a.className="L1L2",r.serialization.registerClass(a);const l={l1l2:"L1L2"};function c(t){return(0,o.k4)(t)}function f(t,n={}){return(0,o.Xv)(t,r.serialization.SerializationMap.getMap().classNameMap,n,"regularizer")}function h(t){if(null==t)return null;if("string"===typeof t){return f({className:t in l?l[t]:t,config:{}})}return t instanceof u?t:f(t)}},91928:function(t,n,e){e.d(n,{M:function(){return s},w:function(){return o}});var r=e(44813);function i(t,n,e){return("inboundNodes"===t||"outputLayers"===t||"inputLayers"===t)&&0===n&&"string"===typeof e}function o(t,n){if(null===t)return null;if("string"===typeof t)return r.Cb(t);if("number"===typeof t||"boolean"===typeof t)return t;if(t instanceof Array){const e=[],r=t.length;for(let s=0;s<r;++s){const r=t[s];i(n,s,r)?e.push(r):e.push(o(r,n))}return e}{const n={};for(const e of Object.keys(t)){const i=t[e];if("name"===e&&"string"===typeof i)n[e]=i;else{const t=r.Cb(e);n[t]=o(i,t)}}return n}}function s(t,n){if(null===t||void 0===t)return null;if("string"===typeof t)return r.uc(t);if("number"===typeof t||"boolean"===typeof t)return t;if(t instanceof Array){const e=[],r=t.length;for(let o=0;o<r;++o){const r=t[o];i(n,o,r)?e.push(r):e.push(s(r,n))}return e}{const n={};for(const e of Object.keys(t)){const i=t[e],o=r.uc(e);n[o]="name"!==e&&"className"!==e||"string"!==typeof i?s(i,e):i}return n}}},94551:function(t,n,e){e.d(n,{Yl:function(){return r}});function r(t,n,e=!1){if(null==t||"object"!==typeof t||Object.getPrototypeOf(t)!==Object.prototype||!i(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(e){JSON.stringify(t).length}}function i(t){if(null===t)return!0;if("object"===typeof t){if(Object.getPrototypeOf(t)===Object.prototype){const n=Object.keys(t);for(const e of n){if("string"!==typeof e)return!1;if(!i(t[e]))return!1}return!0}if(Array.isArray(t)){for(const n of t)if(!i(n))return!1;return!0}return!1}{const n=typeof t;return"string"===n||"number"===n||"boolean"===n}}},96681:function(t,n,e){e.d(n,{I:function(){return i},i:function(){return o}});var r=e(9495);async function i(t){if(null==t)return;const n=[],e=[],i=[];for(const r in t){const o=t[r];if("number"!==typeof o){const t=o;n.push(t.data()),e.push(r),i.push(t)}}if(n.length>0){const o=await Promise.all(n);for(let n=0;n<o.length;++n)t[e[n]]=o[n][0];(0,r.dispose)(i)}}function o(t){if(null!=t)for(const n in t){const e=t[n];"number"!==typeof e&&e.dispose()}}}}]);
//# sourceMappingURL=stylist-vendors-866ab763.8fa3701ee7c97ee2972b.js.map