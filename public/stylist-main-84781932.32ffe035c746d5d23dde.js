"use strict";(self.webpackChunkStylistWidget=self.webpackChunkStylistWidget||[]).push([[5185],{18811:function(e,t,i){i.d(t,{Jt:function(){return _},m7:function(){return I},JT:function(){return k}});var s=i(4905);const{products:r,outfits:o,categories:a,brands:n,colors:c}=s.jy,l=(e,t)=>{let i=[...e];if(t.category&&(i=i.filter((e=>e.category.toLowerCase()===t.category.toLowerCase()))),t.brands&&Array.isArray(t.brands)&&t.brands.length>0&&(i=i.filter((e=>t.brands.some((t=>e.brand.toLowerCase().includes(t.toLowerCase())))))),t.colors&&Array.isArray(t.colors)&&t.colors.length>0&&(i=i.filter((e=>e.colors.some((e=>t.colors.some((t=>e.toLowerCase().includes(t.toLowerCase())))))))),t.priceRange){const{min:e,max:s}=t.priceRange;"number"===typeof e&&(i=i.filter((t=>t.price>=e))),"number"===typeof s&&(i=i.filter((e=>e.price<=s)))}if(t.filterByRetailers&&Array.isArray(t.filterByRetailers)&&t.filterByRetailers.length>0&&(i=i.filter((e=>t.filterByRetailers.includes(e.retailerId)))),!0===t.inStock&&(i=i.filter((e=>!0===e.inStock))),t.context){const e={personal:.1,trending:.15,seasonal:.05,complete_look:.2,occasion:.1}[t.context]||0;i=i.map((t=>Object.assign(Object.assign({},t),{matchScore:Math.min(1,t.matchScore+e)})))}return i.sort(((e,t)=>t.matchScore-e.matchScore)),i};var d={getRecommendations:(e={})=>{const{userId:t="demo_user",limit:i=20,includeOutfits:s=!0}=e,a=l(r,e).slice(0,i);let n=[];if(s){const t=((e,t)=>{let i=[...e];return t.occasion&&(i=i.filter((e=>e.occasion.toLowerCase()===t.occasion.toLowerCase()))),i.sort(((e,t)=>t.matchScore-e.matchScore)),i})(o,e);n=t.slice(0,Math.min(5,o.length))}return{userId:t,timestamp:new Date,items:a,outfits:n}},getProducts:(e={})=>{const t=l(r,e),i=Number(e.page)||1,s=Number(e.limit)||20,o=(i-1)*s,a=o+s;return{products:t.slice(o,a),total:t.length}},searchProducts:(e={})=>{const{query:t="",limit:i=20}=e;if(!t)return{results:[],total:0};const s=t.trim().toLowerCase(),o=r.filter((e=>e.name.toLowerCase().includes(s)||e.brand.toLowerCase().includes(s)||e.category.toLowerCase().includes(s)||e.colors&&e.colors.some((e=>e.toLowerCase().includes(s)))));o.sort(((e,t)=>{const i=e.name.toLowerCase()===s?3:e.name.toLowerCase().startsWith(s)?2:e.name.toLowerCase().includes(s)?1:0;return(t.name.toLowerCase()===s?3:t.name.toLowerCase().startsWith(s)?2:t.name.toLowerCase().includes(s)?1:0)-i}));return{results:o.slice(0,i),total:o.length}},getSimilarItems:(e={})=>{const{itemId:t,limit:i=10}=e,s=r.find((e=>e.id===t));if(!s)return[];return r.filter((e=>e.id!==t)).map((e=>{let t=0;e.category===s.category&&(t+=.4),e.brand===s.brand&&(t+=.2);t+=.2*(Math.min(e.price,s.price)/Math.max(e.price,s.price));const i=e.colors.filter((e=>s.colors.includes(e))).length;if(i>0&&(t+=i/e.colors.length*.1),e.patterns&&s.patterns){const i=e.patterns.filter((e=>{var t;return null===(t=s.patterns)||void 0===t?void 0:t.includes(e)})).length;i>0&&(t+=i/e.patterns.length*.1)}return Object.assign(Object.assign({},e),{matchScore:t})})).filter((e=>e.matchScore>.3)).sort(((e,t)=>t.matchScore-e.matchScore)).slice(0,i)},completeOutfit:(e={})=>{const{itemIds:t=[],userId:i="demo_user",occasion:s}=e;if(!t.length)return[];const o=r.filter((e=>t.includes(e.id)));if(!o.length)return[];const a=o.map((e=>e.category)),n=["Tops","Bottoms","Footwear"].filter((e=>!a.includes(e))),c=["Outerwear","Accessories","Bags","Jewelry"].filter((e=>!a.includes(e))),l=[];for(let d=0;d<3;d++){const e=[...o],i=[...a];for(const s of n){const o=r.filter((e=>e.category===s&&!t.includes(e.id))).sort((()=>.5-Math.random()));o.length&&(e.push(o[0]),i.push(s))}const u=c.sort((()=>.5-Math.random())).slice(0,2);for(const s of u){const o=r.filter((e=>e.category===s&&!t.includes(e.id))).sort((()=>.5-Math.random()));o.length&&(e.push(o[0]),i.push(s))}const m=s||"everyday",p=`${m.charAt(0).toUpperCase()+m.slice(1)} Outfit ${d+1}`,h=e.reduce(((e,t)=>e+t.matchScore),0)/e.length,f=["Completes your look with coordinated items",`Balanced outfit for ${m} occasions`,"Colors and styles complement each other"];l.push({id:`outfit_${Date.now()}_${d}`,name:p,occasion:m,items:e,matchScore:h,matchReasons:f})}return l}};const{userProfile:u}=s.jy,m={profiles:{demo_user:u,test_user:Object.assign(Object.assign({},u),{userId:"test_user",preferences:Object.assign(Object.assign({},u.preferences),{styles:["preppy","formal","classic"],brands:["ClassicCouture","PremiumBlends","ItalianCraft"]})})},savedOutfits:{demo_user:[],test_user:[]},itemFeedback:{demo_user:[],test_user:[]},outfitFeedback:{demo_user:[],test_user:[]}},p=e=>({userId:e,username:`user_${Math.random().toString(36).substring(2,8)}`,preferences:{stylePreferences:[{style:"casual",weight:.8},{style:"minimalist",weight:.7},{style:"contemporary",weight:.9}],colorPreferences:[{color:"black",weight:.9},{color:"navy",weight:.8},{color:"white",weight:.7},{color:"gray",weight:.6},{color:"blue",weight:.8}],sizePreferences:[{category:"top",size:"M"},{category:"bottom",size:"32"},{category:"dress",size:"10"},{category:"shoe",size:"9"}],sizes:{top:["M"],bottom:["32"],dress:["10"],shoe:["9"]},colors:["black","navy","white","gray","blue"],styles:["casual","minimalist","contemporary"],brands:["UrbanFlair","ModernEssentials","ClassicCouture"],occasions:["casual","work"],priceRanges:["BUDGET","MIDRANGE"]},history:{viewedItems:[],likedItems:[],dislikedItems:[],purchasedItems:[]},createdAt:new Date,lastActive:new Date});var h={getProfile:(e={})=>{const{params:t={},userId:i="demo_user"}=e,s=t.userId||i;if(m.profiles[s])return m.profiles[s];const r=p(s);return m.profiles[s]=r,r},updateProfile:(e={})=>{const{params:t={},userId:i="demo_user",body:s={}}=e,r=t.userId||i;let o=m.profiles[r]||p(r);return o=Object.assign(Object.assign(Object.assign({},o),s),{preferences:Object.assign(Object.assign({},o.preferences),s.preferences||{}),lastActive:new Date}),m.profiles[r]=o,o},getSavedOutfits:(e={})=>{const{params:t={},userId:i="demo_user"}=e,s=t.userId||i;return m.savedOutfits[s]||[]},saveOutfit:(e={})=>{const{params:t={},userId:i="demo_user",body:s={}}=e,r=t.userId||i,o={id:s.outfitId||`outfit_${Date.now()}`,userId:r,outfitId:s.outfitId||`outfit_${Date.now()}`,name:s.name||"My Outfit",items:s.items||[],notes:s.notes||"",savedAt:new Date,createdAt:new Date};return m.savedOutfits[r]||(m.savedOutfits[r]=[]),m.savedOutfits[r].push(o),o},deleteSavedOutfit:(e={})=>{const{params:t={},userId:i="demo_user"}=e,s=t.userId||i,r=t.outfitId;if(!r||!m.savedOutfits[s])return{success:!1};const o=m.savedOutfits[s].findIndex((e=>e.id===r));return-1===o?{success:!1}:(m.savedOutfits[s].splice(o,1),{success:!0})},addItemFeedback:(e={})=>{const{params:t={},userId:i="demo_user",body:s={}}=e,r=t.userId||i,o=t.itemId;if(!o)return{success:!1};const a={userId:r,itemId:o,liked:!0===s.liked,context:s.context||"general",timestamp:new Date};return m.itemFeedback[r]||(m.itemFeedback[r]=[]),m.itemFeedback[r].push(a),m.profiles[r]||(m.profiles[r]=p(r)),a.liked?m.profiles[r].history.likedItems.push(o):m.profiles[r].history.dislikedItems.push(o),{success:!0}},addOutfitFeedback:(e={})=>{const{params:t={},userId:i="demo_user",body:s={}}=e,r=t.userId||i,o=t.outfitId;if(!o)return{success:!1};const a={userId:r,outfitId:o,liked:!0===s.liked,context:s.context||"general",timestamp:new Date};return m.outfitFeedback[r]||(m.outfitFeedback[r]=[]),m.outfitFeedback[r].push(a),{success:!0}},logItemView:(e={})=>{const{params:t={},userId:i="demo_user"}=e,s=t.userId||i,r=t.itemId;return r?(m.profiles[s]||(m.profiles[s]=p(s)),m.profiles[s].history.viewedItems.push(r),{success:!0}):{success:!1}}};const f=[{id:"style_preferences",title:"Style Preferences",description:"Let's learn about your personal style preferences.",questions:[{id:"preferred_styles",type:"multiple_choice",question:"Which styles do you prefer?",required:!0,options:[{id:"casual",text:"Casual"},{id:"business",text:"Business"},{id:"formal",text:"Formal"},{id:"bohemian",text:"Bohemian"},{id:"sporty",text:"Sporty"},{id:"vintage",text:"Vintage"},{id:"minimalist",text:"Minimalist"},{id:"preppy",text:"Preppy"},{id:"street",text:"Street Style"},{id:"romantic",text:"Romantic"}]},{id:"color_preferences",type:"multiple_choice",question:"Which colors do you typically wear?",required:!0,options:[{id:"black",text:"Black"},{id:"white",text:"White"},{id:"navy",text:"Navy"},{id:"gray",text:"Gray"},{id:"beige",text:"Beige"},{id:"brown",text:"Brown"},{id:"red",text:"Red"},{id:"pink",text:"Pink"},{id:"blue",text:"Blue"},{id:"green",text:"Green"},{id:"yellow",text:"Yellow"},{id:"orange",text:"Orange"},{id:"purple",text:"Purple"}]},{id:"pattern_preferences",type:"multiple_choice",question:"Which patterns do you like?",required:!1,options:[{id:"solid",text:"Solid colors (no pattern)"},{id:"stripes",text:"Stripes"},{id:"plaid",text:"Plaid"},{id:"floral",text:"Floral"},{id:"geometric",text:"Geometric"},{id:"animal",text:"Animal print"},{id:"polka_dots",text:"Polka dots"},{id:"abstract",text:"Abstract"}]}]},{id:"body_type",title:"Body Type & Fit",description:"Help us understand your body type and fit preferences.",questions:[{id:"top_size",type:"single_choice",question:"What size do you typically wear for tops?",required:!0,options:[{id:"xs",text:"XS"},{id:"s",text:"S"},{id:"m",text:"M"},{id:"l",text:"L"},{id:"xl",text:"XL"},{id:"xxl",text:"XXL"}]},{id:"bottom_size",type:"single_choice",question:"What size do you typically wear for bottoms?",required:!0,options:[{id:"00",text:"00"},{id:"0",text:"0"},{id:"2",text:"2"},{id:"4",text:"4"},{id:"6",text:"6"},{id:"8",text:"8"},{id:"10",text:"10"},{id:"12",text:"12"},{id:"14",text:"14"},{id:"16",text:"16"},{id:"18",text:"18"}]},{id:"shoe_size",type:"single_choice",question:"What is your shoe size?",required:!0,options:[{id:"5",text:"5"},{id:"5.5",text:"5.5"},{id:"6",text:"6"},{id:"6.5",text:"6.5"},{id:"7",text:"7"},{id:"7.5",text:"7.5"},{id:"8",text:"8"},{id:"8.5",text:"8.5"},{id:"9",text:"9"},{id:"9.5",text:"9.5"},{id:"10",text:"10"},{id:"10.5",text:"10.5"},{id:"11",text:"11"}]},{id:"fit_preference",type:"single_choice",question:"How do you prefer your clothes to fit?",required:!0,options:[{id:"tight",text:"Tight/fitted"},{id:"semi_fitted",text:"Semi-fitted"},{id:"relaxed",text:"Relaxed"},{id:"loose",text:"Loose/oversized"}]}]},{id:"brand_preferences",title:"Brand & Price Preferences",description:"Tell us about your favorite brands and budget.",questions:[{id:"favorite_brands",type:"multiple_choice",question:"Which brands do you typically shop from?",required:!1,options:[{id:"luxe_style",text:"LuxeStyle"},{id:"urban_flair",text:"UrbanFlair"},{id:"eco_chic",text:"EcoChic"},{id:"modern_essentials",text:"ModernEssentials"},{id:"coastal_breeze",text:"CoastalBreeze"},{id:"nordic_minimal",text:"NordicMinimal"},{id:"vintage_revival",text:"VintageRevival"},{id:"metro_edge",text:"MetroEdge"},{id:"classic_couture",text:"ClassicCouture"},{id:"athletic_prime",text:"AthleticPrime"}]},{id:"price_range",type:"single_choice",question:"What is your typical budget for clothing items?",required:!0,options:[{id:"budget",text:"Budget ($0-$50)"},{id:"mid_range",text:"Mid-range ($50-$150)"},{id:"premium",text:"Premium ($150-$300)"},{id:"luxury",text:"Luxury ($300+)"}]},{id:"sustainability",type:"slider",question:"How important is sustainability in your clothing choices?",required:!1,minValue:1,maxValue:10,defaultValue:5}]},{id:"style_inspirations",title:"Style Inspirations",description:"Select celebrities or influencers whose style you admire.",questions:[{id:"celebrity_style",type:"image_choice",question:"Which celebrity styles do you admire?",required:!1,options:[{id:"emma_watson",text:"Emma Watson",imageUrl:"https://via.placeholder.com/200?text=Emma+Watson"},{id:"zendaya",text:"Zendaya",imageUrl:"https://via.placeholder.com/200?text=Zendaya"},{id:"timothee_chalamet",text:"Timoth\xe9e Chalamet",imageUrl:"https://via.placeholder.com/200?text=Timothee+Chalamet"},{id:"harry_styles",text:"Harry Styles",imageUrl:"https://via.placeholder.com/200?text=Harry+Styles"},{id:"rihanna",text:"Rihanna",imageUrl:"https://via.placeholder.com/200?text=Rihanna"},{id:"beyonce",text:"Beyonc\xe9",imageUrl:"https://via.placeholder.com/200?text=Beyonce"},{id:"taylor_swift",text:"Taylor Swift",imageUrl:"https://via.placeholder.com/200?text=Taylor+Swift"},{id:"bts",text:"BTS",imageUrl:"https://via.placeholder.com/200?text=BTS"}]},{id:"style_icons",type:"multiple_choice",question:"Which fashion eras or icons influence your style?",required:!1,options:[{id:"90s",text:"90s Fashion"},{id:"y2k",text:"Y2K (Early 2000s)"},{id:"70s",text:"70s Bohemian"},{id:"80s",text:"80s Bold"},{id:"50s",text:"50s Classic"},{id:"parisian",text:"Parisian Chic"},{id:"scandi",text:"Scandinavian Minimal"},{id:"streetwear",text:"Modern Streetwear"}]}]},{id:"occasion_preferences",title:"Occasions & Activities",description:"Tell us about your lifestyle and clothing needs.",questions:[{id:"common_occasions",type:"multiple_choice",question:"What occasions do you regularly dress for?",required:!0,options:[{id:"casual",text:"Casual everyday"},{id:"work",text:"Work/office"},{id:"formal",text:"Formal events"},{id:"evening",text:"Evening out"},{id:"athletic",text:"Athletic/workout"},{id:"outdoors",text:"Outdoor activities"},{id:"beach",text:"Beach/pool"},{id:"travel",text:"Travel"}]},{id:"activity_level",type:"slider",question:"How active is your lifestyle?",required:!1,minValue:1,maxValue:10,defaultValue:5},{id:"weather_conditions",type:"multiple_choice",question:"What weather conditions do you typically dress for?",required:!0,options:[{id:"hot",text:"Hot/summer"},{id:"mild",text:"Mild/spring-fall"},{id:"cold",text:"Cold/winter"},{id:"rainy",text:"Rainy/wet"},{id:"variable",text:"Variable/all seasons"}]}]}];var y={getQuestions:(e={})=>({sections:f}),getResults:(e={})=>{const{body:t={}}=e;return{styleProfile:[{primaryStyle:"Minimalist",secondaryStyle:"Contemporary",colorPalette:["black","white","gray","navy"],occasions:["work","casual","evening"],recommendations:{tops:["Classic white button-down","Relaxed black t-shirt","Sleek turtleneck"],bottoms:["Straight-leg jeans","Tailored trousers","A-line midi skirt"],dresses:["Simple shift dress","Sleeveless maxi dress"],outerwear:["Structured blazer","Classic trench coat"],accessories:["Leather tote bag","Minimalist watch","Simple gold hoops"]}},{primaryStyle:"Bohemian",secondaryStyle:"Vintage",colorPalette:["terracotta","mustard","olive","cream"],occasions:["casual","beach","travel"],recommendations:{tops:["Embroidered blouse","Flowy camisole","Off-shoulder top"],bottoms:["Wide-leg pants","Maxi skirt","Distressed denim"],dresses:["Floral maxi dress","Embroidered midi dress"],outerwear:["Fringed kimono","Denim jacket"],accessories:["Woven tote","Statement earrings","Layered necklaces"]}},{primaryStyle:"Classic",secondaryStyle:"Preppy",colorPalette:["navy","cream","burgundy","green"],occasions:["work","formal","evening"],recommendations:{tops:["Striped button-down","Cashmere sweater","Silk blouse"],bottoms:["Tailored chinos","Pencil skirt","Dark wash jeans"],dresses:["Wrap dress","Sheath dress"],outerwear:["Navy blazer","Wool peacoat"],accessories:["Leather satchel","Pearl earrings","Silk scarf"]}},{primaryStyle:"Streetwear",secondaryStyle:"Sporty",colorPalette:["black","white","red","gray"],occasions:["casual","athletic","evening"],recommendations:{tops:["Graphic tee","Hoodie","Crop top"],bottoms:["Track pants","High-waisted jeans","Joggers"],dresses:["T-shirt dress","Sporty mini dress"],outerwear:["Bomber jacket","Puffer coat"],accessories:["Backpack","Chunky sneakers","Baseball cap"]}},{primaryStyle:"Romantic",secondaryStyle:"Feminine",colorPalette:["blush","lavender","sky blue","cream"],occasions:["formal","evening","work"],recommendations:{tops:["Ruffled blouse","Lace camisole","Puff sleeve top"],bottoms:["Pleated skirt","Wide-leg trousers","Cigarette pants"],dresses:["Floral midi dress","Fit and flare dress"],outerwear:["Cropped cardigan","Pastel coat"],accessories:["Structured handbag","Delicate jewelry","Silk scarf"]}}][(new Date).getSeconds()%5]}}};const{socialProofItems:g,products:x}=s.jy;var b={getCelebrities:(e={})=>{const{limit:t=20,offset:i=0}=e,s=g.slice(i,i+t);return s.sort(((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime())),{items:s,total:g.length}},getOutfits:(e={})=>{const{celebrity:t="",limit:i=20,offset:s=0}=e;let r=[...g];t&&(r=r.filter((e=>e.celebrity.toLowerCase().includes(t.toLowerCase()))));return{items:r.slice(s,s+i),total:r.length}},getMatches:(e={})=>{const{itemId:t,imageUrl:i,colors:s=[],patterns:r=[],category:o="",limit:a=10}=e;let n=[];if(t){const e=x.find((e=>e.id===t));if(e)for(const t of g){const i=t.matchedProducts.find((t=>t.id===e.id||t.name.toLowerCase().includes(e.name.toLowerCase())));i&&n.push({id:i.id,celebrityName:t.celebrity||"Celebrity",event:t.event||"Event",imageUrl:i.imageUrl,matchedProducts:[{id:i.id,name:i.name,description:`${i.brand} ${i.name}`,price:i.price,brand:i.brand,category:i.category,imageUrl:i.imageUrl,matchScore:i.matchScore,matchReasons:i.matchReasons}],confidence:i.matchScore||.8,source:"social_proof",timestamp:t.timestamp||(new Date).toISOString()})}}let c=[];for(const l of g){const e=0===s.length||l.colors.some((e=>s.includes(e))),t=0===r.length||l.patterns.some((e=>r.includes(e))),i=!o||l.outfitTags.some((e=>e.toLowerCase().includes(o.toLowerCase())));if((e||t)&&i)for(const s of l.matchedProducts){let r=.5;e&&(r+=.2),t&&(r+=.2),i&&(r+=.1);const o=[`Similar to ${l.celebrity}'s style`,`Featured in ${l.event}`];e&&o.push("Matching color palette"),t&&o.push("Similar pattern"),c.push({id:s.id,celebrityName:l.celebrity||"Celebrity",event:l.event||"Event",imageUrl:s.imageUrl,matchedProducts:[{id:s.id,name:s.name,description:`${s.brand} ${s.name}`,price:s.price,brand:s.brand,category:s.category,imageUrl:s.imageUrl,matchScore:r,matchReasons:o.slice(0,3)}],confidence:r,source:"social_proof",timestamp:l.timestamp||(new Date).toISOString()})}}return c=c.filter(((e,t,i)=>t===i.findIndex((t=>t.id===e.id)))),c.sort(((e,t)=>t.matchScore-e.matchScore)),{exact:n.slice(0,a),similar:c.slice(0,a)}}},w=i(33994);const v={"/api/v1/recommendations":d.getRecommendations,"/api/v1/products":d.getProducts,"/api/v1/products/search":d.searchProducts,"/api/v1/similar-items":d.getSimilarItems,"/api/v1/complete-outfit":d.completeOutfit,"/api/v1/users/profile":h.getProfile,"/api/v1/users/outfits":h.getSavedOutfits,"/api/v1/users/feedback/items":h.addItemFeedback,"/api/v1/users/feedback/outfits":h.addOutfitFeedback,"/api/v1/quiz/questions":y.getQuestions,"/api/v1/quiz/results":y.getResults,"/api/v1/social/celebrities":b.getCelebrities,"/api/v1/social/outfits":b.getOutfits,"/api/v1/social/matches":b.getMatches},S=(e,t)=>{const i=e.split("/"),s=t.split("/"),r={};if(i.length!==s.length)return r;for(let o=0;o<i.length;o++){const e=i[o];if(e.startsWith(":")){r[e.slice(1)]=s[o]}}return r};function _(e,t={}){if(v[e])return v[e](t,e);for(const[i,s]of Object.entries(v)){if(i.includes(":")){if(new RegExp("^"+i.replace(/:[^/]+/g,"([^/]+)")+"$").test(e)){const r=S(i,e);return s(Object.assign(Object.assign({},t),{params:r}),e)}}if(e.startsWith(i)&&i.endsWith("*")){const r=i.slice(0,-1);if(e.startsWith(r))return s(t,e)}}return{data:{}}}function k(){if(w.WW)return!0;if(w.ee)return!0;try{return"demo"===localStorage.getItem("STYLIST_DATA_MODE")}catch(e){return!1}}function I(e){try{localStorage.setItem("STYLIST_DATA_MODE",e?"demo":"production")}catch(t){}}},62783:function(e,t,i){i.d(t,{HN:function(){return r},Q3:function(){return o}});var s=i(1206);const r=(e,t)=>{const{startNewTryOn:i}=s.j.getState();i(e,t)},o=()=>{const{openTryOnModal:e}=s.j.getState();e()}}}]);
//# sourceMappingURL=stylist-main-84781932.32ffe035c746d5d23dde.js.map